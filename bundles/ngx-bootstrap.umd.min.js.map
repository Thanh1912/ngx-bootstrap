{"version":3,"sources":["webpack://ngx-bootstrap.umd.min/webpack/universalModuleDefinition","webpack://ngx-bootstrap.umd.min/webpack/bootstrap","webpack://ngx-bootstrap.umd.min/external \"@angular/core\"","webpack://ngx-bootstrap.umd.min/external \"rxjs/operators\"","webpack://ngx-bootstrap.umd.min/external \"@angular/forms\"","webpack://ngx-bootstrap.umd.min/external \"@angular/common\"","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/date-from-array.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/zero-fill.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/type-checks.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/format/format.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/date-getters.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/parse/regex.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/parse/token.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/constants.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/priorities.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/aliases.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/year.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/parsing-flags.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/month.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/date-setters.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/clone.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/duration/valid.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/abs-ceil.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/duration/bubble.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/duration/humanize.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/duration/constructor.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/valid.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/from-string.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/millisecond.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/hour.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/day-of-month.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/offset.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/minute.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/week.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/week-year.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/format.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/defaults.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/from-array.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/check-overflow.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/quarter.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/second.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/timestamp.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/from-string-and-format.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/from-object.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/from-anything.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/from-string-and-array.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/create/local.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/abs-round.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/date-compare.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/duration/create.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/moment/add-subtract.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/day-of-week.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/start-end-of.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/day-of-year.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/units/week-calendar-utils.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/locale/locale.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/locale/calendar.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/locale/locale.defaults.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/utils/compare-arrays.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/locale/locales.ts","webpack://ngx-bootstrap.umd.min/./.tmp/utils/facade/browser.ts","webpack://ngx-bootstrap.umd.min/./.tmp/utils/theme-provider.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/date-formatter.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/datepicker-inner.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/datepicker.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/datepicker.config.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/daypicker.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/monthpicker.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/yearpicker.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/datepicker.module.ts","webpack://ngx-bootstrap.umd.min/./.tmp/utils/trigger.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/utils/triggers.ts","webpack://ngx-bootstrap.umd.min/./.tmp/component-loader/content-ref.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/component-loader/component-loader.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/component-loader/component-loader.factory.ts","webpack://ngx-bootstrap.umd.min/./.tmp/positioning/ng-positioning.ts","webpack://ngx-bootstrap.umd.min/./.tmp/positioning/positioning.service.ts","webpack://ngx-bootstrap.umd.min/./.tmp/utils/warn-once.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/bs-datepicker-input.directive.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/base/bs-datepicker-container.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/reducer/bs-datepicker.effects.ts","webpack://ngx-bootstrap.umd.min/./node_modules/tslib/tslib.es6.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/isFunction.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/config.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/hostReportError.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/Observer.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/isArray.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/isObject.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/errorObject.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/tryCatch.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/Subscription.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/Subscriber.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/symbol/observable.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/noop.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/pipe.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/Observable.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/toSubscriber.js","webpack://ngx-bootstrap.umd.min/./.tmp/mini-ngrx/store.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/bs-datepicker.config.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/reducer/bs-datepicker.state.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/reducer/_defaults.ts","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/SubjectSubscription.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/Subject.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/BehaviorSubject.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/scheduler/Action.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/Scheduler.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/scheduler/queue.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js","webpack://ngx-bootstrap.umd.min/./.tmp/mini-ngrx/state.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/reducer/bs-datepicker.actions.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/utils/bs-calendar-utils.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/utils/matrix-utils.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/engine/calc-days-calendar.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/engine/format-days-calendar.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/engine/format-months-calendar.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/engine/format-years-calendar.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/reducer/bs-datepicker.reducer.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/engine/flag-days-calendar.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/engine/flag-months-calendar.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/engine/flag-years-calendar.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/engine/view-mode.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/models/index.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/reducer/bs-datepicker.store.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-datepicker-container.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/bs-datepicker.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/bs-daterangepicker-input.directive.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-daterangepicker-container.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/bs-daterangepicker.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/bs-daterangepicker.config.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/bs-locale.service.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-calendar-layout.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-current-date-view.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-custom-dates-view.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-datepicker-day-decorator.directive.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-datepicker-navigation-view.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-days-calendar-view.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-months-calendar-view.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-timepicker-view.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/themes/bs/bs-years-calendar-view.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/datepicker/bs-datepicker.module.ts","webpack://ngx-bootstrap.umd.min/./.tmp/modal/bs-modal-ref.service.ts","webpack://ngx-bootstrap.umd.min/./.tmp/modal/modal-backdrop.options.ts","webpack://ngx-bootstrap.umd.min/./.tmp/modal/modal-options.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/modal/modal-container.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/utils/utils.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/modal/modal-backdrop.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/modal/modal.directive.ts","webpack://ngx-bootstrap.umd.min/./.tmp/modal/bs-modal.service.ts","webpack://ngx-bootstrap.umd.min/./.tmp/modal/modal.module.ts","webpack://ngx-bootstrap.umd.min/./.tmp/dropdown/bs-dropdown-container.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/dropdown/bs-dropdown.state.ts","webpack://ngx-bootstrap.umd.min/./.tmp/dropdown/bs-dropdown.directive.ts","webpack://ngx-bootstrap.umd.min/./.tmp/dropdown/bs-dropdown-menu.directive.ts","webpack://ngx-bootstrap.umd.min/./.tmp/dropdown/bs-dropdown-toggle.directive.ts","webpack://ngx-bootstrap.umd.min/./.tmp/dropdown/bs-dropdown.config.ts","webpack://ngx-bootstrap.umd.min/./.tmp/dropdown/bs-dropdown.module.ts","webpack://ngx-bootstrap.umd.min/./.tmp/pagination/pager.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/pagination/pagination.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/pagination/pagination.config.ts","webpack://ngx-bootstrap.umd.min/./.tmp/pagination/pagination.module.ts","webpack://ngx-bootstrap.umd.min/./.tmp/timepicker/timepicker.utils.ts","webpack://ngx-bootstrap.umd.min/./.tmp/timepicker/timepicker-controls.util.ts","webpack://ngx-bootstrap.umd.min/./.tmp/timepicker/timepicker.config.ts","webpack://ngx-bootstrap.umd.min/./.tmp/timepicker/reducer/timepicker.actions.ts","webpack://ngx-bootstrap.umd.min/./.tmp/timepicker/reducer/timepicker.reducer.ts","webpack://ngx-bootstrap.umd.min/./.tmp/timepicker/reducer/timepicker.store.ts","webpack://ngx-bootstrap.umd.min/./.tmp/timepicker/timepicker.component.ts","webpack://ngx-bootstrap.umd.min/./.tmp/timepicker/timepicker.module.ts","webpack://ngx-bootstrap.umd.min/./.tmp/typeahead/latin-map.ts","webpack://ngx-bootstrap.umd.min/./.tmp/typeahead/typeahead-options.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/typeahead/typeahead-match.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/typeahead/typeahead-utils.ts","webpack://ngx-bootstrap.umd.min/./.tmp/utils/decorators.ts","webpack://ngx-bootstrap.umd.min/./.tmp/utils/linked-list.class.ts","webpack://ngx-bootstrap.umd.min/./.tmp/typeahead/typeahead-container.component.ts","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/isPromise.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/isArrayLike.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/symbol/iterator.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/subscribeTo.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/observable/from.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/observable/fromObservable.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/observable/fromPromise.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/observable/fromArray.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/util/isIterable.js","webpack://ngx-bootstrap.umd.min/./node_modules/rxjs/_esm5/internal/observable/fromIterable.js","webpack://ngx-bootstrap.umd.min/./.tmp/typeahead/typeahead.directive.ts","webpack://ngx-bootstrap.umd.min/./.tmp/typeahead/typeahead.module.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/ar.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/cs.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/da.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/de.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/en-gb.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/es.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/es-do.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/es-us.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/fi.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/fr.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/hi.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/hu.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/id.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/it.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/ja.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/ko.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/mn.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/nl.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/nl-be.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/pl.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/pt-br.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/sv.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/ru.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/ro.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/zh-cn.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/tr.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/he.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/th.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/sl.ts","webpack://ngx-bootstrap.umd.min/./.tmp/chronos/i18n/gl.ts"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","createUTCDate","y","date","Date","UTC","apply","arguments","isFinite","getUTCFullYear","setUTCFullYear","createDate","h","M","ms","getFullYear","setFullYear","zeroFill","num","targetLength","forceSign","absNumber","Math","abs","zerosToFill","length","pow","max","toString","substr","absFloor","ceil","floor","isString","str","isDate","isDateValid","getTime","isNaN","isFunction","fn","Function","isNumber","isArray","input","Array","hasOwnProp","a","b","isObject","isUndefined","toInt","argumentForCoercion","coercedNumber","formatFunctions","formatTokenFunctions","formattingTokens","addFormatToken","token","padded","ordinal","callback","opts","locale","getHours","isUTC","getUTCHours","getMinutes","getUTCMinutes","getSeconds","getUTCSeconds","getMilliseconds","getUTCMilliseconds","getDay","getUTCDay","getDate","getUTCDate","getMonth","getUTCMonth","isSameMonth","date1","date2","isSameYear","isSameDay","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchShortOffset","matchWord","regexes","addRegexToken","regex","strictRegex","isStrict","getParseRegexForToken","RegExp","regexEscape","replace","matched","p1","p2","p3","p4","token_tokens","addParseToken","_token","func","array","config","addWeekParseToken","_w","addTimeToArrayFromToken","_a","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","priorities","addUnitPriority","unit","priority","aliases_aliases","_mapUnits","hour","minute","second","millisecond","addUnitAlias","shorthand","lowerCase","toLowerCase","_unit","normalizeUnits","units","undefined","getYear","parseTwoDigitYear","daysInYear","year","isLeapYear","getParsingFlags","_pf","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","month_daysInMonth","month","NaN","x","modMonth","parseInt","monthsShort","format","months","monthsShortRegex","monthsRegex","_locale","monthsParse","_strict","defaultTimeUnit","day","seconds","shiftDate","assign","min","getNum","def","setMonth","dayOfMonth","setUTCMonth","setDate","setUTCDate","cloneDate","ordering","orderingHash","reduce","mem","order","absCeil","number","daysToMonths","monthsToDays","round","thresholds","ss","constructor_Duration","Duration","duration","this","_data","getLocale","normalizedInput","years","quarters","quarter","weeks","week","days","hours","minutes","milliseconds","_isValid","keys","some","key","unitHasDecimal","isDurationValid","_milliseconds","_days","_months","dur","data","monthsFromDays","bubble","isValid","humanize","withSuffix","localeData","invalidDate","output","posNegDuration","withoutSuffix","createDuration","as","isFuture","relativeTime","pastFuture","postformat","localeKey","_abbr","mathAbs","_units","Error","valueOf","valid_isValid","flags","parsedParts","isNowValid","_d","invalidWeekday","bigHour","isFrozen","createInvalid","millisecond_token","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromISO","_i","allowTime","dateFormat","timeFormat","tzFormat","match","exec","_f","configFromStringAndFormat","extractFromRFC2822Strings","yearStr","monthStr","dayStr","hourStr","minuteStr","secondStr","result","untruncateYear","defaultLocaleMonthsShort","indexOf","push","configFromRFC2822","trim","markInvalid","parsedArray","weekdayStr","parsedInput","defaultLocaleWeekdaysShort","checkWeekday","_tzm","obsOffset","militaryOffset","numOffset","hm","calculateOffset","setUTCMinutes","hFormat","lowercase","matchMeridiem","_meridiemParse","_dayOfMonthOrdinalParse","_ordinalParse","kFormat","kInput","_isPm","isPM","_meridiem","pos","pos1","pos2","parseMs","parseFloat","addOffsetFormatToken","separator","offset","getUTCOffset","_isUTC","_offset","sign","_useUTC","offsetFromString","chunkOffset","matcher","matches","parts","_min","getDateOffset","getTimezoneOffset","getWeek","getISOWeek","weekOfYear","addWeekYearFormatToken","_getWeekYearFormatCb","getWeekYear","_getISOWeekYearFormatCb","getISOWeekYear","firstDayOfWeek","firstDayOfYear","formatDate","_format","expandFormat","formatArr","j","makeFormatFunction","formatMoment","localFormattingTokens","replaceLongDateFormatTokens","formatLongDate","lastIndex","test","defaults","configFromArray","currentDate","expectedWeekday","yearToUse","nowValue","currentDateArray","w","weekYear","weekday","dow","doy","temp","weekdayOverflow","GG","W","E","_week","curWeek","gg","e","weeksInYear","_overflowWeeks","_overflowWeekday","dayOfYearFromWeeks","_dayOfYear","dayOfYear","dayOfYearFromWeekInfo","_overflowDayOfYear","_nextDay","checkOverflow","getQuarter","unix","ISO_8601","RFC_2822","skipped","totalParsedInputLength","inputLength","tokens","slice","_hour","meridiemHour","isPm","meridiemFixWrap","configFromObject","inputObject","normalizedProp","prop","normalizeObjectUnits","map","obj","createFromConfig","res","_l","preparse","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromStringAndArray","configFromString","_arr","configFromInput","prepareConfig","createLocalOrUTC","strict","_input","getOwnPropertyNames","k","isObjectEmpty","parseDate","absRound","isAfter","startOf","isBefore","endOf","aspNetRegex","isoRegex","parseIso","diffRes","base","other","_other","offsetDiff","diff","setTime","cloneWithOffset","positiveMomentsDifference","momentsDifference","from","to","convertDuration","inp","add","val","period","addSubtract","isAdding","setDayOfWeek","_num","_weekDay","weekdaysParse","parseWeekday","getDayOfWeek","getLocaleDayOfWeek","getISODayOfWeek","setISODayOfWeek","parseIsoWeekday","_date","setUTCHours","setHours","setMinutes","setUTCSeconds","setSeconds","setUTCMilliseconds","setMilliseconds","setLocaleDayOfWeek","subtract","getDayOfYear","someDate","firstWeekOffset","fwd","resYear","resDayOfYear","resWeek","weekOffset","weekOffsetNext","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","MONTHS_IN_FORMAT","defaultLocaleMonths","split","defaultLocaleWeekdays","defaultLocaleWeekdaysMin","defaultLongDateFormat","LTS","LT","L","LL","LLL","LLLL","defaultMonthsShortRegex","defaultMonthsRegex","locale_class_Locale","Locale","set","confKey","_config","calendar","now","_calendar","sameElse","longDateFormat","_longDateFormat","formatUpper","toUpperCase","_invalidDate","_ordinal","_relativeTime","standalone","isFormat","_monthsShort","monthName","_monthsParseExact","handleMonthStrictParse","_monthsParse","_longMonthsParse","_shortMonthsParse","_shortMonths","computeMonthsParse","_monthsStrictRegex","_monthsRegex","_monthsShortStrictRegex","_monthsShortRegex","_weekdays","_key","_weekdaysMin","_weekdaysShort","weekdayName","_weekdaysParseExact","handleWeekStrictParse","_weekdaysParse","_minWeekdaysParse","_shortWeekdaysParse","_fullWeekdaysParse","computeWeekdaysParse","_weekdaysStrictRegex","_weekdaysRegex","_weekdaysShortStrictRegex","_weekdaysShortRegex","_weekdaysMinStrictRegex","_weekdaysMinRegex","charAt","isLower","ii","mom","llc","toLocaleLowerCase","shortPieces","longPieces","mixedPieces","sort","cmpLenRev","join","minPieces","minp","shortp","longp","baseConfig","sameDay","nextDay","nextWeek","lastDay","lastWeek","dayOfMonthOrdinalParse","future","past","mm","hh","dd","MM","yy","meridiemParse","compareArrays","array1","array2","dontConvert","len","lengthDiff","diffs","globalLocale","locales","localeFamilies","normalizeLocale","mergeConfigs","parentConfig","childConfig","parentProp","childProp","loadLocale","console","error","getSetGlobalLocale","values","defineLocale","abbr","parentLocale","forEach","names","next","chooseLocale","listLocales","guessedVersion","win","browser_document","document","location","setTheme","theme","isBs3","__theme","spanEl","createElement","innerText","body","appendChild","classList","rect","getBoundingClientRect","removeChild","top","_guessBsVersion","date_formatter_DateFormatter","DateFormatter","datepicker_inner_component_DatePickerInnerComponent","DatePickerInnerComponent","selectionDone","core_","update","activeDateChange","stepDay","stepMonth","stepYear","modes","dateFormatter","_activeDate","ngOnInit","uniqueId","random","initDate","activeDate","selectedDate","emit","ngOnChanges","changes","refreshView","checkIfActiveDateGotUpdated","firstChange","previousValue","currentValue","setCompareHandler","handler","type","compareHandlerDay","compareHandlerMonth","compareHandlerYear","compare","datepickerMode","setRefreshViewHandler","refreshViewHandlerDay","refreshViewHandlerMonth","refreshViewHandlerYear","dateFilter","isActive","dateObject","activeDateId","uid","createDateObject","fixTimeZone","label","selected","disabled","isDisabled","current","customClass","getCustomClassForDate","arr","size","arrays","splice","select","isManual","minMode","move","direction","expectedStep","toggleMode","_direction","maxMode","_this","customClassObject","find","mode","clazz","compareDateDisabled","date1Disabled","isDateDisabled","dateDisabled","disabledDate","dayDisabled","minDate","maxDate","__decorate","selector","template","DATEPICKER_CONTROL_VALUE_ACCESSOR","provide","forms_","useExisting","datepicker_component_DatePickerComponent","multi","DatePickerComponent","showWeeks","onChange","onTouched","_now","configureOptions","onUpdate","event","onSelectionDone","onActiveDateChange","writeValue","_datePicker","registerOnChange","registerOnTouched","datepicker_component_decorate","providers","datepicker_config_DatepickerConfig","DatepickerConfig","startingDay","yearRange","formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","onlyCurrentMonth","monthColLimit","yearColLimit","shortcutPropagation","datepicker_config_decorate","daypicker_component_DayPickerComponent","DayPickerComponent","datePicker","labels","rows","weekNumbers","self","firstDayOfMonth","difference","numDisplayedFromPreviousMonth","firstDate","getDates","_dateObject","secondary","full","title","thursdayIndex","numWeeks","getISO8601WeekNumber","d1","d2","startDate","dates","checkDate","time","daypicker_component_decorate","styles","monthpicker_component_MonthPickerComponent","MonthPickerComponent","monthpicker_component_decorate","yearpicker_component_YearPickerComponent","YearPickerComponent","start","getStartingYear","yearpicker_component_decorate","datepicker_module_DatepickerModule","DatepickerModule","forRoot","ngModule","DatepickerModule_1","datepicker_module_decorate","imports","common_","declarations","entryComponents","Trigger","open","close","DEFAULT_ALIASES","hover","focus","parseTriggers","triggers","aliases","trimmedTriggers","parsedTriggers","trigger","triggerPair","alias","manualTriggers","filter","ContentRef","nodes","viewRef","componentRef","component_loader_class_ComponentLoader","ComponentLoader","_viewContainerRef","_renderer","_elementRef","_injector","_componentFactoryResolver","_ngZone","_applicationRef","_posService","onBeforeShow","onShown","onBeforeHide","onHidden","_providers","_isHiding","_listenOpts","_globalListener","_componentRef","attach","compType","_componentFactory","resolveComponentFactory","container","position","attachment","target","provider","show","_subscribePositioning","_innerComponent","_contentRef","_getContentRef","content","context","initialState","injector","resolveAndCreate","create","attachView","hostView","instance","nativeElement","querySelector","parentElement","changeDetectorRef","markForCheck","detectChanges","_registerOutsideClick","hide","componentEl","parentNode","destroy","remove","_removeGlobalListener","toggle","isShown","dispose","_unsubscribePositioning","_unregisterListenersFn","listen","listenOpts","outsideClick","registerHide","renderer","options","listeners","_registerHide","useToggle","showFn","unsubscribeFn","listenToTriggersV2","attachInline","vRef","_inlineViewRef","createEmbeddedView","target_1","setTimeout","targets","contains","getInnerComponent","_zoneSubscription","onStable","subscribe","element","appendToBody","unsubscribe","_viewRef","rootNodes","contentCmptFactory","modalContentInjector","createText","component_loader_factory_ComponentLoaderFactory","ComponentLoaderFactory","createLoader","component_loader_factory_decorate","Positioning","elPosition","parentOffset","width","height","bottom","left","right","getStyle","bcRect","offsetParentEl","offsetParent","documentElement","clientTop","clientLeft","elBcr","viewportOffset","pageYOffset","pageXOffset","elOffset","offsetHeight","offsetWidth","positionElements","hostElement","targetElement","placement","hostElPosition","targetElStyles","getAllStyles","shiftWidth","center","shiftHeight","targetElBCR","placementPrimary","placementSecondary","targetElPosition","newPlacementPrimary","autoPosition","marginBottom","marginRight","preferredPosition","innerHeight","innerWidth","getComputedStyle","isStaticPositioned","positionService","style","positioning_service_PositioningService","PositioningService","_getHtmlElement","positioning_service_decorate","_messagesHash","_hideMsg","BS_DATEPICKER_VALUE_ACCESSOR","bs_datepicker_input_directive_BsDatepickerInputDirective","BS_DATEPICKER_VALIDATOR","BsDatepickerInputDirective","_picker","_localeService","_elRef","changeDetection","_onChange","_onTouched","_validatorChange","bsValueChange","_setInputValue","_value","localeChange","initialDate","dateInputFormat","currentLocale","setProperty","validate","bsDate","invalid","registerOnValidatorChange","_localeKey","bsValue","setDisabledState","setAttribute","removeAttribute","onBlur","bs_datepicker_input_directive_decorate","host","(change)","(keyup.esc)","(blur)","__param","BsDatepickerAbstractComponent","_customRangesFish","_effects","setMinDate","setMaxDate","setDisabled","setViewMode","navigateTo","dayHoverHandler","monthHoverHandler","yearHoverHandler","daySelectHandler","monthSelectHandler","yearSelectHandler","_stopPropagation","stopPropagation","bs_datepicker_effects_BsDatepickerEffects","BsDatepickerEffects","_actions","_subs","init","_bsDatepickerStore","_store","setValue","dispatch","setRangeValue","selectRange","setOptions","_options","setBindings","daysCalendar","state","flaggedMonths","pipe","operators_","monthsCalendar","flaggedMonthsCalendar","yearsCalendar","yearsCalendarFlagged","viewMode","view","showWeekNumbers","setEventHandlers","changeViewMode","navigateStep","step","_cell","cell","isOtherMonth","hoverDay","isHovered","registerDatepickerSideEffects","calculate","monthsModel","monthModel","formattedMonths","flag","selectedRange","yearsCalendarModel","hoveredDate","setLocale","bs_datepicker_effects_decorate","extendStatics","setPrototypeOf","__proto__","__extends","__","constructor","isFunction_isFunction","_enable_super_gross_mode_that_will_cause_bad_things","config_config","Promise","useDeprecatedSynchronousErrorHandling","stack","hostReportError","err","closed","complete","isArray_isArray","isObject_isObject","tryCatchTarget","errorObject","tryCatcher","tryCatch","UnsubscriptionError_UnsubscriptionError","_super","UnsubscriptionError","errors","Subscription_Subscription","Subscription","_parent","_parents","_subscriptions","_unsubscribe","hasErrors","index","flattenUnsubscriptionErrors","sub","concat","teardown","EMPTY","subscription","_addParent","tmp","subscriptions","subscriptionIndex","parent","errs","rxSubscriber","Symbol","for","Subscriber_Subscriber","Subscriber","destinationOrNext","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","trustedSubscriber","Subscriber_SafeSubscriber","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","SafeSubscriber","_parentSubscriber","observerOrNext","bind","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","observable_observable","observable","noop","pipeFromArray","fns","prev","Observable_Observable","Observable","_isScalar","_subscribe","lift","operator","source","sink","nextOrObserver","toSubscriber","_trySubscribe","promiseCtor","getPromiseCtor","resolve","reject","operations","toPromise","store_class_MiniStore","MiniStore","_dispatcher","_reducer","state$","store_class_extends","pathOrMapFn","store","action","bs_datepicker_config_BsDatepickerConfig","BsDatepickerConfig","containerClass","displayMonths","rangeSeparator","rangeInputFormat","monthTitle","yearTitle","dayLabel","monthLabel","yearLabel","bs_datepicker_config_decorate","_initialView","initialDatepickerState","monthViewOptions","ObjectUnsubscribedError_ObjectUnsubscribedError","ObjectUnsubscribedError","SubjectSubscription_SubjectSubscription","SubjectSubscription","subject","observers","subscriberIndex","Subject_SubjectSubscriber","SubjectSubscriber","Subject_Subject","Subject","hasError","thrownError","Subject_AnonymousSubject","copy","asObservable","AnonymousSubject","BehaviorSubject_BehaviorSubject","BehaviorSubject","getValue","QueueAction_QueueAction","QueueAction","scheduler","work","schedule","delay","flush","execute","_execute","requestAsyncId","id","AsyncAction","pending","recycleAsyncId","setInterval","clearInterval","errored","errorValue","actions","Action","Scheduler","SchedulerAction","queue","QueueScheduler","AsyncScheduler","delegate","active","scheduled","shift","state_class_MiniState","MiniState","_initialState","actionsDispatcher$","reducer","state_class_extends","bs_datepicker_actions_BsDatepickerActions","BsDatepickerActions","BsDatepickerActions_1","CALCULATE","FORMAT","FLAG","SELECT","payload","CHANGE_VIEWMODE","NAVIGATE_TO","NAVIGATE_OFFSET","SET_OPTIONS","SELECT_RANGE","HOVER","SET_MIN_DATE","SET_MAX_DATE","SET_IS_DISABLED","SET_LOCALE","bs_datepicker_actions_decorate","isMonthDisabled","minBound","maxBound","isYearDisabled","createMatrix","prevValue","matrix","calcDaysCalendar","startingDate","firstDay","isFirstDayOfWeek","startingDayOffset","calculateDateOffset","getStartingDayOfCalendar","daysMatrix","formatDaysCalendar","formatOptions","monthIndex","getShiftedWeekdays","weekIndex","dayIndex","format_months_calendar_height","formatMonthsCalendar","viewDate","format_years_calendar_height","format_years_calendar_width","yearsPerCalendar","initialShift","format_years_calendar_shift","formatYearsCalendar","yearsMatrix","formatYearRangeTitle","bsDatepickerReducer","calendarIndex","getFormatOptions","calculateReducer","formatReducer","formattedMonth","isSelectionStart","isSelectionEnd","isSelected","isInRange","newDay","hideLeftArrow","hideRightArrow","disableLeftArrow","disableRightArrow","flagDaysCalendar","monthCalendar","hoveredMonth","rowIndex","newMonth","yearIndex","hoveredYear","flagYearsCalendar","flagReducer","newState","setFullDate","getViewDate","BsNavigationDirection","bs_datepicker_store_BsDatepickerStore","BsDatepickerStore","bs_datepicker_store_extends","bs_datepicker_store_decorate","bs_datepicker_container_component_BsDatepickerContainerComponent","BsDatepickerContainerComponent","valueChange","bs_datepicker_container_component_extends","ngOnDestroy","bs_datepicker_container_component_decorate","(click)","role","aria-label","bs_datepicker_component_BsDatepickerDirective","BsDatepickerDirective","cis","_datepicker","_bsValue","setConfig","_datepickerRef","useValue","isOpen","bsConfig","bs_datepicker_component_decorate","exportAs","BS_DATERANGEPICKER_VALUE_ACCESSOR","bs_daterangepicker_input_directive_BsDaterangepickerInputDirective","BS_DATERANGEPICKER_VALIDATOR","BsDaterangepickerInputDirective","range","end","_val","bs_daterangepicker_input_directive_decorate","bs_daterangepicker_input_directive_param","bs_daterangepicker_container_component_BsDaterangepickerContainerComponent","BsDaterangepickerContainerComponent","_rangeStack","bs_daterangepicker_container_component_extends","bs_daterangepicker_container_component_decorate","bs_daterangepicker_component_BsDaterangepickerDirective","BsDaterangepickerDirective","bs_daterangepicker_component_decorate","bs_daterangepicker_config_BsDaterangepickerConfig","BsDaterangepickerConfig","bs_daterangepicker_config_extends","bs_daterangepicker_config_decorate","bs_locale_service_BsLocaleService","BsLocaleService","_defaultLocale","_localeChange","use","bs_locale_service_decorate","bs_calendar_layout_component_BsCalendarLayoutComponent","BsCalendarLayoutComponent","bs_calendar_layout_component_decorate","bs_current_date_view_component_BsCurrentDateViewComponent","BsCurrentDateViewComponent","bs_current_date_view_component_decorate","bs_custom_dates_view_component_BsCustomDatesViewComponent","BsCustomDatesViewComponent","bs_custom_dates_view_component_decorate","OnPush","bs_datepicker_day_decorator_directive_BsDatepickerDayDecoratorComponent","BsDatepickerDayDecoratorComponent","bs_datepicker_day_decorator_directive_decorate","[class.disabled]","[class.is-highlighted]","[class.is-other-month]","[class.in-range]","[class.select-start]","[class.select-end]","[class.selected]","bs_datepicker_navigation_view_component_BsDatepickerNavigationViewComponent","BsDatepickerNavigationViewComponent","onNavigate","onViewMode","navTo","down","DOWN","UP","bs_datepicker_navigation_view_component_decorate","bs_days_calendar_view_component_BsDaysCalendarViewComponent","BsDaysCalendarViewComponent","onSelect","onHover","selectDay","bs_days_calendar_view_component_decorate","bs_months_calendar_view_component_BsMonthCalendarViewComponent","BsMonthCalendarViewComponent","viewMonth","hoverMonth","bs_months_calendar_view_component_decorate","bs_timepicker_view_component_BsTimepickerViewComponent","BsTimepickerViewComponent","ampm","bs_timepicker_view_component_decorate","bs_years_calendar_view_component_BsYearsCalendarViewComponent","BsYearsCalendarViewComponent","viewYear","hoverYear","bs_years_calendar_view_component_decorate","_exports","bs_datepicker_module_BsDatepickerModule","BsDatepickerModule","msg","warn","BsDatepickerModule_1","bs_datepicker_module_decorate","bs_modal_ref_service_BsModalRef","BsModalRef","bs_modal_ref_service_decorate","ModalBackdropOptions","animate","modal_options_class_ModalOptions","ModalOptions","modal_options_class_decorate","modalConfigDefaults","backdrop","keyboard","ignoreBackdropClick","class","animated","CLASS_NAME","TRANSITION_DURATIONS","DISMISS_REASONS","modal_container_component_ModalContainerComponent","ModalContainerComponent","_element","isModalHiding","isAnimated","addClass","setStyle","bsModalService","getModalsCount","checkScrollbar","setScrollbar","onClick","setDismissReason","onEsc","keyCode","preventDefault","level","removeClass","modal_container_component_decorate","tabindex","[attr.aria-modal]","utils_class_Utils","Utils","reflow","getStyles","elem","ownerDocument","defaultView","opener","modal_backdrop_component_ModalBackdropComponent","ModalBackdropComponent","_isShown","_isAnimated","modal_backdrop_component_decorate","modal_directive_ModalDirective","ModalDirective","clf","onShow","onHide","isBodyOverflowing","originalBodyPadding","scrollbarWidth","timerHideModal","timerRmBackDrop","isNested","_backdrop","conf","getConfig","dismissReason","hideModal","clearTimeout","showBackdrop","showElement","nodeType","Node","ELEMENT_NODE","transitionComplete","resetScrollbar","resetAdjustments","focusOtherModal","callbackRemove","removeBackdrop","otherOpenedModals","querySelectorAll","clientWidth","getScrollbarWidth","getPropertyValue","paddingRight","scrollDiv","modal_directive_decorate","bs_modal_service_BsModalService","BsModalService","rendererFactory","modalsCount","lastDismissReason","loaders","_backdropLoader","createRenderer","_createLoaders","_showBackdrop","_showModal","_hideBackdrop","_hideModal","removeLoaders","isBackdropEnabled","isBackdropInDOM","backdropRef","modalLoader","bsModalRef","modalContainerRef","reason","loader","copyEvent","bs_modal_service_decorate","modal_module_ModalModule","ModalModule","ModalModule_1","modal_module_decorate","bs_dropdown_container_component_BsDropdownContainerComponent","BsDropdownContainerComponent","_state","cd","_subscription","isOpenChange","dropdown","bs_dropdown_container_component_decorate","bs_dropdown_state_BsDropdownState","BsDropdownState","isDisabledChange","toggleClick","dropdownMenu","resolveDropdownMenu","bs_dropdown_state_decorate","bs_dropdown_directive_BsDropdownDirective","BsDropdownDirective","_cis","_isInlineOpen","_isInited","autoClose","_dropdown","_isDisabled","_showInline","_inlinedMenu","then","viewContainer","templateRef","addBs4Polyfills","catch","_dropup","dropup","_placement","removeShowClass","removeDropupStyles","addShowClass","checkRightAlignment","addDropupStyles","isRightAligned","removeStyle","bs_dropdown_directive_decorate","[class.dropup]","[class.open]","[class.show]","bs_dropdown_menu_directive_BsDropdownMenuDirective","BsDropdownMenuDirective","_viewContainer","_templateRef","bs_dropdown_menu_directive_decorate","bs_dropdown_toggle_directive_BsDropdownToggleDirective","BsDropdownToggleDirective","onDocumentClick","button","bs_dropdown_toggle_directive_decorate","[attr.aria-haspopup]","bs_dropdown_config_BsDropdownConfig","BsDropdownConfig","bs_dropdown_config_decorate","bs_dropdown_module_BsDropdownModule","BsDropdownModule","BsDropdownModule_1","bs_dropdown_module_decorate","PAGER_CONTROL_VALUE_ACCESSOR","pager_component_PagerComponent","PagerComponent","elementRef","paginationConfig","numPages","pageChanged","inited","_page","main","pager","_itemsPerPage","v","totalPages","calculateTotalPages","_totalItems","_totalPages","selectPage","page","_previous","itemsPerPage","classMap","getAttribute","maxSize","rotate","boundaryLinks","directionLinks","pageBtnClass","pages","getPages","getText","noPrevious","noNext","blur","makePage","text","currentPage","startPage","endPage","isMaxSized","previousPageSet","unshift","nextPageSet","totalItems","pager_component_decorate","PAGINATION_CONTROL_VALUE_ACCESSOR","pagination_component_PaginationComponent","PaginationComponent","pagination_component_decorate","pagination_config_PaginationConfig","PaginationConfig","firstText","previousText","nextText","lastText","align","pagination_config_decorate","pagination_module_PaginationModule","PaginationModule","PaginationModule_1","pagination_module_decorate","dex","hoursPerDay","timepicker_utils_hoursPerDayHalf","minutesPerHour","secondsPerMinute","isValidDate","isValidLimit","controls","newDate","toNumber","parseHours","parseMinutes","parseSeconds","parseTime","changeTime","timepicker_utils_createDate","padNumber","isHourInputValid","isMinuteInputValid","isSecondInputValid","isInputValid","canChangeValue","readonlyInput","mousewheel","arrowkeys","getControlsValue","hourStep","minuteStep","secondsStep","showSpinners","showMeridian","showSeconds","meridians","timepicker_config_TimepickerConfig","TimepickerConfig","showMinutes","timepicker_config_decorate","timepicker_actions_TimepickerActions","TimepickerActions","TimepickerActions_1","WRITE_VALUE","changeHours","CHANGE_HOURS","changeMinutes","CHANGE_MINUTES","changeSeconds","CHANGE_SECONDS","SET_TIME_UNIT","updateControls","UPDATE_CONTROLS","timepicker_actions_decorate","timepicker_reducer_initialState","canIncrementHours","canIncrementMinutes","canIncrementSeconds","canDecrementHours","canDecrementMinutes","canDecrementSeconds","canToggleMeridian","timepickerReducer","_newTime","canChangeMinutes","canChangeSeconds","_newControlsState","_newHour","_newMinutes","_newSeconds","timepickerControls","_newState","timepicker_store_TimepickerStore","TimepickerStore","timepicker_store_extends","timepicker_store_decorate","TIMEPICKER_CONTROL_VALUE_ACCESSOR","timepicker_component_TimepickerComponent","TimepickerComponent","_cd","_timepickerActions","invalidHours","invalidMinutes","invalidSeconds","timepickerSub","_renderTime","controlsState","resetValidation","meridian","prevDef","$event","wheelSign","deltaY","updateHours","_updateTime","updateMinutes","updateSeconds","_seconds","_minutes","toggleMeridian","isEditable","_hours","timepicker_component_decorate","encapsulation","None","timepicker_module_TimepickerModule","TimepickerModule","TimepickerModule_1","timepicker_module_decorate","latinMap","Á","Ă","Ắ","Ặ","Ằ","Ẳ","Ẵ","Ǎ","Â","Ấ","Ậ","Ầ","Ẩ","Ẫ","Ä","Ǟ","Ȧ","Ǡ","Ạ","Ȁ","À","Ả","Ȃ","Ā","Ą","Å","Ǻ","Ḁ","Ⱥ","Ã","Ꜳ","Æ","Ǽ","Ǣ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ḃ","Ḅ","Ɓ","Ḇ","Ƀ","Ƃ","Ć","Č","Ç","Ḉ","Ĉ","Ċ","Ƈ","Ȼ","Ď","Ḑ","Ḓ","Ḋ","Ḍ","Ɗ","Ḏ","ǲ","ǅ","Đ","Ƌ","Ǳ","Ǆ","É","Ĕ","Ě","Ȩ","Ḝ","Ê","Ế","Ệ","Ề","Ể","Ễ","Ḙ","Ë","Ė","Ẹ","Ȅ","È","Ẻ","Ȇ","Ē","Ḗ","Ḕ","Ę","Ɇ","Ẽ","Ḛ","Ꝫ","Ḟ","Ƒ","Ǵ","Ğ","Ǧ","Ģ","Ĝ","Ġ","Ɠ","Ḡ","Ǥ","Ḫ","Ȟ","Ḩ","Ĥ","Ⱨ","Ḧ","Ḣ","Ḥ","Ħ","Í","Ĭ","Ǐ","Î","Ï","Ḯ","İ","Ị","Ȉ","Ì","Ỉ","Ȋ","Ī","Į","Ɨ","Ĩ","Ḭ","Ꝺ","Ꝼ","Ᵹ","Ꞃ","Ꞅ","Ꞇ","Ꝭ","Ĵ","Ɉ","Ḱ","Ǩ","Ķ","Ⱪ","Ꝃ","Ḳ","Ƙ","Ḵ","Ꝁ","Ꝅ","Ĺ","Ƚ","Ľ","Ļ","Ḽ","Ḷ","Ḹ","Ⱡ","Ꝉ","Ḻ","Ŀ","Ɫ","ǈ","Ł","Ǉ","Ḿ","Ṁ","Ṃ","Ɱ","Ń","Ň","Ņ","Ṋ","Ṅ","Ṇ","Ǹ","Ɲ","Ṉ","Ƞ","ǋ","Ñ","Ǌ","Ó","Ŏ","Ǒ","Ô","Ố","Ộ","Ồ","Ổ","Ỗ","Ö","Ȫ","Ȯ","Ȱ","Ọ","Ő","Ȍ","Ò","Ỏ","Ơ","Ớ","Ợ","Ờ","Ở","Ỡ","Ȏ","Ꝋ","Ꝍ","Ō","Ṓ","Ṑ","Ɵ","Ǫ","Ǭ","Ø","Ǿ","Õ","Ṍ","Ṏ","Ȭ","Ƣ","Ꝏ","Ɛ","Ɔ","Ȣ","Ṕ","Ṗ","Ꝓ","Ƥ","Ꝕ","Ᵽ","Ꝑ","Ꝙ","Ꝗ","Ŕ","Ř","Ŗ","Ṙ","Ṛ","Ṝ","Ȑ","Ȓ","Ṟ","Ɍ","Ɽ","Ꜿ","Ǝ","Ś","Ṥ","Š","Ṧ","Ş","Ŝ","Ș","Ṡ","Ṣ","Ṩ","Ť","Ţ","Ṱ","Ț","Ⱦ","Ṫ","Ṭ","Ƭ","Ṯ","Ʈ","Ŧ","Ɐ","Ꞁ","Ɯ","Ʌ","Ꜩ","Ú","Ŭ","Ǔ","Û","Ṷ","Ü","Ǘ","Ǚ","Ǜ","Ǖ","Ṳ","Ụ","Ű","Ȕ","Ù","Ủ","Ư","Ứ","Ự","Ừ","Ử","Ữ","Ȗ","Ū","Ṻ","Ų","Ů","Ũ","Ṹ","Ṵ","Ꝟ","Ṿ","Ʋ","Ṽ","Ꝡ","Ẃ","Ŵ","Ẅ","Ẇ","Ẉ","Ẁ","Ⱳ","Ẍ","Ẋ","Ý","Ŷ","Ÿ","Ẏ","Ỵ","Ỳ","Ƴ","Ỷ","Ỿ","Ȳ","Ɏ","Ỹ","Ź","Ž","Ẑ","Ⱬ","Ż","Ẓ","Ȥ","Ẕ","Ƶ","Ĳ","Œ","ᴀ","ᴁ","ʙ","ᴃ","ᴄ","ᴅ","ᴇ","ꜰ","ɢ","ʛ","ʜ","ɪ","ʁ","ᴊ","ᴋ","ʟ","ᴌ","ᴍ","ɴ","ᴏ","ɶ","ᴐ","ᴕ","ᴘ","ʀ","ᴎ","ᴙ","ꜱ","ᴛ","ⱻ","ᴚ","ᴜ","ᴠ","ᴡ","ʏ","ᴢ","á","ă","ắ","ặ","ằ","ẳ","ẵ","ǎ","â","ấ","ậ","ầ","ẩ","ẫ","ä","ǟ","ȧ","ǡ","ạ","ȁ","à","ả","ȃ","ā","ą","ᶏ","ẚ","å","ǻ","ḁ","ⱥ","ã","ꜳ","æ","ǽ","ǣ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ḃ","ḅ","ɓ","ḇ","ᵬ","ᶀ","ƀ","ƃ","ɵ","ć","č","ç","ḉ","ĉ","ɕ","ċ","ƈ","ȼ","ď","ḑ","ḓ","ȡ","ḋ","ḍ","ɗ","ᶑ","ḏ","ᵭ","ᶁ","đ","ɖ","ƌ","ı","ȷ","ɟ","ʄ","ǳ","ǆ","é","ĕ","ě","ȩ","ḝ","ê","ế","ệ","ề","ể","ễ","ḙ","ë","ė","ẹ","ȅ","è","ẻ","ȇ","ē","ḗ","ḕ","ⱸ","ę","ᶒ","ɇ","ẽ","ḛ","ꝫ","ḟ","ƒ","ᵮ","ᶂ","ǵ","ğ","ǧ","ģ","ĝ","ġ","ɠ","ḡ","ᶃ","ǥ","ḫ","ȟ","ḩ","ĥ","ⱨ","ḧ","ḣ","ḥ","ɦ","ẖ","ħ","ƕ","í","ĭ","ǐ","î","ï","ḯ","ị","ȉ","ì","ỉ","ȋ","ī","į","ᶖ","ɨ","ĩ","ḭ","ꝺ","ꝼ","ᵹ","ꞃ","ꞅ","ꞇ","ꝭ","ǰ","ĵ","ʝ","ɉ","ḱ","ǩ","ķ","ⱪ","ꝃ","ḳ","ƙ","ḵ","ᶄ","ꝁ","ꝅ","ĺ","ƚ","ɬ","ľ","ļ","ḽ","ȴ","ḷ","ḹ","ⱡ","ꝉ","ḻ","ŀ","ɫ","ᶅ","ɭ","ł","ǉ","ſ","ẜ","ẛ","ẝ","ḿ","ṁ","ṃ","ɱ","ᵯ","ᶆ","ń","ň","ņ","ṋ","ȵ","ṅ","ṇ","ǹ","ɲ","ṉ","ƞ","ᵰ","ᶇ","ɳ","ñ","ǌ","ó","ŏ","ǒ","ô","ố","ộ","ồ","ổ","ỗ","ö","ȫ","ȯ","ȱ","ọ","ő","ȍ","ò","ỏ","ơ","ớ","ợ","ờ","ở","ỡ","ȏ","ꝋ","ꝍ","ⱺ","ō","ṓ","ṑ","ǫ","ǭ","ø","ǿ","õ","ṍ","ṏ","ȭ","ƣ","ꝏ","ɛ","ᶓ","ɔ","ᶗ","ȣ","ṕ","ṗ","ꝓ","ƥ","ᵱ","ᶈ","ꝕ","ᵽ","ꝑ","ꝙ","ʠ","ɋ","ꝗ","ŕ","ř","ŗ","ṙ","ṛ","ṝ","ȑ","ɾ","ᵳ","ȓ","ṟ","ɼ","ᵲ","ᶉ","ɍ","ɽ","ↄ","ꜿ","ɘ","ɿ","ś","ṥ","š","ṧ","ş","ŝ","ș","ṡ","ṣ","ṩ","ʂ","ᵴ","ᶊ","ȿ","ɡ","ᴑ","ᴓ","ᴝ","ť","ţ","ṱ","ț","ȶ","ẗ","ⱦ","ṫ","ṭ","ƭ","ṯ","ᵵ","ƫ","ʈ","ŧ","ᵺ","ɐ","ᴂ","ǝ","ᵷ","ɥ","ʮ","ʯ","ᴉ","ʞ","ꞁ","ɯ","ɰ","ᴔ","ɹ","ɻ","ɺ","ⱹ","ʇ","ʌ","ʍ","ʎ","ꜩ","ú","ŭ","ǔ","û","ṷ","ü","ǘ","ǚ","ǜ","ǖ","ṳ","ụ","ű","ȕ","ù","ủ","ư","ứ","ự","ừ","ử","ữ","ȗ","ū","ṻ","ų","ᶙ","ů","ũ","ṹ","ṵ","ᵫ","ꝸ","ⱴ","ꝟ","ṿ","ʋ","ᶌ","ⱱ","ṽ","ꝡ","ẃ","ŵ","ẅ","ẇ","ẉ","ẁ","ⱳ","ẘ","ẍ","ẋ","ᶍ","ý","ŷ","ÿ","ẏ","ỵ","ỳ","ƴ","ỷ","ỿ","ȳ","ẙ","ɏ","ỹ","ź","ž","ẑ","ʑ","ⱬ","ż","ẓ","ȥ","ẕ","ᵶ","ᶎ","ʐ","ƶ","ɀ","ﬀ","ﬃ","ﬄ","ﬁ","ﬂ","ĳ","œ","ﬆ","ₐ","ₑ","ᵢ","ⱼ","ₒ","ᵣ","ᵤ","ᵥ","ₓ","TypeaheadOptions","TypeaheadMatch","item","header","isHeader","latinize","tokenize","wordRegexDelimiters","phraseRegexDelimiters","regexStr","preTokenized","preTokenizedLength","replacePhraseDelimiters","getValueFromObject","option","endsWith","propertiesArray_1","OnChange","defaultValue","propertyKey","LinkedList","asArray","head","node","previous","tail","currentPreviousNode","getNode","currentNextNode","createInternalArrayRepresentation","removedNode","toArray","findAll","args","arg","pop","last","reverse","lastItem","every","findIndex","outArray","typeahead_container_component_TypeaheadContainerComponent","TypeaheadContainerComponent","isFocused","_matches","isScrolledIntoView","containerViewTop","ulElement","scrollTop","containerViewBottom","elemTop","offsetTop","_active","needScrollbar","typeaheadScrollable","typeaheadOptionsInScrollableView","setScrollableMode","nextActiveMatch","optionsListTemplate","typeaheadItemTemplate","selectActiveMatch","selectMatch","prevActiveMatch","scrollPrevious","scrollNext","selectActive","highlight","query","startIdx","tokenLen","itemStr","itemStrHelper","typeaheadLatinize","queryLen","substring","repeat","focusLost","changeModel","typeaheadOnSelect","liElements","first","ulStyles","liStyles","ulPaddingBottom","ulPaddingTop","optionHeight","guiHeight","liElement","scrollToBottom","scrollToTop","scrollHeight","typeahead_container_component_decorate","[class.dropdown-menu]","[style.overflow-y]","[style.height]","[style.visibility]","isPromise","isArrayLike","iterator_iterator","iterator","getSymbolIterator","subscribeToArray","subscribeToPromise","promise","subscribeToIterable","iterable","done","return","subscribeToObservable","obs","TypeError","subscribeTo","from_from","isInteropObservable","fromObservable","fromPromise","fromArray","isIterable","fromIterable","typeahead_directive_TypeaheadDirective","TypeaheadDirective","ngControl","viewContainerRef","typeaheadMinLength","typeaheadAsync","typeaheadSingleWords","typeaheadWordDelimiters","typeaheadPhraseDelimiters","typeaheadLoading","typeaheadNoResults","typeaheadOnBlur","isTypeaheadOptionsListActive","keyUpEventEmitter","_typeahead","typeaheadOptionsLimit","typeaheadWaitMs","typeahead","asyncActions","syncActions","onInput","textContent","_container","onFocus","onKeydown","valueStr","viewToModelUpdate","typeaheadRef","animation","_outsideClickListener","onOutsideClick","normalizedQuery","control","finalizeAsyncCall","normalizeQuery","testMatch","normalizeOption","optionValue","typeaheadOptionField","spaceLength","prepareMatches","hasMatches","limited","typeaheadGroupField","matches_1","group","typeahead_directive_decorate","typeahead_module_TypeaheadModule","TypeaheadModule","TypeaheadModule_1","typeahead_module_decorate","symbolMap","1","2","3","4","5","6","7","8","9","0","numberMap","١","٢","٣","٤","٥","٦","٧","٨","٩","٠","pluralForm","plurals","pluralize","u","f","ar_months","arLocale","weekdaysParseExact","cs_months","plural","translate","csLocale","shortMonthsParse","longMonthsParse","daLocale","processRelativeTime","deLocale","monthsParseExact","enGbLocale","Number","monthsShortDot","es_monthsShort","esLocale","monthsStrictRegex","monthsShortStrictRegex","es_do_monthsShortDot","es_do_monthsShort","es_do_monthsParse","es_do_monthsRegex","esDoLocale","es_us_monthsShortDot","es_us_monthsShort","esUsLocale","numbersPast","numbersFuture","fi_translate","verbalNumber","fiLocale","ll","lll","llll","frLocale","hi_symbolMap","hi_numberMap","१","२","३","४","५","६","७","८","९","०","hiLocale","weekEndings","hu_translate","hu_week","huLocale","idLocale","itLocale","jaLocale","koLocale","isUpper","mn_translate","mnLocale","monthsShortWithDots","monthsShortWithoutDots","nl_monthsParse","nl_monthsRegex","nlLocale","nl_be_monthsShortWithDots","nl_be_monthsShortWithoutDots","nl_be_monthsParse","nl_be_monthsRegex","nlBeLocale","monthsNominative","monthsSubjective","pl_plural","pl_translate","plLocale","ptBrLocale","svLocale","relativeTimeWithPlural","word","forms","ru_plural","ru_monthsParse","ruLocale","ro_relativeTimeWithPlural","roLocale","zhCnLocale","suffixes","70","80","20","50","100","10","30","60","90","trLocale","heLocale","thLocale","sl_processRelativeTime","slLocale","gl_monthsShortDot","gl_monthsShort","gl_monthsParse","gl_monthsRegex","glLocale"],"mappings":"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IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,KACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KACLC,IAAK,MACLC,IAAK,MACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KCvzBTC,GAAA,WAQA,OAHE,SAAY/qD,GACVv5B,OAAO2M,OAAOyB,KAAMmrB,IANxB,GCFAgrD,GAAA,WAKE,SAAAA,EAAYC,EAAWlkF,EAAsBmkF,QAAtB,IAAAnkF,MAAAkkF,QAAsB,IAAAC,OAAA,GAC3Cr2E,KAAKo2E,KAAOA,EACZp2E,KAAK9N,MAAQA,EACb8N,KAAKq2E,OAASA,EAUlB,OAPEF,EAAA5jF,UAAA+jF,SAAA,WACE,OAAOt2E,KAAKq2E,QAGdF,EAAA5jF,UAAA+B,SAAA,WACE,OAAO0L,KAAK9N,OAEhBikF,EAlBA,GCEM,SAAAI,GAAmB3hF,GACvB,OAAKA,EAIEA,EAAIyE,QAAQ,qBAAsB,SAAU5D,GACjD,OAAOgtD,GAAShtD,IAAMA,IAJf,GAgBL,SAAA+gF,GAAmB5hF,EACA6hF,EACAC,QADA,IAAAD,MAAA,UACA,IAAAC,MAAA,IAUvB,IARA,IAKItgF,EALEugF,EAAW,OAAOD,EAAqB,QAAQA,EAAqB,UACjEA,EAAqB,SAASD,EAAmB,MACpDG,EAAyBhiF,EAAIge,MAAM,IAAIzZ,OAAOw9E,EAAU,MACxDjxE,KACAmxE,EAA6BD,EAAaziF,OAE1C2iF,EAA0B,IAAI39E,OAAO,IAAIu9E,EAAqB,KAAM,KAEjExlF,EAAI,EAAGA,EAAI2lF,EAAoB3lF,GAAK,GAC3CkF,EAAQwgF,EAAa1lF,KACRkF,EAAMjC,QAAUiC,IAAUqgF,GACrC/wE,EAAOI,KAAK1P,EAAMiD,QAAQy9E,EAAyB,KAIvD,OAAOpxE,EAGH,SAAAqxE,GAA6B1kF,EAAa2kF,GAC9C,IAAKA,GAA4B,iBAAX3kF,EACpB,OAAOA,EAAOiC,WAGhB,GAAI0iF,EAAOC,SAAS,MAGlB,OAAO5kF,EAFc2kF,EAAOrqE,MAAM,EAAGqqE,EAAO7iF,OAAS,MAEvBG,WAQhC,IALA,IAKuBoQ,EAAA,EAAAwyE,EALIF,EACxB39E,QAAQ,aAAc,OACtBA,QAAQ,MAAO,IAC2BuZ,MAAM,KAE5BlO,EAAAwyE,EAAA/iF,OAAAuQ,IAAe,CAAjC,IAAMpS,EAAQ4kF,EAAAxyE,GACbpS,KAAYD,IAEdA,EAASA,EAAOC,IAGpB,OAAKD,EAEEA,EAAOiC,WAFO,GC/DjB,SAAA6iF,GAAmBC,GAGvB,OAAO,SAAyBxuD,EAAayuD,GAC3C,IAAM7hE,EAAO,MAAM6hE,EAAW,QAC9BzlF,OAAOC,eAAe+2B,EAAQyuD,GAC5BrlF,IAAA,WACE,OAAOgO,KAAKwV,IAEd9B,IAAA,SAAIxhB,GACF,IAAM4wC,EAAY9iC,KAAKwV,GACvBxV,KAAKwV,GAAQtjB,EACT4wC,IAAc5wC,GAAS8N,KAAKq3E,EAXxB,WAYNr3E,KAAKq3E,EAZC,UAYoBx6D,KAAK3qB,OCdzC,IAAAolF,GAAA,oBAAAA,IACEt3E,KAAA7L,OAAS,EAIC6L,KAAAu3E,WAsQZ,OApQED,EAAA/kF,UAAAP,IAAA,SAAI02B,GACF,KAAoB,IAAhB1oB,KAAK7L,QAAgBu0B,EAAW,GAAKA,GAAY1oB,KAAK7L,QAA1D,CAMA,IAFA,IAAIyqB,EAAU5e,KAAKw3E,KAEV/+C,EAAQ,EAAGA,EAAQ/P,EAAU+P,IACpC7Z,EAAUA,EAAQ1E,KAGpB,OAAO0E,EAAQ1sB,QAGjBolF,EAAA/kF,UAAA2d,IAAA,SAAIhe,EAAUw2B,GACZ,QADY,IAAAA,MAAmB1oB,KAAK7L,QAChCu0B,EAAW,GAAKA,EAAW1oB,KAAK7L,OAClC,MAAM,IAAIyO,MAAM,+BAGlB,IAAM60E,GACJvlF,MAAOA,EACPgoB,UAAMne,EACN27E,cAAU37E,GAGZ,GAAoB,IAAhBiE,KAAK7L,OACP6L,KAAKw3E,KAAOC,EACZz3E,KAAK23E,KAAOF,EACZz3E,KAAK4e,QAAU64D,OAEf,GAAiB,IAAb/uD,EAEF+uD,EAAKv9D,KAAOla,KAAKw3E,KACjBx3E,KAAKw3E,KAAKE,SAAWD,EACrBz3E,KAAKw3E,KAAOC,OACP,GAAI/uD,IAAa1oB,KAAK7L,OAE3B6L,KAAK23E,KAAKz9D,KAAOu9D,EACjBA,EAAKC,SAAW13E,KAAK23E,KACrB33E,KAAK23E,KAAOF,MACP,CAEL,IAAMG,EAAsB53E,KAAK63E,QAAQnvD,EAAW,GAC9CovD,EAAkBF,EAAoB19D,KAE5C09D,EAAoB19D,KAAOu9D,EAC3BK,EAAgBJ,SAAWD,EAE3BA,EAAKC,SAAWE,EAChBH,EAAKv9D,KAAO49D,EAGhB93E,KAAK7L,SACL6L,KAAK+3E,qCAGPT,EAAA/kF,UAAAg4B,OAAA,SAAO7B,GACL,QADK,IAAAA,MAAA,GACe,IAAhB1oB,KAAK7L,QAAgBu0B,EAAW,GAAKA,GAAY1oB,KAAK7L,OACxD,MAAM,IAAIyO,MAAM,+BAGlB,GAAiB,IAAb8lB,EAEF1oB,KAAKw3E,KAAOx3E,KAAKw3E,KAAKt9D,KAElBla,KAAKw3E,KAEPx3E,KAAKw3E,KAAKE,cAAW37E,EAGrBiE,KAAK23E,UAAO57E,OAET,GAAI2sB,IAAa1oB,KAAK7L,OAAS,EAEpC6L,KAAK23E,KAAO33E,KAAK23E,KAAKD,SACtB13E,KAAK23E,KAAKz9D,UAAOne,MACZ,CAEL,IAAMi8E,EAAch4E,KAAK63E,QAAQnvD,GACjCsvD,EAAY99D,KAAKw9D,SAAWM,EAAYN,SACxCM,EAAYN,SAASx9D,KAAO89D,EAAY99D,KAG1Cla,KAAK7L,SACL6L,KAAK+3E,qCAGPT,EAAA/kF,UAAAmhB,IAAA,SAAIgV,EAAkBx2B,GACpB,GAAoB,IAAhB8N,KAAK7L,QAAgBu0B,EAAW,GAAKA,GAAY1oB,KAAK7L,OACxD,MAAM,IAAIyO,MAAM,+BAGL5C,KAAK63E,QAAQnvD,GACrBx2B,MAAQA,EACb8N,KAAK+3E,qCAGPT,EAAA/kF,UAAA0lF,QAAA,WACE,OAAOj4E,KAAKu3E,SAGdD,EAAA/kF,UAAA2lF,QAAA,SAAQhjF,GAGN,IAFA,IAAI0pB,EAAU5e,KAAKw3E,KACb9xE,KACG+yB,EAAQ,EAAGA,EAAQz4B,KAAK7L,OAAQskC,IACnCvjC,EAAG0pB,EAAQ1sB,MAAOumC,IACpB/yB,EAAOI,MAAM2yB,MAAKA,EAAEvmC,MAAO0sB,EAAQ1sB,QAErC0sB,EAAUA,EAAQ1E,KAGpB,OAAOxU,GAIT4xE,EAAA/kF,UAAAuT,KAAA,mBAAA8Z,EAAA5f,KAAKm4E,KAAAzzE,EAAA,EAAAA,EAAAzR,UAAAkB,OAAAuQ,IAAAyzE,EAAAzzE,GAAAzR,UAAAyR,GAKH,OAJAyzE,EAAKn+D,QAAQ,SAACo+D,GACZx4D,EAAK1P,IAAIkoE,KAGJp4E,KAAK7L,QAGdmjF,EAAA/kF,UAAA8lF,IAAA,WACE,GAAoB,IAAhBr4E,KAAK7L,OAAT,CAGA,IAAMmkF,EAAOt4E,KAAK23E,KAGlB,OAFA33E,KAAKuqB,OAAOvqB,KAAK7L,OAAS,GAEnBmkF,EAAKpmF,QAGdolF,EAAA/kF,UAAAooD,QAAA,mBAAA/6B,EAAA5f,KAAQm4E,KAAAzzE,EAAA,EAAAA,EAAAzR,UAAAkB,OAAAuQ,IAAAyzE,EAAAzzE,GAAAzR,UAAAyR,GAMN,OALAyzE,EAAKI,UACLJ,EAAKn+D,QAAQ,SAACo+D,GACZx4D,EAAK1P,IAAIkoE,EAAK,KAGTp4E,KAAK7L,QAGdmjF,EAAA/kF,UAAAwuC,MAAA,WACE,GAAoB,IAAhB/gC,KAAK7L,OAAT,CAGA,IAAMqkF,EAAWx4E,KAAKw3E,KAAKtlF,MAG3B,OAFA8N,KAAKuqB,SAEEiuD,IAGTlB,EAAA/kF,UAAAynB,QAAA,SAAQ9kB,GAEN,IADA,IAAI0pB,EAAU5e,KAAKw3E,KACV/+C,EAAQ,EAAGA,EAAQz4B,KAAK7L,OAAQskC,IACvCvjC,EAAG0pB,EAAQ1sB,MAAOumC,GAClB7Z,EAAUA,EAAQ1E,MAItBo9D,EAAA/kF,UAAAsT,QAAA,SAAQ3T,GAIN,IAHA,IAAI0sB,EAAU5e,KAAKw3E,KACf9uD,EAAW,EAEN+P,EAAQ,EAAGA,EAAQz4B,KAAK7L,OAAQskC,IAAS,CAChD,GAAI7Z,EAAQ1sB,QAAUA,EAAO,CAC3Bw2B,EAAW+P,EACX,MAEF7Z,EAAUA,EAAQ1E,KAGpB,OAAOwO,GAGT4uD,EAAA/kF,UAAAwO,KAAA,SAAK7L,GAGH,IAFA,IAAI0pB,EAAU5e,KAAKw3E,KACf9xE,GAAS,EACNkZ,IAAYlZ,GAAQ,CACzB,GAAIxQ,EAAG0pB,EAAQ1sB,OAAQ,CACrBwT,GAAS,EACT,MAEFkZ,EAAUA,EAAQ1E,KAGpB,OAAOxU,GAGT4xE,EAAA/kF,UAAAkmF,MAAA,SAAMvjF,GAGJ,IAFA,IAAI0pB,EAAU5e,KAAKw3E,KACf9xE,GAAS,EACNkZ,GAAWlZ,GACXxQ,EAAG0pB,EAAQ1sB,SACdwT,GAAS,GAEXkZ,EAAUA,EAAQ1E,KAGpB,OAAOxU,GAGT4xE,EAAA/kF,UAAA+B,SAAA,WACE,MAAO,iBAGTgjF,EAAA/kF,UAAAutB,KAAA,SAAK5qB,GAGH,IAFA,IACIwQ,EADAkZ,EAAU5e,KAAKw3E,KAEV/+C,EAAQ,EAAGA,EAAQz4B,KAAK7L,OAAQskC,IAAS,CAChD,GAAIvjC,EAAG0pB,EAAQ1sB,MAAOumC,GAAQ,CAC5B/yB,EAASkZ,EAAQ1sB,MACjB,MAEF0sB,EAAUA,EAAQ1E,KAGpB,OAAOxU,GAGT4xE,EAAA/kF,UAAAmmF,UAAA,SAAUxjF,GAGR,IAFA,IACIwQ,EADAkZ,EAAU5e,KAAKw3E,KAEV/+C,EAAQ,EAAGA,EAAQz4B,KAAK7L,OAAQskC,IAAS,CAChD,GAAIvjC,EAAG0pB,EAAQ1sB,MAAOumC,GAAQ,CAC5B/yB,EAAS+yB,EACT,MAEF7Z,EAAUA,EAAQ1E,KAGpB,OAAOxU,GAGC4xE,EAAA/kF,UAAAslF,QAAV,SAAkBnvD,GAChB,GAAoB,IAAhB1oB,KAAK7L,QAAgBu0B,EAAW,GAAKA,GAAY1oB,KAAK7L,OACxD,MAAM,IAAIyO,MAAM,+BAKlB,IAFA,IAAIgc,EAAU5e,KAAKw3E,KAEV/+C,EAAQ,EAAGA,EAAQ/P,EAAU+P,IACpC7Z,EAAUA,EAAQ1E,KAGpB,OAAO0E,GAGC04D,EAAA/kF,UAAAwlF,kCAAV,WAIE,IAHA,IAAMY,KACF/5D,EAAU5e,KAAKw3E,KAEZ54D,GACL+5D,EAAS7yE,KAAK8Y,EAAQ1sB,OACtB0sB,EAAUA,EAAQ1E,KAEpBla,KAAKu3E,QAAUoB,GAInBrB,EA3QA,0UC8BAsB,GAAA,WA0BE,SAAAC,EAAYvsD,EAA6BpB,GAAAlrB,KAAAkrB,WAtBzClrB,KAAA84E,WAAY,EAcF94E,KAAA+4E,YAmMF/4E,KAAAg5E,mBAAqB,SAAUrpC,GACrC,IAAMspC,EAAmBj5E,KAAKk5E,UAAUtvD,cAAcuvD,UAChDC,EAAsBH,EAAmBj5E,KAAKk5E,UAAUtvD,cAAc0E,aACtE+qD,EAAU1pC,EAAK2pC,UAGrB,OAFmBD,EAAU1pC,EAAKrhB,cAEX8qD,GAAyBC,GAAWJ,GAhM3Dj5E,KAAKssB,QAAUA,EA0MnB,OAxNE16B,OAAAC,eAAIgnF,EAAAtmF,UAAA,aAAJ,WACE,OAAQqoB,sCAgBVhpB,OAAAC,eAAIgnF,EAAAtmF,UAAA,cAAJ,WACE,OAAOyN,KAAKu5E,yCAGd3nF,OAAAC,eAAIgnF,EAAAtmF,UAAA,eAAJ,WACE,OAAOyN,KAAK+4E,cAGd,SAAY7mF,GAAZ,IAAA0tB,EAAA5f,KACEA,KAAK+4E,SAAW7mF,EAChB8N,KAAKw5E,cAAgBx5E,KAAKy5E,qBAAuBz5E,KAAK05E,iCAAmC15E,KAAKyI,QAAQtU,OAClG6L,KAAKy5E,qBACP1tD,WAAW,WACTnM,EAAK+5D,sBAIL35E,KAAK+4E,SAAS5kF,OAAS,IACzB6L,KAAKu5E,QAAUv5E,KAAK+4E,SAAS,GACzB/4E,KAAKu5E,QAAQjD,YACft2E,KAAK45E,oDAKXhoF,OAAAC,eAAIgnF,EAAAtmF,UAAA,2BAAJ,WACE,OAAOyN,KAAKo5B,OAASp5B,KAAKo5B,OAAOygD,yBAAsB99E,mCAGzDnK,OAAAC,eAAIgnF,EAAAtmF,UAAA,2BAAJ,WACE,QAAOyN,KAAKo5B,QAASp5B,KAAKo5B,OAAOqgD,qDAInC7nF,OAAAC,eAAIgnF,EAAAtmF,UAAA,wCAAJ,WACE,OAAOyN,KAAKo5B,OAASp5B,KAAKo5B,OAAOsgD,iCAAmC,mCAGtE9nF,OAAAC,eAAIgnF,EAAAtmF,UAAA,oBAAJ,WACE,OAAOyN,KAAKo5B,OAASp5B,KAAKo5B,OAAO0gD,2BAAwB/9E,mCAG3D88E,EAAAtmF,UAAAwnF,kBAAA,WACE/5E,KAAKg6E,YAAYh6E,KAAKu5E,UAGxBV,EAAAtmF,UAAA0nF,gBAAA,WACE,IAAMxhD,EAAQz4B,KAAKyI,QAAQ5C,QAAQ7F,KAAKu5E,SACxCv5E,KAAKu5E,QAAUv5E,KAAKyI,QAClBgwB,EAAQ,EAAI,EAAIz4B,KAAKyI,QAAQtU,OAAS,EAAIskC,EAAQ,GAEhDz4B,KAAKu5E,QAAQjD,YACft2E,KAAKi6E,kBAEHj6E,KAAKy5E,qBACPz5E,KAAKk6E,eAAezhD,IAIxBogD,EAAAtmF,UAAAqnF,gBAAA,WACE,IAAMnhD,EAAQz4B,KAAKyI,QAAQ5C,QAAQ7F,KAAKu5E,SACxCv5E,KAAKu5E,QAAUv5E,KAAKyI,QAClBgwB,EAAQ,EAAIz4B,KAAKyI,QAAQtU,OAAS,EAAI,EAAIskC,EAAQ,GAEhDz4B,KAAKu5E,QAAQjD,YACft2E,KAAK45E,kBAEH55E,KAAKy5E,qBACPz5E,KAAKm6E,WAAW1hD,IAIpBogD,EAAAtmF,UAAA6nF,aAAA,SAAaloF,GACX8N,KAAK84E,WAAY,EACjB94E,KAAKu5E,QAAUrnF,GAGjB2mF,EAAAtmF,UAAA8nF,UAAA,SAAUt1E,EAAuBu1E,GAC/B,IAIIC,EACAC,EALAC,EAAkB11E,EAAM7S,MACxBwoF,GAAyB16E,KAAKo5B,QAAUp5B,KAAKo5B,OAAOuhD,kBACpDpE,GAASkE,GACTA,GAAS9+E,cAIb,GAAqB,iBAAV2+E,EAET,IADA,IAAMM,EAAmBN,EAAMnmF,OACtBjD,EAAI,EAAGA,EAAI0pF,EAAU1pF,GAAK,EAEjCqpF,EAAWG,EAAc70E,QAAQy0E,EAAMppF,IACvCspF,EAAWF,EAAMppF,GAAGiD,OAChBomF,GAAY,GAAKC,EAAW,IAC9BC,EACKA,EAAQI,UAAU,EAAGN,GAAS,WAAWE,EAAQI,UAAUN,EAAUA,EAAWC,GAAS,YACzFC,EAAQI,UAAUN,EAAWC,GAClCE,EACKA,EAAcG,UAAU,EAAGN,GAAS,WAAW,IAAIO,OAAON,GAAS,YACnEE,EAAcG,UAAUN,EAAWC,SAGnCF,IAETC,EAAWG,EAAc70E,QAAQy0E,GACjCE,EAAWF,EAAMnmF,OACbomF,GAAY,GAAKC,EAAW,IAC9BC,EACKA,EAAQI,UAAU,EAAGN,GAAS,WAAWE,EAAQI,UAAUN,EAAUA,EAAWC,GAAS,YACzFC,EAAQI,UAAUN,EAAWC,KAItC,OAAOC,GAKT5B,EAAAtmF,UAAAwoF,UAAA,WACE/6E,KAAK84E,WAAY,GAGnBD,EAAAtmF,UAAA2rB,SAAA,SAAShsB,GACP,OAAO8N,KAAKu5E,UAAYrnF,GAG1B2mF,EAAAtmF,UAAAynF,YAAA,SAAY9nF,EAAuBsZ,GAAnC,IAAAoU,EAAA5f,KAQE,YARiC,IAAAwL,WAAA,GAC7BA,IACFA,EAAEioB,kBACFjoB,EAAEyjC,kBAEJjvC,KAAKo5B,OAAO4hD,YAAY9oF,GACxB65B,WAAW,WAAM,OAAAnM,EAAKwZ,OAAO6hD,kBAAkBp+D,KAAK3qB,IAAQ,IAErD,GAGT2mF,EAAAtmF,UAAAonF,kBAAA,WAIE,GAHK35E,KAAKk5E,YACRl5E,KAAKk5E,UAAYl5E,KAAKssB,SAEpBtsB,KAAKk7E,WAAWC,MAAO,CACzB,IAAMC,EAAW7rC,GAAMG,UAAU1vC,KAAKk5E,UAAUtvD,eAC1CyxD,EAAW9rC,GAAMG,UAAU1vC,KAAKk7E,WAAWC,MAAMvxD,eACjD0xD,EAAkBzzE,YAAYuzE,EAAS,kBAAoBA,EAAS,kBAAoB,IAAI/hF,QAAQ,KAAM,KAC1GkiF,EAAe1zE,YAAYuzE,EAAS,eAAiBA,EAAS,eAAiB,KAAK/hF,QAAQ,KAAM,KAClGmiF,EAAe3zE,YAAYwzE,EAAiB,OAAIA,EAAiB,OAAI,KAAKhiF,QAAQ,KAAM,KACxFi0B,EAASttB,KAAK05E,iCAAmC8B,EACvDx7E,KAAKy7E,UAAenuD,EAASiuD,EAAeD,EAAe,KAE7Dt7E,KAAKkrB,SAASsjB,SAASxuC,KAAKssB,QAAQ1C,cAAe,aAAc,YAGnEivD,EAAAtmF,UAAA2nF,eAAA,SAAezhD,GACb,GAAc,IAAVA,GAKJ,GAAIz4B,KAAKk7E,WAAY,CACnB,IAAMQ,EAAY17E,KAAKk7E,WAAWjD,UAAUx/C,EAAQ,GAChDijD,IAAc17E,KAAKg5E,mBAAmB0C,EAAU9xD,iBAClD5pB,KAAKk5E,UAAUtvD,cAAcuvD,UAAYuC,EAAU9xD,cAAc0vD,iBAPnEt5E,KAAK27E,kBAYT9C,EAAAtmF,UAAA4nF,WAAA,SAAW1hD,GACT,GAAIA,EAAQ,EAAIz4B,KAAKyI,QAAQtU,OAAS,EACpC6L,KAAK47E,mBAIP,GAAI57E,KAAKk7E,WAAY,CACnB,IAAMQ,EAAY17E,KAAKk7E,WAAWjD,UAAUx/C,EAAQ,GAChDijD,IAAc17E,KAAKg5E,mBAAmB0C,EAAU9xD,iBAClD5pB,KAAKk5E,UAAUtvD,cAAcuvD,UAC3BuC,EAAU9xD,cAAc0vD,UACxBt5E,KAAKk5E,UAAUtvD,cAAc0E,aAC7BotD,EAAU9xD,cAAc0E,gBAexBuqD,EAAAtmF,UAAAopF,eAAR,WACE37E,KAAKk5E,UAAUtvD,cAAcuvD,UAAYn5E,KAAKk5E,UAAUtvD,cAAciyD,cAGhEhD,EAAAtmF,UAAAqpF,YAAR,WACE57E,KAAKk5E,UAAUtvD,cAAcuvD,UAAY,GA9M3C2C,IADClqF,OAAAkqB,GAAA,UAAAlqB,CAAU,8CAIXkqF,IADClqF,OAAAkqB,GAAA,aAAAlqB,CAAa,gDA2HdkqF,IAFClqF,OAAAkqB,GAAA,aAAAlqB,CAAa,cACbA,OAAAkqB,GAAA,aAAAlqB,CAAa,uCAjJHinF,EAA2BiD,IAdvClqF,OAAAkqB,GAAA,UAAAlqB,EACC8uB,SAAU,sBAEVC,SAAU,2vDACV0R,MACEwb,MAAO,gBACPkuC,wBAAyB,QACzBC,qBAAuB,+CACvBC,iBAAkB,6CAClBC,qBAAsB,6CACtBrlC,iBAAkB,SAClB7mB,MAAO,yCAGE6oD,GAAb,GC7BA,SAAAsD,GAAAjqF,GACA,OAAAA,GAAA,mBAAAA,EAAAm6B,WAAA,mBAAAn6B,EAAA2jD,KCDA,IAAAumC,GAAA,SAAA5+E,GAAwC,OAAAA,GAAA,iBAAAA,EAAArJ,QAAA,mBAAAqJ,GCMxC,IAAA6+E,GANA,WACA,yBAAA9iD,eAAA+iD,SAGA/iD,OAAA+iD,SAFA,aAIAC,GCFA,IAAAC,GAAA,SAAAziF,GACA,gBAAAogC,GACA,QAAAjpC,EAAA,EAAA0nB,EAAA7e,EAAA5F,OAA2CjD,EAAA0nB,IAAAuhB,EAAA7C,OAA+BpmC,IAC1EipC,EAAAjgB,KAAAngB,EAAA7I,IAEAipC,EAAA7C,QACA6C,EAAA5C,aCTA,IAAAklD,GAAA,SAAAC,GACA,gBAAAviD,GAQA,OAPAuiD,EAAA7mC,KAAA,SAAA3jD,GACAioC,EAAA7C,SACA6C,EAAAjgB,KAAAhoB,GACAioC,EAAA5C,aAES,SAAAF,GAAkB,OAAA8C,EAAAzgB,MAAA2d,KAC3Bwe,KAAA,KAAAze,IACA+C,ICTA,IAAAwiD,GAAA,SAAAC,GACA,gBAAAziD,GAEA,IADA,IAAAmiD,EAAAM,EAAAP,QACA,CACA,IAAAjG,EAAAkG,EAAApiE,OACA,GAAAk8D,EAAAyG,KAAA,CACA1iD,EAAA5C,WACA,MAGA,GADA4C,EAAAjgB,KAAAk8D,EAAAlkF,OACAioC,EAAA7C,OACA,MAWA,MAPA,mBAAAglD,EAAAQ,QACA3iD,EAAAjqB,IAAA,WACAosE,EAAAQ,QACAR,EAAAQ,WAIA3iD,ICjBA,IAAA4iD,GAAA,SAAAzvE,GACA,gBAAA6sB,GACA,IAAA6iD,EAAA1vE,EAAA0tB,MACA,sBAAAgiD,EAAA3wD,UAEA,UAAA4wD,UAAA,kEAGA,OAAAD,EAAA3wD,UAAA8N,KCJA,IAAA+iD,GAAA,SAAAx3E,GACA,GAAAA,aAAA41B,GACA,gBAAAnB,GACA,OAAAz0B,EAAA81B,WACArB,EAAAjgB,KAAAxU,EAAAxT,YACAioC,EAAA5C,YAIA7xB,EAAA2mB,UAAA8N,IAIA,GAAAiiD,GAAA12E,GACA,OAAA82E,GAAA92E,GAEA,GAAAy2E,GAAAz2E,GACA,OAAA+2E,GAAA/2E,GAEA,GAAAA,GAAA,mBAAAA,EAAA22E,IACA,OAAAM,GAAAj3E,GAEA,GAAAA,GAAA,mBAAAA,EAAAs1B,IACA,OAAA+hD,GAAAr3E,GAGA,IAAAxT,EAAAulC,GAAA/xB,GAAA,wBAAAA,EAAA,IAGA,UAAAu3E,UAFA,gBAAA/qF,EAAA,8FC3BA,SAAAirF,GAAA7nF,EAAA+pC,GACA,IAAAA,EACA,OAAA/pC,aAAAgmC,GACAhmC,EAEA,IAAAgmC,GAAA4hD,GAAA5nF,IAEA,SAAAA,EAAA,CACA,GChBA,SAAAA,GACA,OAAAA,GAAA,mBAAAA,EAAA0lC,IDeAoiD,CAAA9nF,GACA,OEfA,SAAAA,EAAA+pC,GACA,OAIA,IAAA/D,GAJA+D,EAIA,SAAAlF,GACA,IAAAxB,EAAA,IAAAT,GASA,OARAS,EAAAzoB,IAAAmvB,EAAAE,SAAA,WACA,IAAAtE,EAAA3lC,EAAA0lC,MACArC,EAAAzoB,IAAA+qB,EAAA5O,WACAnS,KAAA,SAAAhoB,GAA4CymC,EAAAzoB,IAAAmvB,EAAAE,SAAA,WAAyC,OAAApF,EAAAjgB,KAAAhoB,OACrFwnB,MAAA,SAAA2d,GAA2CsB,EAAAzoB,IAAAmvB,EAAAE,SAAA,WAAyC,OAAApF,EAAAzgB,MAAA2d,OACpFE,SAAA,WAA2CoB,EAAAzoB,IAAAmvB,EAAAE,SAAA,WAAyC,OAAApF,EAAA5C,qBAGpFoB,GAbAokD,GAAAznF,IFaA+nF,CAAA/nF,EAAA+pC,GAEA,GAAA88C,GAAA7mF,GACA,OGnBA,SAAAA,EAAA+pC,GACA,OAIA,IAAA/D,GAJA+D,EAIA,SAAAlF,GACA,IAAAxB,EAAA,IAAAT,GAWA,OAVAS,EAAAzoB,IAAAmvB,EAAAE,SAAA,WACA,OAAAjqC,EAAAugD,KAAA,SAAA3jD,GACAymC,EAAAzoB,IAAAmvB,EAAAE,SAAA,WACApF,EAAAjgB,KAAAhoB,GACAymC,EAAAzoB,IAAAmvB,EAAAE,SAAA,WAAgE,OAAApF,EAAA5C,kBAE/C,SAAAF,GACjBsB,EAAAzoB,IAAAmvB,EAAAE,SAAA,WAA4D,OAAApF,EAAAzgB,MAAA2d,WAG5DsB,GAfA8jD,GAAAnnF,IHiBAgoF,CAAAhoF,EAAA+pC,GAEA,GAAA+8C,GAAA9mF,GACA,OItBA,SAAAA,EAAA+pC,GACA,OAIA,IAAA/D,GAJA+D,EAIA,SAAAlF,GACA,IAAAxB,EAAA,IAAAT,GACAhnC,EAAA,EAWA,OAVAynC,EAAAzoB,IAAAmvB,EAAAE,SAAA,WACAruC,IAAAoE,EAAAnB,QAIAgmC,EAAAjgB,KAAA5kB,EAAApE,MACAipC,EAAA7C,QACAqB,EAAAzoB,IAAAlQ,KAAAu/B,aALApF,EAAA5C,cAQAoB,GAhBA6jD,GAAAlnF,IJoBAioF,CAAAjoF,EAAA+pC,GAEA,GKzBA,SAAA/pC,GACA,OAAAA,GAAA,mBAAAA,EAAA+mF,ILwBAmB,CAAAloF,IAAA,iBAAAA,EACA,OMxBA,SAAAA,EAAA+pC,GACA,IAAA/pC,EACA,UAAAsN,MAAA,2BAEA,OAIA,IAAA04B,GAJA+D,EAIA,SAAAlF,GACA,IACAmiD,EADA3jD,EAAA,IAAAT,GAkCA,OAhCAS,EAAAzoB,IAAA,WAEAosE,GAAA,mBAAAA,EAAAQ,QACAR,EAAAQ,WAGAnkD,EAAAzoB,IAAAmvB,EAAAE,SAAA,WACA+8C,EAAAhnF,EAAA+mF,MACA1jD,EAAAzoB,IAAAmvB,EAAAE,SAAA,WACA,IAAApF,EAAA7C,OAAA,CAGA,IAAAplC,EACA2qF,EACA,IACA,IAAAn3E,EAAA42E,EAAApiE,OACAhoB,EAAAwT,EAAAxT,MACA2qF,EAAAn3E,EAAAm3E,KAEA,MAAAxlD,GAEA,YADA8C,EAAAzgB,MAAA2d,GAGAwlD,EACA1iD,EAAA5C,YAGA4C,EAAAjgB,KAAAhoB,GACA8N,KAAAu/B,mBAIA5G,GAtCAgkD,GAAArnF,INmBAmoF,CAAAnoF,EAAA+pC,GAGA,UAAA49C,WAAA,OAAA3nF,gBAAA,iWOPAooF,GAAA,WAyGE,SAAAC,EAAoBC,EACAtxD,EACRuxD,EACQ3yD,EACRkc,EACQtW,GALA9wB,KAAA49E,YACA59E,KAAAssB,UAEAtsB,KAAAkrB,WAEAlrB,KAAA8wB,kBArGX9wB,KAAA89E,wBAA6B,EAkB7B99E,KAAA+9E,oBAA0B,EAI1B/9E,KAAA26E,mBAAoB,EAIpB36E,KAAAg+E,sBAAuB,EAIvBh+E,KAAAi+E,wBAA0B,IAK1Bj+E,KAAAk+E,0BAA4B,MAU5Bl+E,KAAAy5E,qBAAsB,EAEtBz5E,KAAA05E,iCAAmC,EAIlC15E,KAAAm+E,iBAAmB,IAAIriE,GAAA,aAIvB9b,KAAAo+E,mBAAqB,IAAItiE,GAAA,aAEzB9b,KAAAi7E,kBAAoB,IAAIn/D,GAAA,aAExB9b,KAAAq+E,gBAAkB,IAAIviE,GAAA,aASvB9b,KAAAm2C,QAAS,EAiBlBn2C,KAAAs+E,8BAA+B,EAErBt+E,KAAAu+E,kBAAuC,IAAIziE,GAAA,aAE3C9b,KAAA2uB,UAAY,cAId3uB,KAAAs4B,kBASNt4B,KAAKw+E,WAAap3C,EAAIpa,aACpBV,EACAuxD,EACA3yD,GA4WN,OAxWEyyD,EAAAprF,UAAAgqB,SAAA,WACEvc,KAAKy+E,sBAAwBz+E,KAAKy+E,uBAAyB,GAC3Dz+E,KAAK89E,wBACyB,IAA5B99E,KAAK89E,mBAAgC,EAAI99E,KAAK89E,mBAChD99E,KAAK0+E,gBAAkB1+E,KAAK0+E,iBAAmB,OAIrB3iF,IAAxBiE,KAAK+9E,gBACH/9E,KAAK2+E,qBAAqBrjD,KAE5Bt7B,KAAK+9E,gBAAiB,GAGpB/9E,KAAK2+E,qBAAqBrjD,KAC5Bt7B,KAAK+9E,gBAAiB,GAGpB/9E,KAAK+9E,eACP/9E,KAAK4+E,eAEL5+E,KAAK6+E,eAKTlB,EAAAprF,UAAAusF,QAAA,SAAQtzE,GAKN,IAAMtZ,OACe6J,IAAnByP,EAAEod,OAAO12B,MACLsZ,EAAEod,OAAO12B,WACgB6J,IAAzByP,EAAEod,OAAOm2D,YACTvzE,EAAEod,OAAOm2D,YACTvzE,EAAEod,OAAO5N,UACF,MAAT9oB,GAAiBA,EAAM8T,OAAO7R,QAAU6L,KAAK89E,oBAC/C99E,KAAKm+E,iBAAiBthE,MAAK,GAC3B7c,KAAKu+E,kBAAkB1hE,KAAKrR,EAAEod,OAAO12B,SAErC8N,KAAKm+E,iBAAiBthE,MAAK,GAC3B7c,KAAKo+E,mBAAmBvhE,MAAK,GAC7B7c,KAAKmqB,SAKTwzD,EAAAprF,UAAA6uB,SAAA,SAAS5V,GACP,GAAIxL,KAAKg/E,WAAY,CAEnB,GAAkB,KAAdxzE,EAAEwjC,QAGJ,YAFAhvC,KAAKmqB,OAMP,GAAkB,KAAd3e,EAAEwjC,QAGJ,YAFAhvC,KAAKg/E,WAAW/E,kBAMlB,GAAkB,KAAdzuE,EAAEwjC,QAGJ,YAFAhvC,KAAKg/E,WAAWpF,kBAMlB,GAAkB,KAAdpuE,EAAEwjC,QAGJ,YAFAhvC,KAAKg/E,WAAWjF,sBAStB4D,EAAAprF,UAAA0sF,QAAA,WACkC,IAA5Bj/E,KAAK89E,qBACP99E,KAAKm+E,iBAAiBthE,MAAK,GAC3B7c,KAAKu+E,kBAAkB1hE,KAAK7c,KAAKssB,QAAQ1C,cAAc13B,OAAS,MAKpEyrF,EAAAprF,UAAA4/B,OAAA,WACMnyB,KAAKg/E,aAAeh/E,KAAKg/E,WAAWlG,WACtC94E,KAAKq+E,gBAAgBxhE,KAAK7c,KAAKg/E,WAAWn+C,SAK9C88C,EAAAprF,UAAA2sF,UAAA,SAAU1zE,GAER,GAAKxL,KAAKg/E,WAAV,CAKA,GAAkB,KAAdxzE,EAAEwjC,QAON,OAAkB,IAAdxjC,EAAEwjC,SACJxjC,EAAEyjC,sBACFjvC,KAAKg/E,WAAWjF,0BAFlB,EANEvuE,EAAEyjC,mBAcN0uC,EAAAprF,UAAAyoF,YAAA,SAAYj2E,GACV,IAAMo6E,EAAmBp6E,EAAM7S,MAC/B8N,KAAK49E,UAAUwB,kBAAkBD,GAChCn/E,KAAK49E,UAAiB,QAAE3pD,SAASkrD,GAClCn/E,KAAK8wB,gBAAgB9G,eACrBhqB,KAAKmqB,QAGPv4B,OAAAC,eAAI8rF,EAAAprF,UAAA,eAAJ,WACE,OAAOyN,KAAK+4E,0CAGd4E,EAAAprF,UAAAu2B,KAAA,eAAAlJ,EAAA5f,KACEA,KAAKw+E,WACFn2D,OAAOuwD,IAEP7oE,GAAG/P,KAAKyoB,WACRC,UAAUC,YAAe3oB,KAAKm2C,OAAS,MAAQ,UAAQ,UACvDrtB,MACCu2D,aAAcr/E,KACd2uB,UAAW3uB,KAAK2uB,UAChB2wD,WAAW,EACXnpC,OAAQn2C,KAAKm2C,SAGjBn2C,KAAKu/E,sBAAwBv/E,KAAKkrB,SAASJ,OAAO,WAAY,QAAS,SAACtf,GACtC,IAA5BoU,EAAKk+D,oBAA4Bl+D,EAAK0M,QAAQ1C,cAAcqC,SAASzgB,EAAEod,SAG3EhJ,EAAK4/D,mBAGPx/E,KAAKg/E,WAAah/E,KAAKw+E,WAAW70D,SAClC3pB,KAAKg/E,WAAW5lD,OAASp5B,KAEzB,IAAMy/E,GAAmBz/E,KAAK26E,kBAC1BpE,GAASv2E,KAAK49E,UAAU8B,QAAQxtF,OAChC8N,KAAK49E,UAAU8B,QAAQxtF,OACxBoC,WACAqH,cACHqE,KAAKg/E,WAAW1E,MAAQt6E,KAAKg+E,qBACzBxH,GACAiJ,EACAz/E,KAAKi+E,wBACLj+E,KAAKk+E,2BAELuB,EACJz/E,KAAKg/E,WAAWv2E,QAAUzI,KAAK+4E,SAC/B/4E,KAAKssB,QAAQ1C,cAAczD,SAG7Bw3D,EAAAprF,UAAA43B,KAAA,WACMnqB,KAAKw+E,WAAW9zD,UAClB1qB,KAAKw+E,WAAWr0D,OAChBnqB,KAAKu/E,wBACLv/E,KAAKg/E,WAAa,OAItBrB,EAAAprF,UAAAitF,eAAA,WACMx/E,KAAKg/E,aAAeh/E,KAAKg/E,WAAWlG,WACtC94E,KAAKmqB,QAITwzD,EAAAprF,UAAAs0C,YAAA,WAEE,IAAkB,IAAAniC,EAAA,EAAAtK,EAAA4F,KAAKs4B,eAAL5zB,EAAAtK,EAAAjG,OAAAuQ,IAAmB,CAAvBtK,EAAAsK,GACR8nB,cAENxsB,KAAKw+E,WAAW7zD,WAGRgzD,EAAAprF,UAAAqsF,aAAV,eAAAh/D,EAAA5f,KACEA,KAAKs4B,eAAexyB,KAClB9F,KAAKu+E,kBACF5pD,KACC/iC,OAAAgjC,GAAA,aAAAhjC,CAAaoO,KAAK0+E,iBAClB9sF,OAAAgjC,GAAA,UAAAhjC,CAAU,WAAM,OAAAguB,EAAK++D,aAEtBtyD,UAAU,SAAC5jB,GACVmX,EAAK+/D,kBAAkBl3E,OAKrBk1E,EAAAprF,UAAAssF,YAAV,eAAAj/D,EAAA5f,KACEA,KAAKs4B,eAAexyB,KAClB9F,KAAKu+E,kBACF5pD,KACC/iC,OAAAgjC,GAAA,aAAAhjC,CAAaoO,KAAK0+E,iBAClB9sF,OAAAgjC,GAAA,SAAAhjC,CAAS,SAACM,GACR,IAAMutF,EAAkB7/D,EAAKggE,eAAe1tF,GAE5C,OAAOirF,GAAKv9D,EAAK++D,WACdhqD,KACC/iC,OAAAgjC,GAAA,OAAAhjC,CAAO,SAAColF,GACN,OACEA,GACAp3D,EAAKigE,UAAUjgE,EAAKkgE,gBAAgB9I,GAASyI,KAGjD7tF,OAAAgjC,GAAA,QAAAhjC,OAIPy6B,UAAU,SAAC5jB,GACVmX,EAAK+/D,kBAAkBl3E,OAKrBk1E,EAAAprF,UAAAutF,gBAAV,SAA0B9I,GACxB,IAAM+I,EAAsBhJ,GAC1BC,EACAh3E,KAAKggF,sBAMP,OAJyBhgF,KAAK26E,kBAC1BpE,GAASwJ,GACTA,GAEoBpkF,eAGhBgiF,EAAAprF,UAAAqtF,eAAV,SAAyB1tF,GAGvB,IAAIutF,GAAwBz/E,KAAK26E,kBAC7BpE,GAASrkF,GACTA,GACDoC,WACAqH,cASH,OARA8jF,EAAkBz/E,KAAKg+E,qBACnBxH,GACAiJ,EACAz/E,KAAKi+E,wBACLj+E,KAAKk+E,2BAELuB,GAKI9B,EAAAprF,UAAAstF,UAAV,SAAoB96E,EAAeoF,GACjC,IAAI81E,EAEJ,GAAoB,iBAAT91E,EAAmB,CAC5B81E,EAAc91E,EAAKhW,OACnB,IAAK,IAAIjD,EAAI,EAAGA,EAAI+uF,EAAa/uF,GAAK,EACpC,GAAIiZ,EAAKjZ,GAAGiD,OAAS,GAAK4Q,EAAMc,QAAQsE,EAAKjZ,IAAM,EACjD,OAAO,EAIX,OAAO,EAGT,OAAO6T,EAAMc,QAAQsE,IAAS,GAGtBwzE,EAAAprF,UAAAotF,kBAAV,SAA4Bl3E,GAM1B,GALAzI,KAAKkgF,eAAez3E,GAEpBzI,KAAKm+E,iBAAiBthE,MAAK,GAC3B7c,KAAKo+E,mBAAmBvhE,MAAM7c,KAAKmgF,cAE9BngF,KAAKmgF,aAMV,GAAIngF,KAAKg/E,WAAY,CAEnB,IAAMS,GAAmBz/E,KAAK26E,kBAC1BpE,GAASv2E,KAAK49E,UAAU8B,QAAQxtF,OAChC8N,KAAK49E,UAAU8B,QAAQxtF,OACxBoC,WACAqH,cACHqE,KAAKg/E,WAAW1E,MAAQt6E,KAAKg+E,qBACzBxH,GACAiJ,EACAz/E,KAAKi+E,wBACLj+E,KAAKk+E,2BAELuB,EACJz/E,KAAKg/E,WAAWv2E,QAAUzI,KAAK+4E,cAE/B/4E,KAAK8oB,YArBL9oB,KAAKmqB,QAyBCwzD,EAAAprF,UAAA2tF,eAAV,SAAyB/0D,GAAzB,IAAAvL,EAAA5f,KACQogF,EAAiBj1D,EAAQxe,MAAM,EAAG3M,KAAKy+E,uBAE7C,GAAIz+E,KAAKqgF,oBAAqB,CAC5B,IAAIC,KAGWF,EACZ/yE,IAAI,SAAC2pE,GACJ,OAAAD,GAAmBC,EAAQp3D,EAAKygE,uBAEjCx5D,OAAO,SAACiyB,EAAW5nD,EAAWuE,GAAa,OAAAA,EAAEoQ,QAAQizC,KAAO5nD,IAExD8oB,QAAQ,SAACumE,GAEdD,EAAQx6E,KAAK,IAAIqwE,GAAeoK,EAAOA,GAAO,IAG9CD,EAAUA,EAAQ1nD,OAChBwnD,EACGv5D,OACC,SAACmwD,GACC,OAAAD,GAAmBC,EAAQp3D,EAAKygE,uBAAyBE,IAE5DlzE,IACC,SAAC2pE,GACC,WAAIb,GACFa,EACAD,GAAmBC,EAAQp3D,EAAKogE,4BAM5ChgF,KAAK+4E,SAAWuH,OAEhBtgF,KAAK+4E,SAAWqH,EAAQ/yE,IACtB,SAAC2pE,GACC,WAAIb,GACFa,EACAD,GAAmBC,EAAQp3D,EAAKogE,0BAMhCrC,EAAAprF,UAAA4tF,WAAV,WACE,OAAOngF,KAAK+4E,SAAS5kF,OAAS,GAxdvBqsF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,oCAKQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,6CAEQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,0CAEQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,gDAKQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,+CAIQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,8CAKQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,yCAIQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,4CAIQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,+CAIQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,kDAKQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,oDAIQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,gDAIQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,8CAEQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,8CAEQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,2DAIS4uF,IAAT5uF,OAAAkqB,GAAA,OAAAlqB,2CAIS4uF,IAAT5uF,OAAAkqB,GAAA,OAAAlqB,6CAES4uF,IAAT5uF,OAAAkqB,GAAA,OAAAlqB,4CAES4uF,IAAT5uF,OAAAkqB,GAAA,OAAAlqB,0CAMQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,oCAGQ4uF,IAAR5uF,OAAAkqB,GAAA,MAAAlqB,iCAmED4uF,IADC5uF,OAAAkqB,GAAA,aAAAlqB,CAAa,SAAU,wCAuBxB4uF,IADC5uF,OAAAkqB,GAAA,aAAAlqB,CAAa,SAAU,yCAmCxB4uF,IAFC5uF,OAAAkqB,GAAA,aAAAlqB,CAAa,SACbA,OAAAkqB,GAAA,aAAAlqB,CAAa,sCASd4uF,IADC5uF,OAAAkqB,GAAA,aAAAlqB,CAAa,oCAQd4uF,IADC5uF,OAAAkqB,GAAA,aAAAlqB,CAAa,WAAY,0CAtNf+rF,EAAkB6C,IAD9B5uF,OAAAkqB,GAAA,UAAAlqB,EAAW8uB,SAAU,cAAemnB,SAAU,kBAClC81C,GAAb,0UCXA8C,GAAA,oBAAAC,KAOA,SAPaA,EACJA,EAAAp7D,QAAP,WACE,OACEC,SAAUo7D,EACV1+D,WAAY6K,GAAwBmD,MAJ7BywD,EAAeC,EAAAC,IAN3BhvF,OAAAkqB,GAAA,SAAAlqB,EACC8zB,SAAUC,GAAA,cACVC,cAAegzD,GAA6B8E,IAC5CrtF,SAAUuoF,GAA6B8E,IACvC73D,iBAAkB+yD,OAEP8H,SAAb,GCJMG,IACJC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAECC,IACJC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KAEDC,GAAa,SAAUvuF,GAC3B,OAAe,IAARA,EAAY,EAAY,IAARA,EAAY,EAAY,IAARA,EAAY,EAAIA,EAAM,KAAO,GAAKA,EAAM,KAAO,GAAK,EAAIA,EAAM,KAAO,GAAK,EAAI,GAEjHwuF,IACJ1vF,GAAI,eAAgB,eAAgB,UAAW,WAAY,UAAW,WAAY,YAClFpB,GAAI,eAAgB,eAAgB,UAAW,WAAY,WAAY,WAAY,YACnFgC,GAAI,cAAe,cAAe,SAAU,UAAW,WAAY,UAAW,WAC9E9B,GAAI,aAAc,YAAa,QAAS,SAAU,UAAW,WAAY,UACzE+B,GAAI,aAAc,YAAa,QAAS,SAAU,UAAW,UAAW,UACxEX,GAAI,aAAc,YAAa,QAAS,SAAU,WAAY,WAAY,WAEtEyvF,GAAY,SAAUC,GAC1B,OAAO,SAAU1uF,EAAaqO,GAC5B,IAAMsgF,EAAIJ,GAAWvuF,GACjBgB,EAAMwtF,GAAQE,GAAGH,GAAWvuF,IAKhC,OAJU,IAAN2uF,IACF3tF,EAAMA,EAAIqN,EAAgB,EAAI,IAGxBrN,EAAeyE,QAAQ,MAAOzF,EAAIU,cAGxCkuF,IACJ,QACA,SACA,OACA,QACA,OACA,QACA,QACA,QACA,SACA,SACA,SACA,UAGWC,IACX3oE,KAAM,KACNjc,OAAM2kF,GACN7kF,YAAa6kF,GACblwE,SAAU,sDAAsDM,MAAM,KACtEP,cAAe,wCAAwCO,MAAM,KAC7DR,YAAa,gBAAgBQ,MAAM,KACnC8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,cACJC,IAAK,oBACLC,KAAM,0BAERkF,cAAe,MACfhR,KAAI,SAACjS,GACH,MAAO,MAAQA,GAEjB4H,SAAQ,SAAC9B,EAAMC,EAAQqb,GACrB,OAAItb,EAAO,GACF,IAEA,KAGXyY,UACE6D,QAAS,wBACTC,QAAS,uBACTC,SAAU,uBACVC,QAAS,sBACTC,SAAU,uBACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,SACRC,KAAM,SACNvlB,EAAG2vF,GAAU,KACbziF,GAAIyiF,GAAU,KACd/wF,EAAG+wF,GAAU,KACbnqE,GAAImqE,GAAU,KACd/uF,EAAG+uF,GAAU,KACblqE,GAAIkqE,GAAU,KACd7wF,EAAG6wF,GAAU,KACbjqE,GAAIiqE,GAAU,KACd9uF,EAAG8uF,GAAU,KACbhqE,GAAIgqE,GAAU,KACdzvF,EAAGyvF,GAAU,KACb/pE,GAAI+pE,GAAU,MAEhB30E,SAAA,SAAS9Y,GACP,OAAOA,EAAIyE,QAAQ,gBAAiB,SAAU0L,GAC5C,OAAOy8E,GAAUz8E,KAChB1L,QAAQ,KAAM,MAEnBkJ,WAAU,SAAC3N,GACT,OAAOA,EAAIyE,QAAQ,MAAO,SAAU0L,GAClC,OAAO87E,GAAU97E,KAChB1L,QAAQ,KAAM,MAEnBmH,MACEsK,IAAK,EACLC,IAAK,KC1HH43E,GAAmB,oFAAoF/vE,MAAM,KAC7GjV,GAAwB,kDAAkDiV,MAAM,KAEtF,SAAAgwE,GAAgBhvF,GACd,OAAQA,EAAM,GAAOA,EAAM,GAAwB,MAAdA,EAAM,IAG7C,SAAAivF,GAAmBjvF,EAAaqO,EAAwBjB,EAAaoB,GACnE,IAAMsD,EAAS9R,EAAM,IAErB,OAAQoN,GACN,IAAK,IACH,OAAQiB,GAAiBG,EAAY,aAAe,gBACtD,IAAK,KACH,OAAIH,GAAiBG,EACZsD,GAAUk9E,GAAOhvF,GAAO,UAAY,UAEpC8R,EAAS,YAGpB,IAAK,IACH,OAAOzD,EAAgB,SAAYG,EAAW,SAAW,UAC3D,IAAK,KACH,OAAIH,GAAiBG,EACZsD,GAAUk9E,GAAOhvF,GAAO,SAAW,SAEnC8R,EAAS,WAGpB,IAAK,IACH,OAAOzD,EAAgB,SAAYG,EAAW,SAAW,UAC3D,IAAK,KACH,OAAIH,GAAiBG,EACZsD,GAAUk9E,GAAOhvF,GAAO,SAAW,SAEnC8R,EAAS,WAGpB,IAAK,IACH,OAAQzD,GAAiBG,EAAY,MAAQ,OAC/C,IAAK,KACH,OAAIH,GAAiBG,EACZsD,GAAUk9E,GAAOhvF,GAAO,MAAQ,OAEhC8R,EAAS,MAGpB,IAAK,IACH,OAAQzD,GAAiBG,EAAY,QAAU,UACjD,IAAK,KACH,OAAIH,GAAiBG,EACZsD,GAAUk9E,GAAOhvF,GAAO,SAAW,UAEnC8R,EAAS,SAGpB,IAAK,IACH,OAAQzD,GAAiBG,EAAY,MAAQ,QAC/C,IAAK,KACH,OAAIH,GAAiBG,EACZsD,GAAUk9E,GAAOhvF,GAAO,OAAS,OAEjC8R,EAAS,QAMjB,IAAMo9E,IACXhpE,KAAM,KACNjc,OAAM8kF,GACNhlF,YAAWA,GACXM,YAAc,SAAUJ,EAAQF,GAC9B,IAAIzM,EAAG4jB,KACP,IAAK5jB,EAAI,EAAGA,EAAI,GAAIA,IAElB4jB,EAAa5jB,GAAK,IAAIiI,OAAO,IAAM0E,EAAO3M,GAAK,MAAQyM,EAAYzM,GAAK,IAAK,KAE/E,OAAO4jB,EANI,CAOX6tE,GAAQhlF,IACVolF,iBAAmB,SAAUplF,GAC3B,IAAIzM,EAAG8jB,KACP,IAAK9jB,EAAI,EAAGA,EAAI,GAAIA,IAClB8jB,EAAkB9jB,GAAK,IAAIiI,OAAO,IAAMwE,EAAYzM,GAAK,IAAK,KAEhE,OAAO8jB,EALS,CAMhBrX,IACFqlF,gBAAkB,SAAUnlF,GAC1B,IAAI3M,EAAG6jB,KACP,IAAK7jB,EAAI,EAAGA,EAAI,GAAIA,IAClB6jB,EAAiB7jB,GAAK,IAAIiI,OAAO,IAAM0E,EAAO3M,GAAK,IAAK,KAE1D,OAAO6jB,EALQ,CAMf4tE,IACFrwE,SAAU,mDAAmDM,MAAM,KACnEP,cAAe,uBAAuBO,MAAM,KAC5CR,YAAa,uBAAuBQ,MAAM,KAC1CqB,gBACEhB,GAAI,OACJD,IAAK,UACLE,EAAG,aACHC,GAAI,eACJC,IAAK,oBACLC,KAAM,yBACNliB,EAAG,cAEL0iB,UACE6D,QAAS,cACTC,QAAS,eACTC,SAAA,SAAS/kB,GACP,OAAQ+d,GAAa/d,IACnB,KAAK,EACH,MAAO,kBACT,KAAK,EACL,KAAK,EACH,MAAO,kBACT,KAAK,EACH,MAAO,mBACT,KAAK,EACH,MAAO,oBACT,KAAK,EACH,MAAO,iBACT,KAAK,EACH,MAAO,oBAGbglB,QAAS,eACTC,SAAA,SAASjlB,GACP,OAAQ+d,GAAa/d,IACnB,KAAK,EACH,MAAO,wBACT,KAAK,EACL,KAAK,EACH,MAAO,uBACT,KAAK,EACH,MAAO,wBACT,KAAK,EACL,KAAK,EACH,MAAO,uBACT,KAAK,EACH,MAAO,0BAGbmhB,SAAU,KAEZ3R,cACE2V,OAAQ,QACRC,KAAM,UACNvlB,EAAGmwF,GACHjjF,GAAIijF,GACJvxF,EAAGuxF,GACH3qE,GAAI2qE,GACJvvF,EAAGuvF,GACH1qE,GAAI0qE,GACJrxF,EAAGqxF,GACHzqE,GAAIyqE,GACJtvF,EAAGsvF,GACHxqE,GAAIwqE,GACJjwF,EAAGiwF,GACHvqE,GAAIuqE,IAEN9qE,uBAAwB,YACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK,ICzKIk4E,IACXnpE,KAAM,KACNjc,OAAS,sFAAsF+U,MAAM,KACrGjV,YAAc,kDAAkDiV,MAAM,KACtEN,SAAW,qDAAqDM,MAAM,KACtEP,cAAgB,8BAA8BO,MAAM,KACpDR,YAAc,uBAAuBQ,MAAM,KAC3CqB,gBACIhB,GAAK,QACLD,IAAM,WACNE,EAAI,aACJC,GAAK,eACLC,IAAM,qBACNC,KAAO,sCAEXQ,UACI6D,QAAU,iBACVC,QAAU,oBACVC,SAAW,mBACXC,QAAU,iBACVC,SAAW,qBACX9D,SAAW,KAEf3R,cACI2V,OAAS,QACTC,KAAO,WACPvlB,EAAI,cACJpB,EAAI,WACJ4mB,GAAK,cACL5kB,EAAI,UACJ6kB,GAAK,WACL3mB,EAAI,SACJ4mB,GAAK,UACL7kB,EAAI,WACJ8kB,GAAK,aACLzlB,EAAI,QACJ0lB,GAAK,SAETP,uBAAwB,YACxBzhB,QAAU,MACVkK,MACIsK,IAAM,EACNC,IAAM;;;;;;;;;ACpCZ,SAAAm4E,GAA6BtvF,EAAaqO,EAAwBjB,EAAaoB,GAC7E,IAAMxE,GACJtM,GAAM,cAAe,gBACrBgC,GAAM,cAAe,gBACrB9B,GAAM,UAAW,aACjB4mB,IAAOxkB,EAAM,QAASA,EAAM,UAC5BL,GAAM,YAAa,eACnB8kB,IAAOzkB,EAAM,UAAWA,EAAM,YAC9BhB,GAAM,WAAY,cAClB0lB,IAAO1kB,EAAM,SAAUA,EAAM,YAE/B,OAAOqO,EAAgBrE,EAAOoD,GAAK,GAAKpD,EAAOoD,GAAK,GAG/C,IAAMmiF,IACXrpE,KAAM,KACNjc,OAAQ,qFAAqF+U,MAAM,KACnGjV,YAAa,6DAA6DiV,MAAM,KAChFwwE,kBAAkB,EAClB9wE,SAAU,8DAA8DM,MAAM,KAC9EP,cAAe,8BAA8BO,MAAM,KACnDR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,eACJC,IAAK,qBACLC,KAAM,4BAERQ,UACE6D,QAAS,sBACT1D,SAAU,IACV2D,QAAS,uBACTC,SAAU,qBACVC,QAAS,wBACTC,SAAU,gCAEZzV,cACE2V,OAAQ,QACRC,KAAM,SACNvlB,EAAG,oBACHkN,GAAI,cACJtO,EAAG4xF,GACHhrE,GAAI,aACJ5kB,EAAG4vF,GACH/qE,GAAI,aACJ3mB,EAAG0xF,GACH9qE,GAAI8qE,GACJ3vF,EAAG2vF,GACH7qE,GAAI6qE,GACJtwF,EAAGswF,GACH5qE,GAAI4qE,IAENnrE,uBAAwB,YACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK,IC9DIs4E,IACXvpE,KAAM,QACNjc,OAAS,wFAAwF+U,MAAM,KACvGjV,YAAc,kDAAkDiV,MAAM,KACtEN,SAAW,2DAA2DM,MAAM,KAC5EP,cAAgB,8BAA8BO,MAAM,KACpDR,YAAc,uBAAuBQ,MAAM,KAC3CqB,gBACEhB,GAAK,QACLD,IAAM,WACNE,EAAI,aACJC,GAAK,cACLC,IAAM,oBACNC,KAAO,2BAETQ,UACE6D,QAAU,gBACVC,QAAU,mBACVC,SAAW,eACXC,QAAU,oBACVC,SAAW,sBACX9D,SAAW,KAEb3R,cACE2V,OAAS,QACTC,KAAO,SACPvlB,EAAI,gBACJkN,GAAK,aACLtO,EAAI,WACJ4mB,GAAK,aACL5kB,EAAI,UACJ6kB,GAAK,WACL3mB,EAAI,QACJ4mB,GAAK,UACL7kB,EAAI,UACJ8kB,GAAK,YACLzlB,EAAI,SACJ0lB,GAAK,YAEPP,uBAAwB,uBACxBzhB,QAAA,SAAQka,GACN,IAAM5c,EAAM0vF,OAAO9yE,GACb9a,EAAI9B,EAAM,GAKhB,OAAOA,GAJ4B,MAApBA,EAAM,IAAM,IAAa,KAC7B,IAAN8B,EAAW,KACH,IAANA,EAAW,KACH,IAANA,EAAW,KAAO,OAG7B8K,MACEsK,IAAM,EACNC,IAAM,IClDNw4E,GAAiB,8DAA8D3wE,MAAM,KACvF4wE,GAAc,kDAAkD5wE,MAAM,KAEpE3U,IAAe,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAClHF,GAAc,mLAEL0lF,IACX3pE,KAAM,KACNjc,OAAQ,2FAA2F+U,MAAM,KACzGjV,YAAA,SAAY9K,EAAY+K,EAAgBjH,GACtC,OAAK9D,EAID,QAAQsX,KAAKvM,GACR4lF,GAAYjsF,EAAS1E,EAAM8D,IAG7B4sF,GAAehsF,EAAS1E,EAAM8D,IAP5B4sF,IASXxlF,YAAWA,GACXD,iBAAkBC,GAClB2lF,kBAAmB,+FACnBC,uBAAwB,0FACxB1lF,YAAWA,GACX+kF,gBAAiB/kF,GACjB8kF,iBAAkB9kF,GAClBqU,SAAU,uDAAuDM,MAAM,KACvEP,cAAe,qCAAqCO,MAAM,KAC1DR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,OACJD,IAAK,UACLE,EAAG,aACHC,GAAI,wBACJC,IAAK,6BACLC,KAAM,oCAERQ,UACE6D,QAAO,SAAC7kB,GACN,MAAO,aAAmC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE7D8kB,QAAO,SAAC9kB,GACN,MAAO,gBAAsC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAEhE+kB,SAAQ,SAAC/kB,GACP,MAAO,cAAoC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE9DglB,QAAO,SAAChlB,GACN,MAAO,cAAoC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE9DilB,SAAQ,SAACjlB,GACP,MAAO,0BAAgD,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE1EmhB,SAAU,KAEZ3R,cACE2V,OAAQ,QACRC,KAAM,UACNvlB,EAAG,gBACHkN,GAAI,cACJtO,EAAG,YACH4mB,GAAI,aACJ5kB,EAAG,WACH6kB,GAAI,WACJ3mB,EAAG,SACH4mB,GAAI,UACJ7kB,EAAG,SACH8kB,GAAI,WACJzlB,EAAG,SACH0lB,GAAI,WAENP,uBAAwB,WACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK,IC9EL64E,GAAiB,8DAA8DhxE,MAAM,KACvFixE,GAAc,kDAAkDjxE,MAAM,KAEpEkxE,IAAe,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAClHC,GAAc,mLAELC,IACXlqE,KAAM,QACNjc,OAAQ,2FAA2F+U,MAAM,KACzGjV,YAAA,SAAY9K,EAAY+K,EAAgBjH,GACtC,OAAK9D,EAEM,QAAQsX,KAAKvM,GACfimF,GAAYtsF,EAAS1E,EAAM8D,IAE3BitF,GAAersF,EAAS1E,EAAM8D,IAJ9BitF,IAOX7lF,YAAWgmF,GACXjmF,iBAAkBimF,GAClBL,kBAAmB,+FACnBC,uBAAwB,0FACxB1lF,YAAW6lF,GACXd,gBAAiBc,GACjBf,iBAAkBe,GAClBxxE,SAAU,uDAAuDM,MAAM,KACvEP,cAAe,qCAAqCO,MAAM,KAC1DR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,SACJD,IAAK,YACLE,EAAG,aACHC,GAAI,wBACJC,IAAK,+BACLC,KAAM,sCAERQ,UACE6D,QAAA,SAAQ7kB,GACN,MAAO,aAAmC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE7D8kB,QAAA,SAAQ9kB,GACN,MAAO,gBAAsC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAEhE+kB,SAAA,SAAS/kB,GACP,MAAO,cAAoC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE9DglB,QAAA,SAAQhlB,GACN,MAAO,cAAoC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE9DilB,SAAA,SAASjlB,GACP,MAAO,0BAAgD,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE1EmhB,SAAU,KAEZ3R,cACE2V,OAAQ,QACRC,KAAM,UACNvlB,EAAG,gBACHkN,GAAI,cACJtO,EAAG,YACH4mB,GAAI,aACJ5kB,EAAG,WACH6kB,GAAI,WACJ3mB,EAAG,SACH4mB,GAAI,UACJ7kB,EAAG,SACH8kB,GAAI,WACJzlB,EAAG,SACH0lB,GAAI,WAENP,uBAAwB,WACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK,IC1ELk5E,GAAiB,8DAA8DrxE,MAAM,KACrFsxE,GAAc,kDAAkDtxE,MAAM,KAE7DuxE,IACXrqE,KAAM,QACNjc,OAAQ,2FAA2F+U,MAAM,KACzGjV,YAAA,SAAY9K,EAAY+K,EAAgBjH,GACtC,OAAK9D,EAEM,QAAQsX,KAAKvM,GACfsmF,GAAY3sF,EAAS1E,EAAM8D,IAE3BstF,GAAe1sF,EAAS1E,EAAM8D,IAJ9BstF,IAOXb,kBAAkB,EAClB9wE,SAAU,uDAAuDM,MAAM,KACvEP,cAAe,qCAAqCO,MAAM,KAC1DR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,SACJD,IAAK,YACLE,EAAG,aACHC,GAAI,wBACJC,IAAK,+BACLC,KAAM,sCAERQ,UACE6D,QAAA,SAAQ7kB,GACN,MAAO,aAAmC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE7D8kB,QAAA,SAAQ9kB,GACN,MAAO,gBAAsC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAEhE+kB,SAAA,SAAS/kB,GACP,MAAO,cAAoC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE9DglB,QAAA,SAAQhlB,GACN,MAAO,cAAoC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE9DilB,SAAA,SAASjlB,GACP,MAAO,0BAAgD,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE1EmhB,SAAU,KAEZ3R,cACE2V,OAAQ,QACRC,KAAM,UACNvlB,EAAG,gBACHkN,GAAI,cACJtO,EAAG,YACH4mB,GAAI,aACJ5kB,EAAG,WACH6kB,GAAI,WACJ3mB,EAAG,SACH4mB,GAAI,UACJ7kB,EAAG,SACH8kB,GAAI,WACJzlB,EAAG,SACH0lB,GAAI,WAENP,uBAAwB,WACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK,ICpELq5E,GAAc,wEAAwExxE,MAAM,KAC9FyxE,IACE,QAAS,QAAS,SAAU,SAAU,SAAU,SAAU,SAC1DD,GAAY,GAAIA,GAAY,GAAIA,GAAY;;;0DAGhD;SAAAE,GAAmB1wF,EAAaqO,EAAwBjB,EAAaoB,GACnE,IAAIsD,EAAS,GACb,OAAQ1E,GACN,IAAK,IACH,OAAOoB,EAAW,oBAAsB,kBAC1C,IAAK,KACH,OAAOA,EAAW,WAAa,WACjC,IAAK,IACH,OAAOA,EAAW,WAAa,WACjC,IAAK,KACHsD,EAAStD,EAAW,WAAa,YACjC,MACF,IAAK,IACH,OAAOA,EAAW,SAAW,QAC/B,IAAK,KACHsD,EAAStD,EAAW,SAAW,SAC/B,MACF,IAAK,IACH,OAAOA,EAAW,SAAW,QAC/B,IAAK,KACHsD,EAAStD,EAAW,SAAW,SAC/B,MACF,IAAK,IACH,OAAOA,EAAW,YAAc,WAClC,IAAK,KACHsD,EAAStD,EAAW,YAAc,YAClC,MACF,IAAK,IACH,OAAOA,EAAW,SAAW,QAC/B,IAAK,KACHsD,EAAStD,EAAW,SAAW,SAInC,OADAsD,EAIF,SAAsB9R,EAAawO,GACjC,OAAOxO,EAAM,GAAMwO,EAAWiiF,GAAczwF,GAAOwwF,GAAYxwF,GAAQA,EAL9D2wF,CAAa3wF,EAAKwO,GAAY,IAAMsD,EAQxC,IAAM8+E,IACX1qE,KAAM,KACNjc,OAAQ,2GAA2G+U,MAAM,KACzHjV,YAAa,uEAAuEiV,MAAM,KAC1FN,SAAU,qEAAqEM,MAAM,KACrFP,cAAe,uBAAuBO,MAAM,KAC5CR,YAAa,uBAAuBQ,MAAM,KAC1CqB,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,mBACJC,IAAK,gCACLC,KAAM,sCACNliB,EAAG,WACHszF,GAAI,cACJC,IAAK,2BACLC,KAAM,iCAER9wE,UACE6D,QAAS,oBACTC,QAAS,sBACTC,SAAU,gBACVC,QAAS,mBACTC,SAAU,4BACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,YACRC,KAAM,YACNvlB,EAAG4xF,GACH1kF,GAAI0kF,GACJhzF,EAAGgzF,GACHpsE,GAAIosE,GACJhxF,EAAGgxF,GACHnsE,GAAImsE,GACJ9yF,EAAG8yF,GACHlsE,GAAIksE,GACJ/wF,EAAG+wF,GACHjsE,GAAIisE,GACJ1xF,EAAG0xF,GACHhsE,GAAIgsE,IAENvsE,uBAAwB,YACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK,IC7FI65E,IACX9qE,KAAM,KACNjc,OAAQ,uFAAuF+U,MAAM,KACrGjV,YAAa,iEAAiEiV,MAAM,KACpFwwE,kBAAkB,EAClB9wE,SAAU,sDAAsDM,MAAM,KACtEP,cAAe,qCAAqCO,MAAM,KAC1DR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,cACJC,IAAK,oBACLC,KAAM,0BAERQ,UACE6D,QAAS,qBACTC,QAAS,gBACTC,SAAU,cACVC,QAAS,cACTC,SAAU,sBACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,UACRC,KAAM,YACNvlB,EAAG,oBACHkN,GAAI,cACJtO,EAAG,aACH4mB,GAAI,aACJ5kB,EAAG,YACH6kB,GAAI,YACJ3mB,EAAG,UACH4mB,GAAI,WACJ7kB,EAAG,UACH8kB,GAAI,UACJzlB,EAAG,QACH0lB,GAAI,UAENP,uBAAwB,eACxBzhB,QAAA,SAAQka,EAAcJ,GACpB,IAAMxc,EAAM0vF,OAAO9yE,GACnB,OAAQJ,GAIN,IAAK,IACH,OAAOxc,GAAe,IAARA,EAAY,KAAO,IAGnC,QACA,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,IACH,OAAOA,GAAe,IAARA,EAAY,KAAO,KAGnC,IAAK,IACL,IAAK,IACH,OAAOA,GAAe,IAARA,EAAY,KAAO,OAGvC4M,MACEsK,IAAK,EACLC,IAAK,IClEL85E,IACA/D,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELuD,IACEC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,KAGIC,IACX3rE,KAAM,KACNjc,OAAQ,8EAA8E+U,MAAM,KAC5FjV,YAAa,6DAA6DiV,MAAM,KAChFwwE,kBAAkB,EAClB9wE,SAAU,uDAAuDM,MAAM,KACvEP,cAAe,kCAAkCO,MAAM,KACvDR,YAAa,qBAAqBQ,MAAM,KACxCqB,gBACEhB,GAAI,aACJD,IAAK,gBACLE,EAAG,aACHC,GAAI,cACJC,IAAK,0BACLC,KAAM,iCAERQ,UACE6D,QAAS,UACTC,QAAS,UACTC,SAAU,WACVC,QAAS,UACTC,SAAU,mBACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,SACRC,KAAM,UACNvlB,EAAG,cACHkN,GAAI,WACJtO,EAAG,UACH4mB,GAAI,UACJ5kB,EAAG,UACH6kB,GAAI,UACJ3mB,EAAG,SACH4mB,GAAI,SACJ7kB,EAAG,WACH8kB,GAAI,WACJzlB,EAAG,UACH0lB,GAAI,WAEN5K,SAAA,SAAS9Y,GACP,OAAOA,EAAIyE,QAAQ,gBAAiB,SAAU0L,GAC5C,OAAO+/E,GAAU//E,MAGrBxC,WAAA,SAAW3N,GACT,OAAOA,EAAIyE,QAAQ,MAAO,SAAU0L,GAClC,OAAO8/E,GAAU9/E,MAKrBwT,cAAe,qBACf1L,aAAY,SAACzR,EAAM8B,GAIjB,OAHa,KAAT9B,IACFA,EAAO,GAEQ,QAAb8B,EACK9B,EAAO,EAAIA,EAAOA,EAAO,GACV,SAAb8B,EACF9B,EACe,UAAb8B,EACF9B,GAAQ,GAAKA,EAAOA,EAAO,GACZ,QAAb8B,EACF9B,EAAO,QADT,GAIT8B,SAAQ,SAAC9B,EAAMC,EAAQqb,GACrB,OAAItb,EAAO,EACF,MACEA,EAAO,GACT,OACEA,EAAO,GACT,QACEA,EAAO,GACT,MAEA,OAGXoF,MACEsK,IAAK,EACLC,IAAK,IC3GL26E,GAAc,gEAAgE9yE,MAAM;;;wDACxF;SAAA+yE,GAAmB/xF,EAAaqO,EAAwBjB,EAAaoB,GACnE,OAAQpB,GACN,IAAK,IACH,OAAQoB,GAAYH,EAAiB,mBAAqB,oBAC5D,IAAK,KACH,OAAOrO,GAAQwO,GAAYH,EAAiB,aAAe,eAC7D,IAAK,IACH,MAAO,OAASG,GAAYH,EAAgB,QAAU,UACxD,IAAK,KACH,OAAOrO,GAAOwO,GAAYH,EAAgB,QAAU,UACtD,IAAK,IACH,MAAO,OAASG,GAAYH,EAAgB,OAAS,UACvD,IAAK,KACH,OAAOrO,GAAOwO,GAAYH,EAAgB,OAAS,UACrD,IAAK,IACH,MAAO,OAASG,GAAYH,EAAgB,OAAS,UACvD,IAAK,KACH,OAAOrO,GAAOwO,GAAYH,EAAgB,OAAS,UACrD,IAAK,IACH,MAAO,OAASG,GAAYH,EAAgB,SAAW,YACzD,IAAK,KACH,OAAOrO,GAAOwO,GAAYH,EAAgB,SAAW,YACvD,IAAK,IACH,MAAO,OAASG,GAAYH,EAAgB,MAAQ,QACtD,IAAK,KACH,OAAOrO,GAAOwO,GAAYH,EAAgB,MAAQ,QAEtD,MAAO,GAET,SAAA2jF,GAAc/yF,EAAYuP,GACxB,OAAQA,EAAW,GAAK,WAAa,IAAMsjF,GAAY90E,GAAa/d,IAAS,aAGxE,IAAMgzF,IACX/rE,KAAM,KACNjc,OAAS,oGAAoG+U,MAAM,KACnHjV,YAAc,qDAAqDiV,MAAM,KACzEN,SAAW,sDAAsDM,MAAM,KACvEP,cAAgB,gCAAgCO,MAAM,KACtDR,YAAc,qBAAqBQ,MAAM,KACzCqB,gBACEhB,GAAK,OACLD,IAAM,UACNE,EAAI,cACJC,GAAK,gBACLC,IAAM,qBACNC,KAAO,4BAETkF,cAAe,SACfhR,KAAI,SAAEjS,GACJ,MAAyC,MAAlCA,EAAMmhB,OAAO,GAAG9a,eAEzBuB,SAAQ,SAAEwD,EAAOC,EAAS+V,GACxB,OAAIhW,EAAQ,IACS,IAAZgW,EAAmB,KAAO,MAEd,IAAZA,EAAmB,KAAO,MAGrC7C,UACE6D,QAAU,gBACVC,QAAU,oBACVC,SAAQ,SAAE/kB,GACR,OAAO+yF,GAAK/yF,GAAM,IAEpBglB,QAAU,oBACVC,SAAQ,SAAEjlB,GACR,OAAO+yF,GAAK/yF,GAAM,IAEpBmhB,SAAW,KAEb3R,cACE2V,OAAS,WACTC,KAAO,KACPvlB,EAAIizF,GACJ/lF,GAAK+lF,GACLr0F,EAAIq0F,GACJztE,GAAKytE,GACLryF,EAAIqyF,GACJxtE,GAAKwtE,GACLn0F,EAAIm0F,GACJvtE,GAAKutE,GACLpyF,EAAIoyF,GACJttE,GAAKstE,GACL/yF,EAAI+yF,GACJrtE,GAAKqtE,IAEP5tE,uBAAwB,YACxBzhB,QAAU,MACVkK,MACEsK,IAAM,EACNC,IAAM,IC3FG+6E,IACXhsE,KAAM,KACNjc,OAAS,yFAAyF+U,MAAM,KACxGjV,YAAc,kDAAkDiV,MAAM,KACtEN,SAAW,6CAA6CM,MAAM,KAC9DP,cAAgB,8BAA8BO,MAAM,KACpDR,YAAc,uBAAuBQ,MAAM,KAC3CqB,gBACEhB,GAAK,QACLD,IAAM,WACNE,EAAI,aACJC,GAAK,cACLC,IAAM,4BACNC,KAAO,mCAETkF,cAAe,wBACf1L,aAAY,SAACzR,EAAM8B,GAIjB,OAHa,KAAT9B,IACFA,EAAO,GAEQ,SAAb8B,EACK9B,EACe,UAAb8B,EACF9B,GAAQ,GAAKA,EAAOA,EAAO,GACZ,SAAb8B,GAAoC,UAAbA,EACzB9B,EAAO,QADT,GAIT8B,SAAQ,SAACwD,EAAOC,EAAS+V,GACvB,OAAIhW,EAAQ,GACH,OACEA,EAAQ,GACV,QACEA,EAAQ,GACV,OAEA,SAGXmT,UACE6D,QAAU,sBACVC,QAAU,mBACVC,SAAW,kBACXC,QAAU,qBACVC,SAAW,uBACX9D,SAAW,KAEb3R,cACE2V,OAAS,WACTC,KAAO,eACPvlB,EAAI,iBACJkN,GAAK,WACLtO,EAAI,UACJ4mB,GAAK,WACL5kB,EAAI,QACJ6kB,GAAK,SACL3mB,EAAI,SACJ4mB,GAAK,UACL7kB,EAAI,UACJ8kB,GAAK,WACLzlB,EAAI,UACJ0lB,GAAK,YAEP9X,MACEsK,IAAM,EACNC,IAAM,ICjEGg7E,IACXjsE,KAAM,KACNjc,OAAQ,gGAAgG+U,MAAM,KAC9GjV,YAAa,kDAAkDiV,MAAM,KACrEN,SAAU,2DAA2DM,MAAM,KAC3EP,cAAe,8BAA8BO,MAAM,KACnDR,YAAa,uBAAuBQ,MAAM,KAC1CqB,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,cACJC,IAAK,oBACLC,KAAM,0BAERQ,UACE6D,QAAS,iBACTC,QAAS,mBACTC,SAAU,iBACVC,QAAS,iBACTC,SAAQ,SAACjlB,GACP,OAAQ+d,GAAa/d,IACnB,KAAK,EACH,MAAO,6BACT,QACE,MAAO,+BAGbmhB,SAAU,KAEZ3R,cACE2V,OAAA,SAAOpkB,GACL,OAAQ,YAAcuW,KAAKvW,EAAIU,SAAS,KAAO,MAAQ,MAAQ,IAAMV,GAEvEqkB,KAAM,QACNvlB,EAAG,iBACHkN,GAAI,aACJtO,EAAG,YACH4mB,GAAI,YACJ5kB,EAAG,SACH6kB,GAAI,SACJ3mB,EAAG,YACH4mB,GAAI,YACJ7kB,EAAG,UACH8kB,GAAI,UACJzlB,EAAG,UACH0lB,GAAI,WAENP,uBAAwB,WACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK,ICtDIi7E,IACXlsE,KAAM,KACNjc,OAAS,yCAAyC+U,MAAM,KACxDjV,YAAc,yCAAyCiV,MAAM,KAC7DN,SAAW,8BAA8BM,MAAM,KAC/CP,cAAgB,gBAAgBO,MAAM,KACtCR,YAAc,gBAAgBQ,MAAM,KACpCqB,gBACEhB,GAAK,QACLD,IAAM,WACNE,EAAI,aACJC,GAAK,YACLC,IAAM,kBACNC,KAAO,uBACPliB,EAAI,aACJszF,GAAK,YACLC,IAAM,kBACNC,KAAO,wBAETpsE,cAAe,SACfhR,KAAI,SAAEjS,GACJ,MAAiB,OAAVA,GAET4H,SAAQ,SAAE9B,EAAMC,EAAQqb,GACtB,OAAItb,EAAO,GACF,KAEA,MAGXyY,UACE6D,QAAU,UACVC,QAAU,UACVC,SAAW,cACXC,QAAU,UACVC,SAAW,cACX9D,SAAW,KAEb+D,uBAAyB,WACzBzhB,QAAA,SAAS1C,EAAawc,GACpB,OAAQA,GACN,IAAK,IACL,IAAK,IACL,IAAK,MACH,OAAOxc,EAAM,IACf,QACE,OAAOA,EAAIU,SAAS,MAG1B+N,cACE2V,OAAS,MACTC,KAAO,MACPvlB,EAAI,KACJkN,GAAK,MACLtO,EAAI,KACJ4mB,GAAK,MACL5kB,EAAI,MACJ6kB,GAAK,OACL3mB,EAAI,KACJ4mB,GAAK,MACL7kB,EAAI,MACJ8kB,GAAK,OACLzlB,EAAI,KACJ0lB,GAAK,QC7DI2tE,IACXnsE,KAAM,KACNjc,OAAS,yCAAyC+U,MAAM,KACxDjV,YAAc,yCAAyCiV,MAAM,KAC7DN,SAAW,8BAA8BM,MAAM,KAC/CP,cAAgB,gBAAgBO,MAAM,KACtCR,YAAc,gBAAgBQ,MAAM,KACpCqB,gBACEhB,GAAK,SACLD,IAAM,YACNE,EAAI,aACJC,GAAK,gBACLC,IAAM,uBACNC,KAAO,4BACPliB,EAAI,aACJszF,GAAK,gBACLC,IAAM,uBACNC,KAAO,6BAET9wE,UACE6D,QAAU,QACVC,QAAU,QACVC,SAAW,UACXC,QAAU,QACVC,SAAW,cACX9D,SAAW,KAEb3R,cACE2V,OAAS,OACTC,KAAO,OACPvlB,EAAI,MACJkN,GAAK,MACLtO,EAAI,KACJ4mB,GAAK,MACL5kB,EAAI,OACJ6kB,GAAK,OACL3mB,EAAI,KACJ4mB,GAAK,MACL7kB,EAAI,MACJ8kB,GAAK,MACLzlB,EAAI,MACJ0lB,GAAK,OAEPP,uBAAyB,iBACzBzhB,QAAU,SAAU1C,EAAawc,GAC/B,OAAQA,GACN,IAAK,IACL,IAAK,IACL,IAAK,MACH,OAAOxc,EAAM,IACf,IAAK,IACH,OAAOA,EAAM,IACf,IAAK,IACL,IAAK,IACH,OAAOA,EAAM,IACf,QACE,OAAOA,EAAIU,SAAS,MAG1BikB,cAAgB,QAChBhR,KAAO,SAAUnR,GACf,MAAiB,OAAVA,GAET8G,SAAW,SAAU9B,EAAMC,EAAQ6qF,GACjC,OAAO9qF,EAAO,GAAK,KAAO;;;;;;;;ACjE9B,SAAA+qF,GAAmBvyF,EAAaqO,EAAwBjB,EAAaoB,GACnE,OAAQpB,GACN,IAAK,IACH,OAAOiB,EAAgB,gBAAkB,kBAC3C,IAAK,KACH,OAAOrO,GAAOqO,EAAgB,UAAY,aAC5C,IAAK,IACL,IAAK,KACH,OAAOrO,GAAOqO,EAAgB,SAAW,YAC3C,IAAK,IACL,IAAK,KACH,OAAOrO,GAAOqO,EAAgB,OAAS,WACzC,IAAK,IACL,IAAK,KACH,OAAOrO,GAAOqO,EAAgB,QAAU,WAC1C,IAAK,IACL,IAAK,KACH,OAAOrO,GAAOqO,EAAgB,OAAS,UACzC,IAAK,IACL,IAAK,KACH,OAAOrO,GAAOqO,EAAgB,OAAS,WACzC,QACE,OAAOrO,EAAIU,SAAS,KAInB,IAAM8xF,IACXtsE,KAAM,KACNjc,OAAQ,+LAA+L+U,MAAM,KAC7MjV,YAAa,6EAA6EiV,MAAM,KAChGwwE,kBAAkB,EAClB9wE,SAAU,6CAA6CM,MAAM,KAC7DP,cAAe,8BAA8BO,MAAM,KACnDR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,oBACJC,IAAK,0BACLC,KAAM,iCAERkF,cAAe,SACfhR,KAAM,SAAUjS,GACd,MAAiB,OAAVA,GAET4H,SAAU,SAAU9B,EAAMC,EAAQqb,GAChC,OAAItb,EAAO,GACF,KAEA,MAGXyY,UACE6D,QAAS,eACTC,QAAS,eACTC,SAAU,iBACVC,QAAS,eACTC,SAAU,qBACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,WACRC,KAAM,UACNvlB,EAAGyzF,GACHvmF,GAAIumF,GACJ70F,EAAG60F,GACHjuE,GAAIiuE,GACJ7yF,EAAG6yF,GACHhuE,GAAIguE,GACJ30F,EAAG20F,GACH/tE,GAAI+tE,GACJ5yF,EAAG4yF,GACH9tE,GAAI8tE,GACJvzF,EAAGuzF,GACH7tE,GAAI6tE,IAENpuE,uBAAwB,eACxBzhB,QAAS,SAAU1C,EAAawc,GAC9B,OAAQA,GACN,IAAK,IACL,IAAK,IACL,IAAK,MACH,OAAOxc,EAAM,QACf,QACE,OAAOA,EAAIU,SAAS,OCrFxB+xF,GAAsB,6DAA6DzzE,MAAM,KAC3F0zE,GAAyB,kDAAkD1zE,MAAM,KAE/E2zE,IAAe,QAAS,QAAS,iBAAkB,QAAS,SAAU,cAAe,cAAe,QAAS,QAAS,QAAS,QAAS,SACxIC,GAAc,2KAELC,IACX3sE,KAAM,KACNjc,OAAS,0FAA0F+U,MAAM,KACzGjV,YAAA,SAAa9K,EAAY+K,EAAgBjH,GACvC,OAAK9D,EAEM,QAAQsX,KAAKvM,GACf0oF,GAAuB/uF,EAAS1E,EAAM8D,IAEtC0vF,GAAoB9uF,EAAS1E,EAAM8D,IAJnC0vF,IAQXtoF,YAAWyoF,GACX1oF,iBAAkB0oF,GAClB9C,kBAAmB,4FACnBC,uBAAwB,mFAExB1lF,YAAWsoF,GACXvD,gBAAkBuD,GAClBxD,iBAAmBwD,GAEnBj0E,SAAW,6DAA6DM,MAAM,KAC9EP,cAAgB,8BAA8BO,MAAM,KACpDR,YAAc,uBAAuBQ,MAAM,KAC3C8vE,oBAAqB,EACrBzuE,gBACEhB,GAAK,QACLD,IAAM,WACNE,EAAI,aACJC,GAAK,cACLC,IAAM,oBACNC,KAAO,0BAETQ,UACE6D,QAAS,kBACTC,QAAS,iBACTC,SAAU,eACVC,QAAS,mBACTC,SAAU,2BACV9D,SAAU,KAEZ3R,cACE2V,OAAS,UACTC,KAAO,aACPvlB,EAAI,oBACJkN,GAAK,cACLtO,EAAI,aACJ4mB,GAAK,aACL5kB,EAAI,UACJ6kB,GAAK,SACL3mB,EAAI,UACJ4mB,GAAK,WACL7kB,EAAI,YACJ8kB,GAAK,aACLzlB,EAAI,WACJ0lB,GAAK,WAEPP,uBAAwB,kBACxBzhB,QAAA,SAASka,GACP,IAAM5c,EAAM0vF,OAAO9yE,GACnB,OAAO5c,GAAgB,IAARA,GAAqB,IAARA,GAAaA,GAAO,GAAM,MAAQ,OAEhE4M,MACEsK,IAAM,EACNC,IAAM,ICvEN27E,GAAsB,6DAA6D9zE,MAAM,KACzF+zE,GAAyB,kDAAkD/zE,MAAM,KAEjFg0E,IAAe,QAAS,QAAS,iBAAkB,QAAS,SAAU,cAAe,cAAe,QAAS,QAAS,QAAS,QAAS,SACxIC,GAAc,2KAELC,IACXhtE,KAAM,QACNjc,OAAQ,0FAA0F+U,MAAM,KACxGjV,YAAA,SAAY9K,EAAY+K,EAAgBjH,GACtC,OAAK9D,EAEM,QAAQsX,KAAKvM,GACf+oF,GAAuBpvF,EAAS1E,EAAM8D,IAEtC+vF,GAAoBnvF,EAAS1E,EAAM8D,IAJnC+vF,IAQX3oF,YAAW8oF,GACX/oF,iBAAkB+oF,GAClBnD,kBAAmB,4FACnBC,uBAAwB,mFAExB1lF,YAAW2oF,GACX5D,gBAAiB4D,GACjB7D,iBAAkB6D,GAElBt0E,SAAU,6DAA6DM,MAAM,KAC7EP,cAAe,8BAA8BO,MAAM,KACnDR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,cACJC,IAAK,oBACLC,KAAM,0BAERQ,UACE6D,QAAS,kBACTC,QAAS,iBACTC,SAAU,eACVC,QAAS,mBACTC,SAAU,2BACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,UACRC,KAAM,aACNvlB,EAAG,oBACHkN,GAAI,cACJtO,EAAG,aACH4mB,GAAI,aACJ5kB,EAAG,UACH6kB,GAAI,SACJ3mB,EAAG,UACH4mB,GAAI,WACJ7kB,EAAG,YACH8kB,GAAI,aACJzlB,EAAG,WACH0lB,GAAI,WAENP,uBAAwB,kBACxBzhB,QAAA,SAAQka,GACN,IAAM5c,EAAM0vF,OAAO9yE,GACnB,OAAO5c,GAAgB,IAARA,GAAqB,IAARA,GAAaA,GAAO,GAAM,MAAQ,OAEhE4M,MACEsK,IAAK,EACLC,IAAK,ICvELg8E,GAAmB,mGAAmGn0E,MAAM,KAC5Ho0E,GAAmB,qGAAqGp0E,MAAM;;;;sDAElI;SAAAq0E,GAAgBrzF,GACd,OAAQA,EAAM,GAAK,GAAOA,EAAM,GAAK,MAAWA,EAAM,IAAM,IAAQ,EAGtE,SAAAszF,GAAmBtzF,EAAaqO,EAAwBjB,GACtD,IAAI0E,EAAS9R,EAAM,IACnB,OAAQoN,GACN,IAAK,KACH,OAAO0E,GAAUuhF,GAAOrzF,GAAO,UAAY,UAC7C,IAAK,IACH,OAAOqO,EAAgB,SAAW,SACpC,IAAK,KACH,OAAOyD,GAAUuhF,GAAOrzF,GAAO,SAAW,SAC5C,IAAK,IACH,OAAOqO,EAAgB,UAAY,UACrC,IAAK,KACH,OAAOyD,GAAUuhF,GAAOrzF,GAAO,UAAY,UAC7C,IAAK,KACH,OAAO8R,GAAUuhF,GAAOrzF,GAAO,WAAa,YAC9C,IAAK,KACH,OAAO8R,GAAUuhF,GAAOrzF,GAAO,OAAS,QAIvC,IAAMuzF,IACXrtE,KAAM,KACNjc,OAAA,SAAOhL,EAAY+K,EAAgBjH,GACjC,OAAK9D,EAEiB,KAAX+K,EAIF,IAAMopF,GAAiBzvF,EAAS1E,EAAM8D,IAAU,IAAMowF,GAAiBxvF,EAAS1E,EAAM8D,IAAU,IAC9F,SAASwT,KAAKvM,GAChBopF,GAAiBzvF,EAAS1E,EAAM8D,IAEhCowF,GAAiBxvF,EAAS1E,EAAM8D,IAThCowF,IAYXppF,YAAa,kDAAkDiV,MAAM,KACrEN,SAAU,6DAA6DM,MAAM,KAC7EP,cAAe,2BAA2BO,MAAM,KAChDR,YAAa,uBAAuBQ,MAAM,KAC1CqB,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,cACJC,IAAK,oBACLC,KAAM,2BAERQ,UACE6D,QAAS,cACTC,QAAS,eACTC,SAAA,SAAS/kB,GACP,OAAQ+d,GAAa/d,IACnB,KAAK,EACH,MAAO,qBAET,KAAK,EACH,MAAO,mBAET,KAAK,EACH,MAAO,iBAET,KAAK,EACH,MAAO,kBAET,QACE,MAAO,oBAGbglB,QAAS,iBACTC,SAAA,SAASjlB,GACP,OAAQ+d,GAAa/d,IACnB,KAAK,EACH,MAAO,4BACT,KAAK,EACH,MAAO,wBACT,KAAK,EACH,MAAO,yBACT,QACE,MAAO,2BAGbmhB,SAAU,KAEZ3R,cACE2V,OAAQ,QACRC,KAAM,UACNvlB,EAAG,eACHkN,GAAIsnF,GACJ51F,EAAG41F,GACHhvE,GAAIgvE,GACJ5zF,EAAG4zF,GACH/uE,GAAI+uE,GACJ11F,EAAG,UACH4mB,GAAI,SACJ7kB,EAAG,UACH8kB,GAAI6uE,GACJt0F,EAAG,MACH0lB,GAAI4uE,IAENnvE,uBAAwB,YACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK,IChHIq8E,IACXttE,KAAM,QACNjc,OAAQ,2FAA2F+U,MAAM,KACzGjV,YAAa,kDAAkDiV,MAAM,KACrEN,SAAU,iFAAiFM,MAAM,KACjGP,cAAe,8BAA8BO,MAAM,KACnDR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,wBACJC,IAAK,mCACLC,KAAM,0CAERQ,UACE6D,QAAS,eACTC,QAAS,iBACTC,SAAU,eACVC,QAAS,gBACTC,SAAQ,SAACjlB,GACP,OAA+B,IAAvB+d,GAAa/d,IAAsC,IAAvB+d,GAAa/d,GAC/C,wBACA,yBAEJmhB,SAAU,KAEZ3R,cACE2V,OAAQ,QACRC,KAAM,WACNvlB,EAAG,kBACHkN,GAAI,cACJtO,EAAG,YACH4mB,GAAI,aACJ5kB,EAAG,WACH6kB,GAAI,WACJ3mB,EAAG,SACH4mB,GAAI,UACJ7kB,EAAG,SACH8kB,GAAI,WACJzlB,EAAG,SACH0lB,GAAI,WAENP,uBAAwB,WACxBzhB,QAAS,OC9CE+wF,IACXvtE,KAAM,KACNjc,OAAQ,wFAAwF+U,MAAM,KACtGjV,YAAa,kDAAkDiV,MAAM,KACrEN,SAAU,oDAAoDM,MAAM,KACpEP,cAAe,8BAA8BO,MAAM,KACnDR,YAAa,uBAAuBQ,MAAM,KAC1CqB,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,cACJC,IAAK,0BACLC,KAAM,+BACNqxE,IAAK,mBACLC,KAAM,wBAER9wE,UACE6D,QAAS,YACTC,QAAS,eACTE,QAAS,YACTD,SAAU,eACVE,SAAU,iBACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,QACRC,KAAM,eACNvlB,EAAG,iBACHkN,GAAI,cACJtO,EAAG,WACH4mB,GAAI,aACJ5kB,EAAG,WACH6kB,GAAI,YACJ3mB,EAAG,SACH4mB,GAAI,WACJ7kB,EAAG,WACH8kB,GAAI,aACJzlB,EAAG,SACH0lB,GAAI,SAENP,uBAAwB,eACxBzhB,QAAA,SAAQka,GACN,IAAM5c,EAAM0vF,OAAO9yE,GACf9a,EAAI9B,EAAM,GAKd,OAAOA,GAJ4B,MAApBA,EAAM,IAAM,IAAa,IAC7B,IAAN8B,EAAW,IACH,IAANA,EAAW,IACE,MAGtB8K,MACEsK,IAAK,EACLC,IAAK;;;2EC5CT;SAAAu8E,GAAgC1zF,EAAaqO,EAAwBjB,GASnE,MAAY,MAARA,EACKiB,EAAgB,SAAW,SAE7BrO,EAAM;;;;;;AAjBf,SAAgB2zF,EAAc3zF,GAC5B,IAAI4zF,EAAQD,EAAK30E,MAAM,KACvB,OAAOhf,EAAM,IAAO,GAAKA,EAAM,KAAQ,GAAK4zF,EAAM,GAAM5zF,EAAM,IAAM,GAAKA,EAAM,IAAM,IAAMA,EAAM,IAAM,IAAMA,EAAM,KAAO,IAAM4zF,EAAM,GAAKA,EAAM,GAe9HC,EAVjB7nF,GAAIqC,EAAgB,yBAA2B,yBAC/CiW,GAAIjW,EAAgB,sBAAwB,sBAC5CkW,GAAI,iBACJC,GAAI,gBACJC,GAAI,uBACJC,GAAI,gBAK2BtX,IAAOpN,GAG1C,IAAI8zF,IAAe,QAAS,QAAS,QAAS,QAAS,WAAY,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAK5GC,IACX7tE,KAAM,KACNjc,QACED,OAAQ,oFAAoFgV,MAAM,KAClG4B,WAAY,kFAAkF5B,MAAM,MAEtGjV,aAEEC,OAAQ,gEAAgEgV,MAAM,KAC9E4B,WAAY,gEAAgE5B,MAAM,MAEpFN,UACEkC,WAAY,gEAAgE5B,MAAM,KAClFhV,OAAQ,gEAAgEgV,MAAM,KAC9E6B,SAAU,kDAEZpC,cAAe,uBAAuBO,MAAM,KAC5CR,YAAa,uBAAuBQ,MAAM,KAC1C3U,YAAWypF,GACX1E,gBAAiB0E,GACjB3E,iBAAkB2E,GAGlB3pF,YAAa,2MAGbD,iBAAkB,2MAGlB4lF,kBAAmB,wHAGnBC,uBAAwB,6FACxB1vE,gBACEhB,GAAI,OACJD,IAAK,UACLE,EAAG,aACHC,GAAI,iBACJC,IAAK,uBACLC,KAAM,8BAERQ,UACE6D,QAAS,iBACTC,QAAS,gBACTE,QAAS,eACTD,SAAQ,SAAC/kB,EAAYihB,GACnB,GAAIhL,GAAQgL,KAAShL,GAAQjW,GAc3B,OAA2B,IAAvB+d,GAAa/d,GACR,mBAEA,kBAhBT,OAAQ+d,GAAa/d,IACnB,KAAK,EACH,MAAO,4BACT,KAAK,EACL,KAAK,EACL,KAAK,EACH,MAAO,4BACT,KAAK,EACL,KAAK,EACL,KAAK,EACH,MAAO,8BAUfilB,SAAQ,SAACjlB,EAAYihB,GACnB,GAAIhL,GAAQgL,KAAShL,GAAQjW,GAc3B,OAA2B,IAAvB+d,GAAa/d,GACR,mBAEA,kBAhBT,OAAQ+d,GAAa/d,IACnB,KAAK,EACH,MAAO,0BACT,KAAK,EACL,KAAK,EACL,KAAK,EACH,MAAO,0BACT,KAAK,EACL,KAAK,EACL,KAAK,EACH,MAAO,4BAUfmhB,SAAU,KAEZ3R,cACE2V,OAAQ,WACRC,KAAM,WACNvlB,EAAG,mBACHkN,GAAI0nF,GACJh2F,EAAGg2F,GACHpvE,GAAIovE,GACJh0F,EAAG,MACH6kB,GAAImvE,GACJ91F,EAAG,OACH4mB,GAAIkvE,GACJ/zF,EAAG,QACH8kB,GAAIivE,GACJ10F,EAAG,MACH0lB,GAAIgvE,IAEN/uE,cAAe,wBACfhR,KAAI,SAACjS,GACH,MAAO,iBAAiB6U,KAAK7U,IAE/B4H,SAAQ,SAAC9B,EAAMC,EAAQqb,GACrB,OAAItb,EAAO,EACF,OACEA,EAAO,GACT,OACEA,EAAO,GACT,MAEA,UAGX2c,uBAAwB,mBACxBzhB,QAAA,SAAQka,EAAcJ,GACpB,IAAMxc,EAAM0vF,OAAO9yE,GACnB,OAAQJ,GACN,IAAK,IACL,IAAK,IACL,IAAK,MACH,OAAOxc,EAAM,KACf,IAAK,IACH,OAAOA,EAAM,MACf,IAAK,IACL,IAAK,IACH,OAAOA,EAAM,KACf,QACE,OAAOA,EAAIU,SAAS,MAG1BkM,MACEsK,IAAK,EACLC,IAAK;;;ACzKT,SAAA68E,GAAgCh0F,EAAaqO,EAAwBjB,GACnE,IASI+G,EAAY,IAIhB,OAHInU,EAAM,KAAO,IAAOA,GAAO,KAAOA,EAAM,KAAQ,KAClDmU,EAAY,QAEPnU,EAAMmU,GAZXnI,GAAI,UACJsY,GAAI,SACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OAO0BtX,GAI3B,IAAM6mF,IACX/tE,KAAM,KACNjc,OAAQ,oGAAoG+U,MAAM,KAClHjV,YAAa,gEAAgEiV,MAAM,KACnFwwE,kBAAkB,EAClB9wE,SAAU,kDAAkDM,MAAM,KAClEP,cAAe,8BAA8BO,MAAM,KACnDR,YAAa,uBAAuBQ,MAAM,KAC1CqB,gBACEhB,GAAI,OACJD,IAAK,UACLE,EAAG,aACHC,GAAI,cACJC,IAAK,mBACLC,KAAM,0BAERQ,UACE6D,QAAS,cACTC,QAAS,gBACTC,SAAU,eACVC,QAAS,eACTC,SAAU,uBACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,WACRC,KAAM,aACNvlB,EAAG,iBACHkN,GAAIgoF,GACJt2F,EAAG,WACH4mB,GAAI0vE,GACJt0F,EAAG,QACH6kB,GAAIyvE,GACJp2F,EAAG,OACH4mB,GAAIwvE,GACJr0F,EAAG,SACH8kB,GAAIuvE,GACJh1F,EAAG,QACH0lB,GAAIsvE,IAENpnF,MACEsK,IAAK,EACLC,IAAK,IC3DI+8E,IACXhuE,KAAM,QACNjc,OAAQ,wCAAwC+U,MAAM,KACtDjV,YAAa,yCAAyCiV,MAAM,KAC5DN,SAAU,8BAA8BM,MAAM,KAC9CP,cAAe,uBAAuBO,MAAM,KAC5CR,YAAa,gBAAgBQ,MAAM,KACnCqB,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,YACJC,IAAK,kBACLC,KAAM,sBACNliB,EAAG,WACHszF,GAAI,YACJC,IAAK,kBACLC,KAAM,uBAERpsE,cAAe,oBACf1L,aAAY,SAACzR,EAAM8B,GAIjB,OAHa,KAAT9B,IACFA,EAAO,GAEQ,OAAb8B,GAAkC,OAAbA,GACV,OAAbA,EACO9B,EACe,OAAb8B,GAAkC,OAAbA,EACvB9B,EAAO,GAGPA,GAAQ,GAAKA,EAAOA,EAAO,IAGtC8B,SAAQ,SAAC9B,EAAMC,EAAQqb,GACrB,IAAI/P,EAAY,IAAPvL,EAAaC,EACtB,OAAIsL,EAAK,IACA,KACEA,EAAK,IACP,KACEA,EAAK,KACP,KACEA,EAAK,KACP,KACEA,EAAK,KACP,KAEA,MAGXkN,UACE6D,QAAS,SACTC,QAAS,SACTC,SAAU,YACVC,QAAS,SACTC,SAAU,YACV9D,SAAU,KAEZ+D,uBAAwB,iBACxBzhB,QAAO,SAACka,EAAcJ,GACpB,IAAMxc,EAAM0vF,OAAO9yE,GACnB,OAAQJ,GACN,IAAK,IACL,IAAK,IACL,IAAK,MACH,OAAOxc,EAAM,IACf,IAAK,IACH,OAAOA,EAAM,IACf,IAAK,IACL,IAAK,IACH,OAAOA,EAAM,IACf,QACE,OAAOA,EAAIU,aAGjB+N,cACE2V,OAAQ,MACRC,KAAM,MACNvlB,EAAG,KACHkN,GAAI,OACJtO,EAAG,OACH4mB,GAAI,QACJ5kB,EAAG,OACH6kB,GAAI,QACJ3mB,EAAG,MACH4mB,GAAI,OACJ7kB,EAAG,OACH8kB,GAAI,QACJzlB,EAAG,MACH0lB,GAAI,QAEN9X,MAEEsK,IAAK,EACLC,IAAK,IC/FLg9E,IACFjH,EAAG,QACHI,EAAG,QACHG,EAAG,QACH2G,GAAI,QACJC,GAAI,QACJlH,EAAG,OACHK,EAAG,OACH8G,GAAI,OACJC,GAAI,OACJnH,EAAG,QACHC,EAAG,QACHmH,IAAK,QACLjH,EAAG,OACHG,EAAG,QACH+G,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,SAGOC,IACX3uE,KAAM,KACNjc,OAAQ,6EAA6E+U,MAAM,KAC3FjV,YAAa,kDAAkDiV,MAAM,KACrEN,SAAU,wDAAwDM,MAAM,KACxEP,cAAe,8BAA8BO,MAAM,KACnDR,YAAa,uBAAuBQ,MAAM,KAC1CqB,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,cACJC,IAAK,oBACLC,KAAM,2BAERQ,UACE6D,QAAS,kBACTC,QAAS,kBACTC,SAAU,2BACVC,QAAS,WACTC,SAAU,yBACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,WACRC,KAAM,UACNvlB,EAAG,gBACHkN,GAAI,YACJtO,EAAG,aACH4mB,GAAI,YACJ5kB,EAAG,WACH6kB,GAAI,UACJ3mB,EAAG,UACH4mB,GAAI,SACJ7kB,EAAG,SACH8kB,GAAI,QACJzlB,EAAG,UACH0lB,GAAI,UAENP,uBAAwB,wCACxBzhB,QAAA,SAAQka,GACN,IAAM5c,EAAM0vF,OAAO9yE,GACnB,GAAY,IAAR5c,EACF,OAAOA,EAAM,QAEf,IAAI6B,EAAI7B,EAAM,GAGd,OAAOA,GAAOm0F,GAAStyF,IAAMsyF,GAFvBn0F,EAAM,IAAM6B,IAE0BsyF,GADtCn0F,GAAO,IAAM,IAAM,QAG3B4M,MACEsK,IAAK,EACLC,IAAK,ICxEI29E,IACX5uE,KAAM,KACNjc,OAAQ,0EAA0E+U,MAAM,KACxFjV,YAAa,4DAA4DiV,MAAM,KAC/EN,SAAU,uCAAuCM,MAAM,KACvDP,cAAe,uBAAuBO,MAAM,KAC5CR,YAAa,gBAAgBQ,MAAM,KACnCqB,gBACEhB,GAAI,QACJD,IAAK,WACLE,EAAG,aACHC,GAAI,iBACJC,IAAK,uBACLC,KAAM,6BACNliB,EAAG,WACHszF,GAAI,aACJC,IAAK,mBACLC,KAAM,yBAER9wE,UACE6D,QAAS,cACTC,QAAS,aACTC,SAAU,iBACVC,QAAS,eACTC,SAAU,+BACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,UACRC,KAAM,UACNvlB,EAAG,aACHkN,GAAI,WACJtO,EAAG,MACH4mB,GAAI,UACJ5kB,EAAG,MACH6kB,GAAA,SAAGvkB,GACD,OAAY,IAARA,EACK,SAEFA,EAAM,SAEfpC,EAAG,MACH4mB,GAAA,SAAGxkB,GACD,OAAY,IAARA,EACK,SAEFA,EAAM,SAEfL,EAAG,OACH8kB,GAAA,SAAGzkB,GACD,OAAY,IAARA,EACK,UAEFA,EAAM,WAEfhB,EAAG,MACH0lB,GAAA,SAAG1kB,GACD,OAAY,IAARA,EACK,SACEA,EAAM,IAAO,GAAa,KAARA,EACpBA,EAAM,OAERA,EAAM,UAGjB2kB,cAAe,gEACfhR,KAAI,SAACjS,GACH,MAAO,8BAA8B6U,KAAK7U,IAE5C4H,SAAQ,SAAC9B,EAAMC,EAAQqb,GACrB,OAAItb,EAAO,EACF,aACEA,EAAO,GACT,QACEA,EAAO,GACTsb,EAAU,SAAW,eACnBtb,EAAO,GACTsb,EAAU,QAAU,eAEpB,SCjFAiyE,IACX7uE,KAAM,KACNjc,OAAQ,oGAAoG+U,MAAM,KAClHjV,YAAa,iEAAiEiV,MAAM,KACpFwwE,kBAAkB,EAClB9wE,SAAU,iDAAiDM,MAAM,KACjEP,cAAe,8CAA8CO,MAAM,KACnER,YAAa,yBAAyBQ,MAAM,KAC5C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,OACJD,IAAK,UACLE,EAAG,aACHC,GAAI,cACJC,IAAK,wBACLC,KAAM,oCAERkF,cAAe,wBACfhR,KAAI,SAACjS,GACH,MAAiB,eAAVA,GAET4H,SAAQ,SAAC9B,EAAMC,EAAQqb,GACrB,OAAItb,EAAO,GACF,aAEA,cAGXyY,UACE6D,QAAS,mBACTC,QAAS,qBACTC,SAAU,qBACVC,QAAS,wBACTC,SAAU,6BACV9D,SAAU,KAEZ3R,cACE2V,OAAQ,SACRC,KAAM,YACNvlB,EAAG,eACHkN,GAAI,YACJtO,EAAG,SACH4mB,GAAI,UACJ5kB,EAAG,YACH6kB,GAAI,aACJ3mB,EAAG,QACH4mB,GAAI,SACJ7kB,EAAG,UACH8kB,GAAI,WACJzlB,EAAG,OACH0lB,GAAI;;;;;;;;AChDR,SAAAswE,GAA6BrpF,EAAgB0C,EAAwBjB,EAAaoB,GAChF,IAAIsD,EAASnG,EAAS,IACtB,OAAQyB,GACN,IAAK,IACH,OAAOiB,GAAiBG,EAAW,eAAiB,kBACtD,IAAK,KAUH,OAREsD,GADa,IAAXnG,EACQ0C,EAAgB,UAAY,UAClB,IAAX1C,EACC0C,GAAiBG,EAAW,UAAY,WACzC7C,EAAS,EACR0C,GAAiBG,EAAW,UAAY,WAEZ,SAG1C,IAAK,IACH,OAAOH,EAAgB,aAAe,aACxC,IAAK,KAUH,OAREyD,GADa,IAAXnG,EACQ0C,EAAgB,SAAW,SACjB,IAAX1C,EACC0C,GAAiBG,EAAW,SAAW,WACxC7C,EAAS,EACR0C,GAAiBG,EAAW,SAAW,WAEvCH,GAAiBG,EAAW,QAAU,WAGpD,IAAK,IACH,OAAOH,EAAgB,UAAY,UACrC,IAAK,KAUH,OAREyD,GADa,IAAXnG,EACQ0C,EAAgB,MAAQ,MACd,IAAX1C,EACC0C,GAAiBG,EAAW,MAAQ,QACrC7C,EAAS,EACR0C,GAAiBG,EAAW,MAAQ,QAEpCH,GAAiBG,EAAW,KAAO,QAGjD,IAAK,IACH,OAAOH,GAAiBG,EAAW,SAAW,YAChD,IAAK,KAQH,OANEsD,GADa,IAAXnG,EACQ0C,GAAiBG,EAAW,MAAQ,OAC1B,IAAX7C,EACC0C,GAAiBG,EAAW,MAAQ,UAEpCH,GAAiBG,EAAW,MAAQ,QAGlD,IAAK,IACH,OAAOH,GAAiBG,EAAW,WAAa,eAClD,IAAK,KAUH,OAREsD,GADa,IAAXnG,EACQ0C,GAAiBG,EAAW,QAAU,UAC5B,IAAX7C,EACC0C,GAAiBG,EAAW,SAAW,WACxC7C,EAAS,EACR0C,GAAiBG,EAAW,SAAW,SAEvCH,GAAiBG,EAAW,UAAY,SAGtD,IAAK,IACH,OAAOH,GAAiBG,EAAW,WAAa,aAClD,IAAK,KAUH,OAREsD,GADa,IAAXnG,EACQ0C,GAAiBG,EAAW,OAAS,QAC3B,IAAX7C,EACC0C,GAAiBG,EAAW,OAAS,SACtC7C,EAAS,EACR0C,GAAiBG,EAAW,OAAS,OAErCH,GAAiBG,EAAW,MAAQ,QAM/C,IAAMymF,IACX/uE,KAAM,KACNjc,OAAQ,wFAAwF+U,MAAM,KACtGjV,YAAa,8DAA8DiV,MAAM,KACjFwwE,kBAAkB,EAClB9wE,SAAU,sDAAsDM,MAAM,KACtEP,cAAe,qCAAqCO,MAAM,KAC1DR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,OACJD,IAAK,UACLE,EAAG,aACHC,GAAI,eACJC,IAAK,oBACLC,KAAM,2BAERQ,UACE6D,QAAS,gBACTC,QAAS,gBAETC,SAAQ,SAAC/kB,GACP,OAAQ+d,GAAa/d,IACnB,KAAK,EACH,MAAO,wBACT,KAAK,EACH,MAAO,sBACT,KAAK,EACH,MAAO,uBACT,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACH,MAAO,qBAGbglB,QAAS,iBACTC,SAAQ,SAACjlB,GACP,OAAQ+d,GAAa/d,IACnB,KAAK,EACH,MAAO,+BACT,KAAK,EACH,MAAO,6BACT,KAAK,EACH,MAAO,8BACT,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACH,MAAO,4BAGbmhB,SAAU,KAEZ3R,cACE2V,OAAQ,SACRC,KAAM,UACNvlB,EAAGk2F,GACHhpF,GAAIgpF,GACJt3F,EAAGs3F,GACH1wE,GAAI0wE,GACJt1F,EAAGs1F,GACHzwE,GAAIywE,GACJp3F,EAAGo3F,GACHxwE,GAAIwwE,GACJr1F,EAAGq1F,GACHvwE,GAAIuwE,GACJh2F,EAAGg2F,GACHtwE,GAAIswE,IAEN7wE,uBAAwB,YACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK,IC7JL+9E,GAAiB,8DAA8Dl2E,MAAM,KACvFm2E,GAAc,kDAAkDn2E,MAAM,KAEpEo2E,IAAe,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAClHC,GAAc,iLAELC,IACXpvE,KAAM,KACNjc,OAAQ,yFAAyF+U,MAAM,KACvGjV,YAAA,SAAY9K,EAAY+K,EAAgBjH,GACtC,OAAK9D,EAID,QAAQsX,KAAKvM,GACRmrF,GAAYxxF,EAAS1E,EAAM8D,IAG7BmyF,GAAevxF,EAAS1E,EAAM8D,IAP5BmyF,IASX/qF,YAAWkrF,GACXnrF,iBAAkBmrF,GAClBvF,kBAAmB,6FACnBC,uBAAwB,0FACxB1lF,YAAW+qF,GACXhG,gBAAiBgG,GACjBjG,iBAAkBiG,GAClB12E,SAAU,mDAAmDM,MAAM,KACnEP,cAAe,qCAAqCO,MAAM,KAC1DR,YAAa,uBAAuBQ,MAAM,KAC1C8vE,oBAAoB,EACpBzuE,gBACEhB,GAAI,OACJD,IAAK,UACLE,EAAG,aACHC,GAAI,wBACJC,IAAK,6BACLC,KAAM,oCAERQ,UACE6D,QAAO,SAAC7kB,GACN,MAAO,WAAiC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE3D8kB,QAAO,SAAC9kB,GACN,MAAO,YAAkC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE5D+kB,SAAQ,SAAC/kB,GACP,MAAO,WAAiC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE3DglB,QAAO,SAAChlB,GACN,MAAO,WAAiC,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAE3DilB,SAAQ,SAACjlB,GACP,MAAO,sBAA4C,IAAnB6D,EAAS7D,GAAe,IAAM,IAAM,QAEtEmhB,SAAU,KAEZ3R,cACE2V,OAAQ,QACRC,KAAM,SACNvlB,EAAG,eACHkN,GAAI,cACJtO,EAAG,YACH4mB,GAAI,aACJ5kB,EAAG,YACH6kB,GAAI,WACJ3mB,EAAG,SACH4mB,GAAI,UACJ7kB,EAAG,SACH8kB,GAAI,WACJzlB,EAAG,SACH0lB,GAAI,WAENP,uBAAwB,WACxBzhB,QAAS,MACTkK,MACEsK,IAAK,EACLC,IAAK","file":"ngx-bootstrap.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"rxjs/operators\"), require(\"@angular/forms\"), require(\"@angular/common\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"rxjs/operators\", \"@angular/forms\", \"@angular/common\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngx-bootstrap.umd.min\"] = factory(require(\"@angular/core\"), require(\"rxjs/operators\"), require(\"@angular/forms\"), require(\"@angular/common\"));\n\telse\n\t\troot[\"ngx-bootstrap.umd.min\"] = factory(root[\"@angular/core\"], root[\"rxjs/operators\"], root[\"@angular/forms\"], root[\"@angular/common\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","export function createUTCDate(y?: number,\r\n                              m?: number,\r\n                              d?: number): Date {\r\n  const date = new Date(Date.UTC.apply(null, arguments));\r\n\r\n  // the Date.UTC function remaps years 0-99 to 1900-1999\r\n  if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\r\n    date.setUTCFullYear(y);\r\n  }\r\n\r\n  return date;\r\n}\r\n\r\nexport function createDate(y?: number,\r\n                           m = 0,\r\n                           d = 1,\r\n                           h = 0,\r\n                           M = 0,\r\n                           s = 0,\r\n                           ms = 0): Date {\r\n  const date = new Date(y, m, d, h, M, s, ms);\r\n\r\n  // the date constructor remaps years 0-99 to 1900-1999\r\n  if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\r\n    date.setFullYear(y);\r\n  }\r\n\r\n  return date;\r\n}\r\n","export function zeroFill(num: number,\r\n                         targetLength: number,\r\n                         forceSign?: boolean): string {\r\n  const absNumber = `${Math.abs(num)}`;\r\n  const zerosToFill = targetLength - absNumber.length;\r\n  const sign = num >= 0;\r\n  const _sign = sign ? (forceSign ? '+' : '') : '-';\r\n  // todo: this is crazy slow\r\n  const _zeros = Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1);\r\n\r\n  return (_sign + _zeros + absNumber);\r\n}\r\n","\r\n\r\nexport function mod(n: number, x: number): number {\r\n  return (n % x + x) % x;\r\n}\r\n\r\nexport function absFloor(num: number): number {\r\n  return num < 0 ? Math.ceil(num) || 0 : Math.floor(num);\r\n}\r\n\r\n","import { absFloor } from '../utils';\r\n\r\nexport function isString(str: any): str is string {\r\n  return typeof str === 'string';\r\n}\r\n\r\nexport function isDate(value: any): value is Date {\r\n  return value instanceof Date || Object.prototype.toString.call(value) === '[object Date]';\r\n}\r\n\r\nexport function isBoolean(value: any): value is boolean {\r\n  return value === true || value === false;\r\n}\r\n\r\nexport function isDateValid(date: Date): boolean {\r\n  return date && date.getTime && !isNaN(date.getTime());\r\n}\r\n\r\nexport function isFunction(fn: any): fn is Function {\r\n  return (\r\n    fn instanceof Function ||\r\n    Object.prototype.toString.call(fn) === '[object Function]'\r\n  );\r\n}\r\n\r\nexport function isNumber(value?: any): value is number {\r\n  return typeof value === 'number' || Object.prototype.toString.call(value) === '[object Number]';\r\n}\r\n\r\nexport function isArray<T>(input?: any): input is T[] {\r\n  return (\r\n    input instanceof Array ||\r\n    Object.prototype.toString.call(input) === '[object Array]'\r\n  );\r\n}\r\n\r\nexport function hasOwnProp<T>(a: T /*object*/, b: string): b is keyof T {\r\n  return Object.prototype.hasOwnProperty.call(a, b);\r\n}\r\n\r\nexport function isObject<T>(input: any /*object*/): input is T {\r\n  // IE8 will treat undefined and null as object if it wasn't for\r\n  // input != null\r\n  return (\r\n    input != null && Object.prototype.toString.call(input) === '[object Object]'\r\n  );\r\n}\r\n\r\nexport function isObjectEmpty(obj: any): boolean {\r\n  if (Object.getOwnPropertyNames) {\r\n    return (Object.getOwnPropertyNames(obj).length === 0);\r\n  }\r\n  let k;\r\n  for (k in obj) {\r\n    if (obj.hasOwnProperty(k)) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n\r\nexport function isUndefined(input: any): boolean {\r\n  return input === void 0;\r\n}\r\n\r\nexport function toInt<T>(argumentForCoercion: string | number | T): number {\r\n  const coercedNumber = +argumentForCoercion;\r\n  let value = 0;\r\n\r\n  if (coercedNumber !== 0 && isFinite(coercedNumber)) {\r\n    value = absFloor(coercedNumber);\r\n  }\r\n\r\n  return value;\r\n}\r\n","import { Locale } from '../locale/locale.class';\r\nimport { zeroFill } from '../utils/zero-fill';\r\nimport { isFunction } from '../utils/type-checks';\r\nimport { DateFormatterOptions, DateFormatterFn } from '../types';\r\n\r\nexport let formatFunctions: {\r\n  [key: string]: (date: Date, locale: Locale, isUTC?: boolean, offset?: number) => string;\r\n} = {};\r\nexport let formatTokenFunctions: { [key: string]: DateFormatterFn } = {};\r\n\r\n// tslint:disable-next-line\r\nexport const formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\r\n\r\n// token:    'M'\r\n// padded:   ['MM', 2]\r\n// ordinal:  'Mo'\r\n// callback: function () { this.month() + 1 }\r\nexport function addFormatToken(token: string,\r\n                               padded: [string, number, boolean],\r\n                               ordinal: string,\r\n                               callback: DateFormatterFn): void {\r\n  if (token) {\r\n    formatTokenFunctions[token] = callback;\r\n  }\r\n\r\n  if (padded) {\r\n    formatTokenFunctions[padded[0]] = function (): string {\r\n      return zeroFill(callback.apply(null, arguments), padded[1], padded[2]);\r\n    };\r\n  }\r\n\r\n  if (ordinal) {\r\n    formatTokenFunctions[ordinal] = function (date: Date, opts: DateFormatterOptions): string {\r\n      return opts.locale.ordinal(callback.apply(null, arguments), token);\r\n    };\r\n  }\r\n}\r\n\r\nexport function makeFormatFunction(format: string): (date: Date, locale: Locale, isUTC?: boolean, offset?: number) => string {\r\n  const array: string[] = format.match(formattingTokens);\r\n  const length = array.length;\r\n\r\n  const formatArr: string[] | DateFormatterFn[] = new Array(length);\r\n\r\n  for (let i = 0; i < length; i++) {\r\n    formatArr[i] = formatTokenFunctions[array[i]]\r\n      ? formatTokenFunctions[array[i]]\r\n      : removeFormattingTokens(array[i]);\r\n  }\r\n\r\n  return function (date: Date, locale: Locale, isUTC: boolean, offset = 0): string {\r\n    let output = '';\r\n    for (let j = 0; j < length; j++) {\r\n      output += isFunction(formatArr[j])\r\n        ? (formatArr[j] as DateFormatterFn).call(null, date, {format, locale, isUTC, offset})\r\n        : formatArr[j];\r\n    }\r\n\r\n    return output;\r\n  };\r\n}\r\n\r\nfunction removeFormattingTokens(input: string): string {\r\n  if (input.match(/\\[[\\s\\S]/)) {\r\n    return input.replace(/^\\[|\\]$/g, '');\r\n  }\r\n\r\n  return input.replace(/\\\\/g, '');\r\n}\r\n","import { createDate } from '../create/date-from-array';\r\n\r\nexport function getHours(date: Date, isUTC = false): number {\r\n  return isUTC ? date.getUTCHours() : date.getHours();\r\n}\r\n\r\nexport function getMinutes(date: Date, isUTC = false): number {\r\n  return isUTC ? date.getUTCMinutes() : date.getMinutes();\r\n}\r\n\r\nexport function getSeconds(date: Date, isUTC = false): number {\r\n  return isUTC ? date.getUTCSeconds() : date.getSeconds();\r\n}\r\n\r\nexport function getMilliseconds(date: Date, isUTC = false): number {\r\n  return isUTC ? date.getUTCMilliseconds() : date.getMilliseconds();\r\n}\r\nexport function getTime(date: Date): number {\r\n  return date.getTime();\r\n}\r\n\r\nexport function getDay(date: Date, isUTC = false): number {\r\n  return isUTC ? date.getUTCDay() : date.getDay();\r\n}\r\n\r\nexport function getDate(date: Date, isUTC = false): number {\r\n  return isUTC ? date.getUTCDate() : date.getDate();\r\n}\r\n\r\nexport function getMonth(date: Date, isUTC = false): number {\r\n  return isUTC ? date.getUTCMonth() : date.getMonth();\r\n}\r\n\r\nexport function getFullYear(date: Date, isUTC = false): number {\r\n  return isUTC ? date.getUTCFullYear() : date.getFullYear();\r\n}\r\n\r\nexport function getUnixTime(date: Date): number {\r\n  return Math.floor(date.valueOf() / 1000);\r\n}\r\n\r\nexport function unix(date: Date): number {\r\n  return Math.floor(date.valueOf() / 1000);\r\n}\r\n\r\nexport function getFirstDayOfMonth(date: Date): Date {\r\n  return createDate(\r\n    date.getFullYear(),\r\n    date.getMonth(),\r\n    1,\r\n    date.getHours(),\r\n    date.getMinutes(),\r\n    date.getSeconds()\r\n  );\r\n}\r\n\r\nexport function daysInMonth(date: Date): number {\r\n  return _daysInMonth(date.getFullYear(), date.getMonth());\r\n}\r\n\r\nexport function _daysInMonth(year: number, month: number): number {\r\n  return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\r\n}\r\n\r\nexport function isFirstDayOfWeek(date: Date, firstDayOfWeek: number): boolean {\r\n  return date.getDay() === firstDayOfWeek;\r\n}\r\n\r\nexport function isSameMonth(date1: Date, date2: Date) {\r\n  if (!date1 || !date2) {\r\n    return false;\r\n  }\r\n\r\n  return isSameYear(date1, date2) && getMonth(date1) === getMonth(date2);\r\n}\r\n\r\nexport function isSameYear(date1: Date, date2: Date) {\r\n  if (!date1 || !date2) {\r\n    return false;\r\n  }\r\n\r\n  return getFullYear(date1) === getFullYear(date2);\r\n}\r\n\r\nexport function isSameDay(date1: Date, date2: Date): boolean {\r\n  if (!date1 || !date2) {\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    isSameYear(date1, date2) &&\r\n    isSameMonth(date1, date2) &&\r\n    getDate(date1) === getDate(date2)\r\n  );\r\n}\r\n","import { hasOwnProp, isFunction } from '../utils/type-checks';\r\nimport { Locale } from '../locale/locale.class';\r\n\r\nexport const match1 = /\\d/;            //       0 - 9\r\nexport const match2 = /\\d\\d/;          //      00 - 99\r\nexport const match3 = /\\d{3}/;         //     000 - 999\r\nexport const match4 = /\\d{4}/;         //    0000 - 9999\r\nexport const match6 = /[+-]?\\d{6}/;    // -999999 - 999999\r\nexport const match1to2 = /\\d\\d?/;         //       0 - 99\r\nexport const match3to4 = /\\d\\d\\d\\d?/;     //     999 - 9999\r\nexport const match5to6 = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\r\nexport const match1to3 = /\\d{1,3}/;       //       0 - 999\r\nexport const match1to4 = /\\d{1,4}/;       //       0 - 9999\r\nexport const match1to6 = /[+-]?\\d{1,6}/;  // -999999 - 999999\r\n\r\nexport const matchUnsigned = /\\d+/;           //       0 - inf\r\nexport const matchSigned = /[+-]?\\d+/;      //    -inf - inf\r\n\r\nexport const matchOffset = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\r\nexport const matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\r\n\r\nexport const matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\r\n\r\n// any word (or two) characters or numbers including two/three word month in arabic.\r\n// includes scottish gaelic two word and hyphenated months\r\n// tslint:disable-next-line\r\nexport const matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\r\n\r\nexport type RegExpTokenFn = (isStrict: boolean, locale: Locale) => RegExp;\r\nconst regexes: {[key: string]: RegExpTokenFn} = {};\r\n\r\n\r\nexport function addRegexToken(token: string, regex: RegExp | RegExpTokenFn, strictRegex?: RegExp): void {\r\n  if (isFunction(regex)) {\r\n    regexes[token] = regex;\r\n\r\n    return;\r\n  }\r\n\r\n  regexes[token] = function (isStrict: boolean, locale: Locale) {\r\n    return (isStrict && strictRegex) ? strictRegex : regex;\r\n  };\r\n}\r\n\r\nexport function getParseRegexForToken(token: string, locale: Locale): RegExp {\r\n  const _strict = false;\r\n  if (!hasOwnProp(regexes, token)) {\r\n    return new RegExp(unescapeFormat(token));\r\n  }\r\n\r\n  return regexes[token](_strict, locale);\r\n}\r\n\r\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\r\nfunction unescapeFormat(str: string): string {\r\n  // tslint:disable-next-line\r\n  return regexEscape(str\r\n    .replace('\\\\', '')\r\n    .replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, (matched, p1, p2, p3, p4) => p1 || p2 || p3 || p4)\r\n  );\r\n}\r\n\r\nexport function regexEscape(str: string): string {\r\n  return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\r\n}\r\n","// tslint:disable:max-line-length\r\nimport { hasOwnProp, isArray, isFunction, isNumber, isString, toInt } from '../utils/type-checks';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { DateArray, DateParseTokenFn } from '../types';\r\n\r\nconst tokens: {[key: string]: DateParseTokenFn} = {};\r\n\r\nexport function addParseToken(token: string | string[], callback: DateParseTokenFn | number) {\r\n  const _token = isString(token) ? [token] : token;\r\n  let func = callback;\r\n\r\n  if (isNumber(callback)) {\r\n    func = function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n      array[callback] = toInt(input);\r\n\r\n      return config;\r\n    };\r\n  }\r\n\r\n  if (isArray<string>(_token) && isFunction(func)) {\r\n    let i;\r\n    for (i = 0; i < _token.length; i++) {\r\n      tokens[_token[i]] = func;\r\n    }\r\n  }\r\n}\r\n\r\nexport function addWeekParseToken(token: string[], callback: DateParseTokenFn): void {\r\n  addParseToken(token, function (input: string, array: DateArray, config: DateParsingConfig, _token: string): DateParsingConfig {\r\n    config._w = config._w || {};\r\n\r\n    return callback(input, config._w, config, _token);\r\n  });\r\n}\r\n\r\n\r\nexport function addTimeToArrayFromToken(token: string, input: string, config: DateParsingConfig): DateParsingConfig {\r\n  if (input != null && hasOwnProp(tokens, token)) {\r\n    tokens[token](input, config._a, config, token);\r\n  }\r\n\r\n  return config;\r\n}\r\n","// place in new Date([array])\r\nexport const YEAR = 0;\r\nexport const MONTH = 1;\r\nexport const DATE = 2;\r\nexport const HOUR = 3;\r\nexport const MINUTE = 4;\r\nexport const SECOND = 5;\r\nexport const MILLISECOND = 6;\r\nexport const WEEK = 7;\r\nexport const WEEKDAY = 8;\r\n","const priorities: {[key: string]: number} = {};\r\n\r\nexport function addUnitPriority(unit: string, priority: number): void {\r\n  priorities[unit] = priority;\r\n}\r\n\r\n/*\r\nexport function getPrioritizedUnits(unitsObj) {\r\n  const units = [];\r\n  let unit;\r\n  for (unit in unitsObj) {\r\n    if (unitsObj.hasOwnProperty(unit)) {\r\n      units.push({ unit, priority: priorities[unit] });\r\n    }\r\n  }\r\n  units.sort(function (a, b) {\r\n    return a.priority - b.priority;\r\n  });\r\n\r\n  return units;\r\n}\r\n*/\r\n","import { hasOwnProp, isString } from '../utils/type-checks';\r\nimport { DateObject, UnitOfTime } from '../types';\r\n\r\nconst aliases: { [key: string]: string } = {};\r\n\r\nexport type ExtendedUnitOfTime = UnitOfTime | 'date' | 'week' | 'isoWeek' | 'dayOfYear' |\r\n  'weekday' | 'isoWeekday' | 'second' | 'millisecond' | 'minute' | 'hour' | 'quarter' | 'weekYear' | 'isoWeekYear';\r\n\r\nconst _mapUnits: { [key: string]: UnitOfTime } = {\r\n  date: 'day',\r\n  hour: 'hours',\r\n  minute: 'minutes',\r\n  second: 'seconds',\r\n  millisecond: 'milliseconds'\r\n};\r\n\r\nexport function addUnitAlias(unit: ExtendedUnitOfTime, shorthand: string): void {\r\n  const lowerCase = unit.toLowerCase();\r\n  let _unit = unit;\r\n  if (lowerCase in _mapUnits) {\r\n    _unit = _mapUnits[lowerCase];\r\n  }\r\n  aliases[lowerCase] = aliases[`${lowerCase}s`] = aliases[shorthand] = _unit;\r\n}\r\n\r\nexport function normalizeUnits(units: string | string[]): string {\r\n  return isString(units) ? aliases[units] || aliases[units.toLowerCase()] : undefined;\r\n}\r\n\r\nexport function normalizeObjectUnits(inputObject: { [key: string]: number }): DateObject {\r\n  const normalizedInput: { [key: string]: number } = {};\r\n  let normalizedProp;\r\n  let prop;\r\n\r\n  for (prop in inputObject) {\r\n    if (hasOwnProp(inputObject, prop)) {\r\n      normalizedProp = normalizeUnits(prop);\r\n      if (normalizedProp) {\r\n        normalizedInput[normalizedProp] = inputObject[prop];\r\n      }\r\n    }\r\n  }\r\n\r\n  return normalizedInput as any;\r\n}\r\n","import { addFormatToken } from '../format/format';\r\nimport { getFullYear } from '../utils/date-getters';\r\nimport { addRegexToken, match1to2, match1to4, match1to6, match2, match4, match6, matchSigned } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { YEAR } from './constants';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addUnitAlias } from './aliases';\r\nimport { DateFormatterOptions } from '../types';\r\n\r\n// FORMATTING\r\n\r\nfunction getYear(date: Date, opts: DateFormatterOptions): string {\r\n  return getFullYear(date, opts.isUTC).toString();\r\n}\r\n\r\naddFormatToken('Y', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n  const y = getFullYear(date, opts.isUTC);\r\n\r\n  return y <= 9999 ? y.toString(10) : `+${y}`;\r\n});\r\n\r\naddFormatToken(null, ['YY', 2, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n  return (getFullYear(date, opts.isUTC) % 100).toString(10);\r\n});\r\n\r\naddFormatToken(null, ['YYYY', 4, false], null, getYear);\r\naddFormatToken(null, ['YYYYY', 5, false], null, getYear);\r\naddFormatToken(null, ['YYYYYY', 6, true], null, getYear);\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('year', 'y');\r\n\r\n// PRIORITIES\r\n\r\naddUnitPriority('year', 1);\r\n\r\n// PARSING\r\n\r\naddRegexToken('Y', matchSigned);\r\naddRegexToken('YY', match1to2, match2);\r\naddRegexToken('YYYY', match1to4, match4);\r\naddRegexToken('YYYYY', match1to6, match6);\r\naddRegexToken('YYYYYY', match1to6, match6);\r\n\r\naddParseToken(['YYYYY', 'YYYYYY'], YEAR);\r\naddParseToken('YYYY', function (input, array, config) {\r\n  array[YEAR] = input.length === 2 ? parseTwoDigitYear(input) : toInt(input);\r\n\r\n  return config;\r\n});\r\naddParseToken('YY', function (input, array, config) {\r\n  array[YEAR] = parseTwoDigitYear(input);\r\n\r\n  return config;\r\n});\r\naddParseToken('Y', function (input, array, config) {\r\n  array[YEAR] = parseInt(input, 10);\r\n\r\n  return config;\r\n});\r\n\r\nexport function parseTwoDigitYear(input: string): number {\r\n  return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\r\n}\r\n\r\nexport function daysInYear(year: number): number {\r\n  return isLeapYear(year) ? 366 : 365;\r\n}\r\n\r\nexport function isLeapYear(year: number): boolean {\r\n  return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n}\r\n","import { DateParsingConfig, DateParsingFlags } from './parsing.types';\r\n\r\nfunction defaultParsingFlags(): DateParsingFlags {\r\n  // We need to deep clone this object.\r\n  return {\r\n    empty: false,\r\n    unusedTokens: [],\r\n    unusedInput: [],\r\n    overflow: -2,\r\n    charsLeftOver: 0,\r\n    nullInput: false,\r\n    invalidMonth: null,\r\n    invalidFormat: false,\r\n    userInvalidated: false,\r\n    iso: false,\r\n    parsedDateParts: [],\r\n    meridiem: null,\r\n    rfc2822: false,\r\n    weekdayMismatch: false\r\n  };\r\n}\r\n\r\nexport function getParsingFlags(config: DateParsingConfig): DateParsingFlags {\r\n  if (config._pf == null) {\r\n    config._pf = defaultParsingFlags();\r\n  }\r\n\r\n  return config._pf;\r\n}\r\n","import { addFormatToken } from '../format/format';\r\nimport { isLeapYear } from './year';\r\nimport { mod } from '../utils';\r\nimport { getMonth } from '../utils/date-getters';\r\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { MONTH } from './constants';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addUnitAlias } from './aliases';\r\nimport { getParsingFlags } from '../create/parsing-flags';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { DateArray, DateFormatterOptions } from '../types';\r\n\r\n// todo: this is duplicate, source in date-getters.ts\r\nexport function daysInMonth(year: number, month: number): number {\r\n  if (isNaN(year) || isNaN(month)) {\r\n    return NaN;\r\n  }\r\n  const modMonth = mod(month, 12);\r\n  const _year = year + (month - modMonth) / 12;\r\n\r\n  return modMonth === 1\r\n    ? isLeapYear(_year) ? 29 : 28\r\n    : (31 - modMonth % 7 % 2);\r\n}\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('M', ['MM', 2, false], 'Mo',\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (getMonth(date, opts.isUTC) + 1).toString(10);\r\n  });\r\n\r\naddFormatToken('MMM', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return opts.locale.monthsShort(date, opts.format, opts.isUTC);\r\n  });\r\n\r\naddFormatToken('MMMM', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return opts.locale.months(date, opts.format, opts.isUTC);\r\n  });\r\n\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('month', 'M');\r\n\r\n// PRIORITY\r\n\r\naddUnitPriority('month', 8);\r\n\r\n// PARSING\r\n\r\naddRegexToken('M', match1to2);\r\naddRegexToken('MM', match1to2, match2);\r\naddRegexToken('MMM', function (isStrict, locale) {\r\n  return locale.monthsShortRegex(isStrict);\r\n});\r\naddRegexToken('MMMM', function (isStrict, locale) {\r\n  return locale.monthsRegex(isStrict);\r\n});\r\n\r\naddParseToken(['M', 'MM'], function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  array[MONTH] = toInt(input) - 1;\r\n\r\n  return config;\r\n});\r\n\r\naddParseToken(['MMM', 'MMMM'],\r\n  function (input: string, array: DateArray, config: DateParsingConfig, token: string): DateParsingConfig {\r\n    const month = config._locale.monthsParse(input, token, config._strict);\r\n    // if we didn't find a month name, mark the date as invalid.\r\n    if (month != null) {\r\n      array[MONTH] = month;\r\n    } else {\r\n      getParsingFlags(config).invalidMonth = !!input;\r\n    }\r\n\r\n    return config;\r\n  });\r\n\r\n","import { TimeUnit } from '../types';\r\nimport { daysInMonth } from '../units/month';\r\nimport { isNumber } from './type-checks';\r\nimport { getDate, getFullYear, getMonth } from './date-getters';\r\nimport { isLeapYear } from '../units/year';\r\nimport { createDate } from '../create/date-from-array';\r\n\r\nconst defaultTimeUnit: TimeUnit = {\r\n  year: 0,\r\n  month: 0,\r\n  day: 0,\r\n  hour: 0,\r\n  minute: 0,\r\n  seconds: 0\r\n};\r\n\r\nexport function shiftDate(date: Date, unit: TimeUnit): Date {\r\n  const _unit = Object.assign({}, defaultTimeUnit, unit);\r\n  const year = date.getFullYear() + (_unit.year || 0);\r\n  const month = date.getMonth() + (_unit.month || 0);\r\n  let day = date.getDate() + (_unit.day || 0);\r\n  if (_unit.month && !_unit.day) {\r\n    day = Math.min(day, daysInMonth(year, month));\r\n  }\r\n\r\n  return createDate(\r\n    year,\r\n    month,\r\n    day,\r\n    date.getHours() + (_unit.hour || 0),\r\n    date.getMinutes() + (_unit.minute || 0),\r\n    date.getSeconds() + (_unit.seconds || 0)\r\n  );\r\n}\r\n\r\nexport function setFullDate(date: Date, unit: TimeUnit): Date {\r\n  return createDate(\r\n    getNum(date.getFullYear(), unit.year),\r\n    getNum(date.getMonth(), unit.month),\r\n    getNum(date.getDate(), unit.day),\r\n    getNum(date.getHours(), unit.hour),\r\n    getNum(date.getMinutes(), unit.minute),\r\n    getNum(date.getSeconds(), unit.seconds),\r\n    getNum(date.getMilliseconds(), unit.milliseconds)\r\n  );\r\n}\r\n\r\nfunction getNum(def: number, num?: number): number {\r\n  return isNumber(num) ? num : def;\r\n}\r\n\r\nexport function setFullYear(date: Date, value: number, isUTC?: boolean): Date {\r\n  const _month = getMonth(date, isUTC);\r\n  const _date = getDate(date, isUTC);\r\n  const _year = getFullYear(date, isUTC);\r\n  if (isLeapYear(_year) && _month === 1 && _date === 29) {\r\n    const _daysInMonth = daysInMonth(value, _month);\r\n    isUTC ? date.setUTCFullYear(value, _month, _daysInMonth) : date.setFullYear(value, _month, _daysInMonth);\r\n  }\r\n\r\n  isUTC ? date.setUTCFullYear(value) : date.setFullYear(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setMonth(date: Date, value: number, isUTC?: boolean): Date {\r\n  const dayOfMonth = Math.min(getDate(date), daysInMonth(getFullYear(date), value));\r\n  isUTC ? date.setUTCMonth(value, dayOfMonth) : date.setMonth(value, dayOfMonth);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setDay(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCDate(value) : date.setDate(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setHours(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCHours(value) : date.setHours(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setMinutes(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCMinutes(value) : date.setMinutes(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setSeconds(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCSeconds(value) : date.setSeconds(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setMilliseconds(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCMilliseconds(value) : date.setMilliseconds(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setDate(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCDate(value) : date.setDate(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setTime(date: Date, value: number): Date {\r\n  date.setTime(value);\r\n\r\n  return date;\r\n}\r\n","// fastest way to clone date\r\n// https://jsperf.com/clone-date-object2\r\nexport function cloneDate(date: Date): Date {\r\n  return new Date(date.getTime());\r\n}\r\n","import { toInt } from '../utils/type-checks';\r\nimport { createDuration } from './create';\r\nimport { Duration } from './constructor';\r\nimport { DateObject } from '../types';\r\n\r\nconst ordering: (keyof DateObject)[] = ['year', 'quarter', 'month', 'week', 'day', 'hours', 'minutes', 'seconds', 'milliseconds'];\r\nconst orderingHash = ordering.reduce((mem: { [key: string]: boolean }, order) => {\r\n  mem[order] = true;\r\n\r\n  return mem;\r\n}, {});\r\n\r\nexport function isDurationValid(duration: Partial<DateObject>): boolean {\r\n  const durationKeys = Object.keys(duration);\r\n  if (durationKeys\r\n      .some((key: keyof DateObject) => {\r\n        return (key in orderingHash)\r\n          && duration[key] === null\r\n          || isNaN(duration[key]);\r\n      })) {\r\n    return false;\r\n  }\r\n  // for (let key in duration) {\r\n  //   if (!(indexOf.call(ordering, key) !== -1 && (duration[key] == null || !isNaN(duration[key])))) {\r\n  //     return false;\r\n  //   }\r\n  // }\r\n\r\n  let unitHasDecimal = false;\r\n  for (let i = 0; i < ordering.length; ++i) {\r\n    if (duration[ordering[i]]) {\r\n      // only allow non-integers for smallest unit\r\n      if (unitHasDecimal) {\r\n        return false;\r\n      }\r\n      if (duration[ordering[i]] !== toInt(duration[ordering[i]])) {\r\n        unitHasDecimal = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n// export function isValid() {\r\n//   return this._isValid;\r\n// }\r\n//\r\n// export function createInvalid(): Duration {\r\n//   return createDuration(NaN);\r\n// }\r\n","export function absCeil (number: number): number {\r\n  return number < 0 ? Math.floor(number) : Math.ceil(number);\r\n}\r\n","import { Duration } from './constructor';\r\nimport { absFloor } from '../utils';\r\nimport { absCeil } from '../utils/abs-ceil';\r\n\r\nexport function bubble(dur: Duration): Duration {\r\n  let milliseconds = dur._milliseconds;\r\n  let days = dur._days;\r\n  let months = dur._months;\r\n  const data = dur._data;\r\n\r\n  // if we have a mix of positive and negative values, bubble down first\r\n  // check: https://github.com/moment/moment/issues/2166\r\n  if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\r\n      (milliseconds <= 0 && days <= 0 && months <= 0))) {\r\n    milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\r\n    days = 0;\r\n    months = 0;\r\n  }\r\n\r\n  // The following code bubbles up values, see the tests for\r\n  // examples of what that means.\r\n  data.milliseconds = milliseconds % 1000;\r\n\r\n  const seconds = absFloor(milliseconds / 1000);\r\n  data.seconds = seconds % 60;\r\n\r\n  const minutes = absFloor(seconds / 60);\r\n  data.minutes = minutes % 60;\r\n\r\n  const hours = absFloor(minutes / 60);\r\n  data.hours = hours % 24;\r\n\r\n  days += absFloor(hours / 24);\r\n\r\n  // convert days to months\r\n  const monthsFromDays = absFloor(daysToMonths(days));\r\n  months += monthsFromDays;\r\n  days -= absCeil(monthsToDays(monthsFromDays));\r\n\r\n  // 12 months -> 1 year\r\n  const years = absFloor(months / 12);\r\n  months %= 12;\r\n\r\n  data.day = days;\r\n  data.month = months;\r\n  data.year = years;\r\n\r\n  return dur;\r\n}\r\n\r\nexport function daysToMonths(day: number): number {\r\n  // 400 years have 146097 days (taking into account leap year rules)\r\n  // 400 years have 12 months === 4800\r\n  return day * 4800 / 146097;\r\n}\r\n\r\nexport function monthsToDays(month: number): number {\r\n  // the reverse of daysToMonths\r\n  return month * 146097 / 4800;\r\n}\r\n","// tslint:disable:cyclomatic-complexity\r\nimport { createDuration } from './create';\r\nimport { Locale } from '../locale/locale.class';\r\nimport { Duration } from './constructor';\r\n\r\nlet round = Math.round;\r\nconst thresholds: { [key: string]: number } = {\r\n  ss: 44,         // a few seconds to seconds\r\n  s: 45,         // seconds to minute\r\n  m: 45,         // minutes to hour\r\n  h: 22,         // hours to day\r\n  d: 26,         // days to month\r\n  M: 11          // months to year\r\n};\r\n\r\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\r\nfunction substituteTimeAgo(str: 'future' | 'past', num: number,\r\n                           withoutSuffix: boolean, isFuture: boolean,\r\n                           locale: Locale): string {\r\n  return locale.relativeTime(num || 1, !!withoutSuffix, str, isFuture);\r\n}\r\n\r\nexport function relativeTime(posNegDuration: Duration, withoutSuffix: boolean, locale: Locale): string {\r\n  const duration = createDuration(posNegDuration).abs();\r\n  const seconds = round(duration.as('s'));\r\n  const minutes = round(duration.as('m'));\r\n  const hours = round(duration.as('h'));\r\n  const days = round(duration.as('d'));\r\n  const months = round(duration.as('M'));\r\n  const years = round(duration.as('y'));\r\n\r\n  const a: [string] | [string, number] =\r\n    seconds <= thresholds.ss && ['s', seconds] ||\r\n    seconds < thresholds.s && ['ss', seconds] ||\r\n    minutes <= 1 && ['m'] ||\r\n    minutes < thresholds.m && ['mm', minutes] ||\r\n    hours <= 1 && ['h'] ||\r\n    hours < thresholds.h && ['hh', hours] ||\r\n    days <= 1 && ['d'] ||\r\n    days < thresholds.d && ['dd', days] ||\r\n    months <= 1 && ['M'] ||\r\n    months < thresholds.M && ['MM', months] ||\r\n    years <= 1 && ['y'] || ['yy', years];\r\n\r\n  const b: [string, number | string, boolean, boolean, Locale] =\r\n    [a[0], a[1], withoutSuffix, +posNegDuration > 0, locale];\r\n  // a[2] = withoutSuffix;\r\n  // a[3] = +posNegDuration > 0;\r\n  // a[4] = locale;\r\n\r\n  return substituteTimeAgo.apply(null, b);\r\n}\r\n\r\n// This function allows you to set the rounding function for relative time strings\r\nexport function getSetRelativeTimeRounding(roundingFunction: any): boolean | Function {\r\n  if (roundingFunction === undefined) {\r\n    return round;\r\n  }\r\n  if (typeof(roundingFunction) === 'function') {\r\n    round = roundingFunction;\r\n\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n// This function allows you to set a threshold for relative time strings\r\nexport function getSetRelativeTimeThreshold(threshold: string, limit: number): boolean | number {\r\n  if (thresholds[threshold] === undefined) {\r\n    return false;\r\n  }\r\n  if (limit === undefined) {\r\n    return thresholds[threshold];\r\n  }\r\n  thresholds[threshold] = limit;\r\n  if (threshold === 's') {\r\n    thresholds.ss = limit - 1;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n// export function humanize(withSuffix) {\r\n//   if (!this.isValid()) {\r\n//     return this.localeData().invalidDate();\r\n//   }\r\n//\r\n//   const locale = this.localeData();\r\n//   let output = relativeTime(this, !withSuffix, locale);\r\n//\r\n//   if (withSuffix) {\r\n//     output = locale.pastFuture(+this, output);\r\n//   }\r\n//\r\n//   return locale.postformat(output);\r\n// }\r\n","import { getLocale } from '../locale/locales';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { isDurationValid } from './valid';\r\nimport { bubble, daysToMonths, monthsToDays } from './bubble';\r\nimport { DateObject } from '../types';\r\nimport { Locale } from '../locale/locale.class';\r\nimport { normalizeUnits } from '../units/aliases';\r\nimport { relativeTime } from './humanize';\r\nimport { toInt } from '../utils/type-checks';\r\n\r\nexport class Duration {\r\n  _milliseconds: number;\r\n  _days: number;\r\n  _months: number;\r\n  _data: Partial<DateObject> = {};\r\n  _locale: Locale = getLocale();\r\n  _isValid: boolean;\r\n\r\n  constructor(duration: Partial<DateObject>, config: DateParsingConfig = {}) {\r\n    this._locale = config && config._locale || getLocale();\r\n    // const normalizedInput = normalizeObjectUnits(duration);\r\n    const normalizedInput = duration;\r\n    const years = normalizedInput.year || 0;\r\n    const quarters = normalizedInput.quarter || 0;\r\n    const months = normalizedInput.month || 0;\r\n    const weeks = normalizedInput.week || 0;\r\n    const days = normalizedInput.day || 0;\r\n    const hours = normalizedInput.hours || 0;\r\n    const minutes = normalizedInput.minutes || 0;\r\n    const seconds = normalizedInput.seconds || 0;\r\n    const milliseconds = normalizedInput.milliseconds || 0;\r\n\r\n    this._isValid = isDurationValid(normalizedInput);\r\n\r\n    // representation for dateAddRemove\r\n    this._milliseconds = +milliseconds +\r\n      seconds * 1000 +\r\n      minutes * 60 * 1000 + // 1000 * 60\r\n      hours * 1000 * 60 * 60; // using 1000 * 60 * 60\r\n    // instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\r\n    // Because of dateAddRemove treats 24 hours as different from a\r\n    // day when working around DST, we need to store them separately\r\n    this._days = +days +\r\n      weeks * 7;\r\n    // It is impossible to translate months into days without knowing\r\n    // which months you are are talking about, so we have to store\r\n    // it separately.\r\n    this._months = +months +\r\n      quarters * 3 +\r\n      years * 12;\r\n\r\n    // this._data = {};\r\n\r\n    // this._locale = getLocale();\r\n\r\n    // this._bubble();\r\n    return bubble(this);\r\n  }\r\n\r\n  isValid(): boolean {\r\n    return this._isValid;\r\n  }\r\n\r\n  humanize(withSuffix?: boolean): string {\r\n    // throw new Error(`TODO: implement`);\r\n\r\n    if (!this.isValid()) {\r\n      return this.localeData().invalidDate;\r\n    }\r\n\r\n    const locale = this.localeData();\r\n    let output = relativeTime(this, !withSuffix, locale);\r\n\r\n    if (withSuffix) {\r\n      output = locale.pastFuture(+this, output);\r\n    }\r\n\r\n    return locale.postformat(output);\r\n  }\r\n\r\n  localeData(): Locale {\r\n    return this._locale;\r\n  }\r\n\r\n  locale(): string;\r\n  locale(localeKey: string): Duration;\r\n  locale(localeKey?: string): Duration | string {\r\n    if (!localeKey) {\r\n      return this._locale._abbr;\r\n    }\r\n\r\n    this._locale = getLocale(localeKey) || this._locale;\r\n\r\n    return this;\r\n  }\r\n\r\n\r\n  abs(): Duration {\r\n    const mathAbs = Math.abs;\r\n\r\n    const data = this._data;\r\n\r\n    this._milliseconds = mathAbs(this._milliseconds);\r\n    this._days = mathAbs(this._days);\r\n    this._months = mathAbs(this._months);\r\n\r\n    data.milliseconds = mathAbs(data.milliseconds);\r\n    data.seconds = mathAbs(data.seconds);\r\n    data.minutes = mathAbs(data.minutes);\r\n    data.hours = mathAbs(data.hours);\r\n    data.month = mathAbs(data.month);\r\n    data.year = mathAbs(data.year);\r\n\r\n    return this;\r\n  }\r\n\r\n  as(_units: string): number {\r\n    if (!this.isValid()) {\r\n      return NaN;\r\n    }\r\n    let days;\r\n    let months;\r\n    const milliseconds = this._milliseconds;\r\n\r\n    const units = normalizeUnits(_units);\r\n\r\n    if (units === 'month' || units === 'year') {\r\n      days = this._days + milliseconds / 864e5;\r\n      months = this._months + daysToMonths(days);\r\n\r\n      return units === 'month' ? months : months / 12;\r\n    }\r\n\r\n    // handle milliseconds separately because of floating point math errors (issue #1867)\r\n    days = this._days + Math.round(monthsToDays(this._months));\r\n    switch (units) {\r\n      case 'week'   :\r\n        return days / 7 + milliseconds / 6048e5;\r\n      case 'day'    :\r\n        return days + milliseconds / 864e5;\r\n      case 'hours'   :\r\n        return days * 24 + milliseconds / 36e5;\r\n      case 'minutes' :\r\n        return days * 1440 + milliseconds / 6e4;\r\n      case 'seconds' :\r\n        return days * 86400 + milliseconds / 1000;\r\n      // Math.floor prevents floating point math errors here\r\n      case 'milliseconds':\r\n        return Math.floor(days * 864e5) + milliseconds;\r\n      default:\r\n        throw new Error(`Unknown unit ${units}`);\r\n    }\r\n  }\r\n\r\n  valueOf () {\r\n    if (!this.isValid()) {\r\n      return NaN;\r\n    }\r\n\r\n    return (\r\n      this._milliseconds +\r\n      this._days * 864e5 +\r\n      (this._months % 12) * 2592e6 +\r\n      toInt(this._months / 12) * 31536e6\r\n    );\r\n  }\r\n}\r\n\r\nexport function isDuration(obj: any): obj is Duration {\r\n  return obj instanceof Duration;\r\n}\r\n","import { DateParsingConfig } from './parsing.types';\r\nimport { getParsingFlags } from './parsing-flags';\r\n\r\nexport function isValid(config: DateParsingConfig): boolean {\r\n  if (config._isValid == null) {\r\n    const flags = getParsingFlags(config);\r\n    const parsedParts = Array.prototype.some.call(flags.parsedDateParts, function (i: number) {\r\n      return i != null;\r\n    });\r\n    let isNowValid = !isNaN(config._d && config._d.getTime()) &&\r\n      flags.overflow < 0 &&\r\n      !flags.empty &&\r\n      !flags.invalidMonth &&\r\n      !flags.invalidWeekday &&\r\n      !flags.weekdayMismatch &&\r\n      !flags.nullInput &&\r\n      !flags.invalidFormat &&\r\n      !flags.userInvalidated &&\r\n      (!flags.meridiem || (flags.meridiem && parsedParts));\r\n\r\n    if (config._strict) {\r\n      isNowValid = isNowValid &&\r\n        flags.charsLeftOver === 0 &&\r\n        flags.unusedTokens.length === 0 &&\r\n        flags.bigHour === undefined;\r\n    }\r\n\r\n    if (Object.isFrozen == null || !Object.isFrozen(config)) {\r\n      config._isValid = isNowValid;\r\n    } else {\r\n      return isNowValid;\r\n    }\r\n  }\r\n\r\n  return config._isValid;\r\n}\r\n\r\nexport function createInvalid(config: DateParsingConfig, flags?: { nullInput: boolean }): DateParsingConfig {\r\n  config._d = new Date(NaN);\r\n  Object.assign(getParsingFlags(config), flags || { userInvalidated: true });\r\n\r\n  return config;\r\n}\r\n\r\nexport function markInvalid(config: DateParsingConfig): DateParsingConfig {\r\n  config._isValid = false;\r\n\r\n  return config;\r\n}\r\n","// tslint:disable-next-line\r\nimport { defaultLocaleMonthsShort, defaultLocaleWeekdaysShort } from '../locale/locale.class';\r\nimport { DateArray } from '../types';\r\nimport { DateParsingConfig } from './parsing.types';\r\nimport { isString } from '../utils/type-checks';\r\nimport { configFromStringAndFormat } from './from-string-and-format';\r\nimport { createUTCDate } from './date-from-array';\r\nimport { createInvalid, markInvalid } from './valid';\r\nimport { getParsingFlags } from './parsing-flags';\r\n\r\n// iso 8601 regex\r\n// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\r\n// tslint:disable-next-line\r\nconst extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\r\n// tslint:disable-next-line\r\nconst basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\r\n\r\nconst tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\r\n\r\nconst isoDates: [string, RegExp, boolean][] = [\r\n  ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/, true],\r\n  ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/, true],\r\n  ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/, true],\r\n  ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\r\n  ['YYYY-DDD', /\\d{4}-\\d{3}/, true],\r\n  ['YYYY-MM', /\\d{4}-\\d\\d/, false],\r\n  ['YYYYYYMMDD', /[+-]\\d{10}/, true],\r\n  ['YYYYMMDD', /\\d{8}/, true],\r\n  // YYYYMM is NOT allowed by the standard\r\n  ['GGGG[W]WWE', /\\d{4}W\\d{3}/, true],\r\n  ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\r\n  ['YYYYDDD', /\\d{7}/, true]\r\n];\r\n\r\n// iso time formats and regexes\r\nconst isoTimes: [string, RegExp][] = [\r\n  ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\r\n  ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\r\n  ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\r\n  ['HH:mm', /\\d\\d:\\d\\d/],\r\n  ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\r\n  ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\r\n  ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\r\n  ['HHmm', /\\d\\d\\d\\d/],\r\n  ['HH', /\\d\\d/]\r\n];\r\n\r\nconst aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\r\n\r\nconst obsOffsets: { [key: string]: number } = {\r\n  UT: 0,\r\n  GMT: 0,\r\n  EDT: -4 * 60,\r\n  EST: -5 * 60,\r\n  CDT: -5 * 60,\r\n  CST: -6 * 60,\r\n  MDT: -6 * 60,\r\n  MST: -7 * 60,\r\n  PDT: -7 * 60,\r\n  PST: -8 * 60\r\n};\r\n\r\n// RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\r\n// tslint:disable-next-line\r\nconst rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\r\n\r\n// date from iso format\r\nexport function configFromISO(config: DateParsingConfig): DateParsingConfig {\r\n  if (!isString(config._i)) {\r\n    return config;\r\n  }\r\n\r\n  const input = config._i;\r\n  const match = extendedIsoRegex.exec(input) || basicIsoRegex.exec(input);\r\n\r\n\r\n  let allowTime;\r\n  let dateFormat;\r\n  let timeFormat;\r\n  let tzFormat;\r\n\r\n  if (!match) {\r\n    config._isValid = false;\r\n\r\n    return config;\r\n  }\r\n\r\n  // getParsingFlags(config).iso = true;\r\n  let i;\r\n  let l;\r\n  for (i = 0, l = isoDates.length; i < l; i++) {\r\n    if (isoDates[i][1].exec(match[1])) {\r\n      dateFormat = isoDates[i][0];\r\n      allowTime = isoDates[i][2] !== false;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (dateFormat == null) {\r\n    config._isValid = false;\r\n\r\n    return config;\r\n  }\r\n\r\n  if (match[3]) {\r\n    for (i = 0, l = isoTimes.length; i < l; i++) {\r\n      if (isoTimes[i][1].exec(match[3])) {\r\n        // match[2] should be 'T' or space\r\n        timeFormat = (match[2] || ' ') + isoTimes[i][0];\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (timeFormat == null) {\r\n      config._isValid = false;\r\n\r\n      return config;\r\n    }\r\n\r\n  }\r\n  if (!allowTime && timeFormat != null) {\r\n    config._isValid = false;\r\n\r\n    return config;\r\n  }\r\n\r\n  if (match[4]) {\r\n    if (tzRegex.exec(match[4])) {\r\n      tzFormat = 'Z';\r\n    } else {\r\n      config._isValid = false;\r\n\r\n      return config;\r\n    }\r\n  }\r\n\r\n  config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\r\n\r\n  return configFromStringAndFormat(config);\r\n}\r\n\r\n// tslint:disable-next-line\r\nfunction extractFromRFC2822Strings(yearStr: string, monthStr: string, dayStr: string, hourStr: string, minuteStr: string, secondStr: string): DateArray {\r\n  const result = [\r\n    untruncateYear(yearStr),\r\n    defaultLocaleMonthsShort.indexOf(monthStr),\r\n    parseInt(dayStr, 10),\r\n    parseInt(hourStr, 10),\r\n    parseInt(minuteStr, 10)\r\n  ];\r\n\r\n  if (secondStr) {\r\n    result.push(parseInt(secondStr, 10));\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction untruncateYear(yearStr: string): number {\r\n  const year = parseInt(yearStr, 10);\r\n\r\n  return year <= 49 ? year + 2000 : year;\r\n}\r\n\r\nfunction preprocessRFC2822(str: string): string {\r\n  // Remove comments and folding whitespace and replace multiple-spaces with a single space\r\n  return str\r\n    .replace(/\\([^)]*\\)|[\\n\\t]/g, ' ')\r\n    .replace(/(\\s\\s+)/g, ' ').trim();\r\n}\r\n\r\nfunction checkWeekday(weekdayStr: string, parsedInput: DateArray, config: DateParsingConfig): boolean {\r\n  if (weekdayStr) {\r\n    // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\r\n    const weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr);\r\n    const weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\r\n    if (weekdayProvided !== weekdayActual) {\r\n      getParsingFlags(config).weekdayMismatch = true;\r\n      config._isValid = false;\r\n\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction calculateOffset(obsOffset: string, militaryOffset: string, numOffset: string) {\r\n  if (obsOffset) {\r\n    return obsOffsets[obsOffset];\r\n  } else if (militaryOffset) {\r\n    // the only allowed military tz is Z\r\n    return 0;\r\n  } else {\r\n    const hm = parseInt(numOffset, 10);\r\n    const m = hm % 100;\r\n    const h = (hm - m) / 100;\r\n\r\n    return h * 60 + m;\r\n  }\r\n}\r\n\r\n// date and time from ref 2822 format\r\nexport function configFromRFC2822(config: DateParsingConfig): DateParsingConfig {\r\n  if (!isString(config._i)) {\r\n    return config;\r\n  }\r\n\r\n  const match = rfc2822.exec(preprocessRFC2822(config._i));\r\n\r\n  if (!match) {\r\n    return markInvalid(config);\r\n  }\r\n\r\n  const parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\r\n  if (!checkWeekday(match[1], parsedArray, config)) {\r\n    return config;\r\n  }\r\n\r\n  config._a = parsedArray;\r\n  config._tzm = calculateOffset(match[8], match[9], match[10]);\r\n\r\n  config._d = createUTCDate.apply(null, config._a);\r\n  config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\r\n\r\n  getParsingFlags(config).rfc2822 = true;\r\n\r\n  return config;\r\n}\r\n\r\n// date from iso format or fallback\r\nexport function configFromString(config: DateParsingConfig): DateParsingConfig {\r\n  if (!isString(config._i)) {\r\n    return config;\r\n  }\r\n\r\n  const matched = aspNetJsonRegex.exec(config._i);\r\n\r\n  if (matched !== null) {\r\n    config._d = new Date(+matched[1]);\r\n\r\n    return config;\r\n  }\r\n\r\n  // todo: update logic processing\r\n  // isISO -> configFromISO\r\n  // isRFC -> configFromRFC\r\n\r\n  configFromISO(config);\r\n  if (config._isValid === false) {\r\n    delete config._isValid;\r\n  } else {\r\n    return config;\r\n  }\r\n\r\n  configFromRFC2822(config);\r\n  if (config._isValid === false) {\r\n    delete config._isValid;\r\n  } else {\r\n    return config;\r\n  }\r\n\r\n  // Final attempt, use Input Fallback\r\n  // hooks.createFromInputFallback(config);\r\n  return createInvalid(config);\r\n}\r\n\r\n// hooks.createFromInputFallback = deprecate(\r\n//     'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\r\n//     'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\r\n//     'discouraged and will be removed in an upcoming major release. Please refer to ' +\r\n//     'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\r\n//     function (config) {\r\n//         config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\r\n//     }\r\n// );\r\n","// tslint:disable:no-bitwise\r\n// FORMATTING\r\n\r\nimport { addFormatToken } from '../format/format';\r\nimport { addRegexToken, match1, match1to3, match2, match3, matchUnsigned } from '../parse/regex';\r\nimport { MILLISECOND } from './constants';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { addParseToken } from '../parse/token';\r\nimport { DateArray, DateFormatterOptions, WeekParsing } from '../types';\r\nimport { addUnitAlias } from './aliases';\r\nimport { addUnitPriority } from './priorities';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { getMilliseconds } from '../utils/date-getters';\r\n\r\naddFormatToken('S', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (~~(getMilliseconds(date, opts.isUTC) / 100)).toString(10);\r\n  });\r\n\r\naddFormatToken(null, ['SS', 2, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (~~(getMilliseconds(date, opts.isUTC) / 10)).toString(10);\r\n  });\r\n\r\naddFormatToken(null, ['SSS', 3, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (getMilliseconds(date, opts.isUTC)).toString(10);\r\n  });\r\naddFormatToken(null, ['SSSS', 4, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (getMilliseconds(date, opts.isUTC) * 10).toString(10);\r\n  });\r\naddFormatToken(null, ['SSSSS', 5, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (getMilliseconds(date, opts.isUTC) * 100).toString(10);\r\n  });\r\naddFormatToken(null, ['SSSSSS', 6, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (getMilliseconds(date, opts.isUTC) * 1000).toString(10);\r\n  });\r\naddFormatToken(null, ['SSSSSSS', 7, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (getMilliseconds(date, opts.isUTC) * 10000).toString(10);\r\n  });\r\naddFormatToken(null, ['SSSSSSSS', 8, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (getMilliseconds(date, opts.isUTC) * 100000).toString(10);\r\n  });\r\naddFormatToken(null, ['SSSSSSSSS', 9, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return (getMilliseconds(date, opts.isUTC) * 1000000).toString(10);\r\n  });\r\n\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('millisecond', 'ms');\r\n\r\n// PRIORITY\r\n\r\naddUnitPriority('millisecond', 16);\r\n\r\n// PARSING\r\n\r\naddRegexToken('S', match1to3, match1);\r\naddRegexToken('SS', match1to3, match2);\r\naddRegexToken('SSS', match1to3, match3);\r\n\r\nlet token;\r\nfor (token = 'SSSS'; token.length <= 9; token += 'S') {\r\n  addRegexToken(token, matchUnsigned);\r\n}\r\n\r\nfunction parseMs(input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  array[MILLISECOND] = toInt(parseFloat(`0.${input}`) * 1000);\r\n\r\n  return config;\r\n}\r\n\r\nfor (token = 'S'; token.length <= 9; token += 'S') {\r\n  addParseToken(token, parseMs);\r\n}\r\n// MOMENTS\r\n\r\n","import { getHours, getMinutes, getSeconds } from '../utils/date-getters';\r\nimport { addFormatToken } from '../format/format';\r\nimport { zeroFill } from '../utils/zero-fill';\r\nimport { Locale } from '../locale/locale.class';\r\nimport { addRegexToken, match1to2, match2, match3to4, match5to6 } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { HOUR, MINUTE, SECOND } from './constants';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { DateArray, DateFormatterOptions } from '../types';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { getParsingFlags } from '../create/parsing-flags';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addUnitAlias } from './aliases';\r\n\r\n// FORMATTING\r\n\r\nfunction hFormat(date: Date, isUTC: boolean): number {\r\n  return getHours(date, isUTC) % 12 || 12;\r\n}\r\n\r\nfunction kFormat(date: Date, isUTC: boolean): number {\r\n  return getHours(date, isUTC) || 24;\r\n}\r\n\r\naddFormatToken('H', ['HH', 2, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return getHours(date, opts.isUTC).toString(10);\r\n  });\r\naddFormatToken('h', ['hh', 2, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return hFormat(date, opts.isUTC).toString(10);\r\n  });\r\naddFormatToken('k', ['kk', 2, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return kFormat(date, opts.isUTC).toString(10);\r\n  });\r\n\r\naddFormatToken('hmm', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    const _h = hFormat(date, opts.isUTC);\r\n    const _mm = zeroFill(getMinutes(date, opts.isUTC), 2);\r\n\r\n    return `${_h}${_mm}`;\r\n  });\r\n\r\naddFormatToken('hmmss', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    const _h = hFormat(date, opts.isUTC);\r\n    const _mm = zeroFill(getMinutes(date, opts.isUTC), 2);\r\n    const _ss = zeroFill(getSeconds(date, opts.isUTC), 2);\r\n\r\n    return `${_h}${_mm}${_ss}`;\r\n  });\r\n\r\naddFormatToken('Hmm', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    const _H = getHours(date, opts.isUTC);\r\n    const _mm = zeroFill(getMinutes(date, opts.isUTC), 2);\r\n\r\n    return `${_H}${_mm}`;\r\n  });\r\n\r\naddFormatToken('Hmmss', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    const _H = getHours(date, opts.isUTC);\r\n    const _mm = zeroFill(getMinutes(date, opts.isUTC), 2);\r\n    const _ss = zeroFill(getSeconds(date, opts.isUTC), 2);\r\n\r\n    return `${_H}${_mm}${_ss}`;\r\n  });\r\n\r\nfunction meridiem(token: string, lowercase: boolean): void {\r\n  addFormatToken(token, null, null,\r\n    function (date: Date, opts: DateFormatterOptions): string {\r\n      return opts.locale.meridiem(getHours(date, opts.isUTC), getMinutes(date, opts.isUTC), lowercase);\r\n    });\r\n}\r\n\r\nmeridiem('a', true);\r\nmeridiem('A', false);\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('hour', 'h');\r\n\r\n// PRIORITY\r\naddUnitPriority('hour', 13);\r\n\r\n\r\n// PARSING\r\n\r\nfunction matchMeridiem(isStrict: boolean, locale: Locale): RegExp {\r\n  return locale._meridiemParse;\r\n}\r\n\r\naddRegexToken('a', matchMeridiem);\r\naddRegexToken('A', matchMeridiem);\r\naddRegexToken('H', match1to2);\r\naddRegexToken('h', match1to2);\r\naddRegexToken('k', match1to2);\r\naddRegexToken('HH', match1to2, match2);\r\naddRegexToken('hh', match1to2, match2);\r\naddRegexToken('kk', match1to2, match2);\r\n\r\naddRegexToken('hmm', match3to4);\r\naddRegexToken('hmmss', match5to6);\r\naddRegexToken('Hmm', match3to4);\r\naddRegexToken('Hmmss', match5to6);\r\n\r\naddParseToken(['H', 'HH'], HOUR);\r\naddParseToken(['k', 'kk'],\r\n  function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    const kInput = toInt(input);\r\n    array[HOUR] = kInput === 24 ? 0 : kInput;\r\n\r\n    return config;\r\n  });\r\naddParseToken(['a', 'A'], function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  config._isPm = config._locale.isPM(input);\r\n  config._meridiem = input;\r\n\r\n  return config;\r\n});\r\naddParseToken(['h', 'hh'], function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  array[HOUR] = toInt(input);\r\n  getParsingFlags(config).bigHour = true;\r\n\r\n  return config;\r\n});\r\naddParseToken('hmm', function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  const pos = input.length - 2;\r\n  array[HOUR] = toInt(input.substr(0, pos));\r\n  array[MINUTE] = toInt(input.substr(pos));\r\n  getParsingFlags(config).bigHour = true;\r\n\r\n  return config;\r\n});\r\naddParseToken('hmmss', function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  const pos1 = input.length - 4;\r\n  const pos2 = input.length - 2;\r\n  array[HOUR] = toInt(input.substr(0, pos1));\r\n  array[MINUTE] = toInt(input.substr(pos1, 2));\r\n  array[SECOND] = toInt(input.substr(pos2));\r\n  getParsingFlags(config).bigHour = true;\r\n\r\n  return config;\r\n});\r\naddParseToken('Hmm', function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  const pos = input.length - 2;\r\n  array[HOUR] = toInt(input.substr(0, pos));\r\n  array[MINUTE] = toInt(input.substr(pos));\r\n\r\n  return config;\r\n});\r\naddParseToken('Hmmss', function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  const pos1 = input.length - 4;\r\n  const pos2 = input.length - 2;\r\n  array[HOUR] = toInt(input.substr(0, pos1));\r\n  array[MINUTE] = toInt(input.substr(pos1, 2));\r\n  array[SECOND] = toInt(input.substr(pos2));\r\n\r\n  return config;\r\n});\r\n","import { addFormatToken } from '../format/format';\r\nimport { getDate } from '../utils/date-getters';\r\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { DATE } from './constants';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { DateArray, DateFormatterOptions } from '../types';\r\nimport { addUnitAlias } from './aliases';\r\nimport { addUnitPriority } from './priorities';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('D', ['DD', 2, false], 'Do',\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return getDate(date, opts.isUTC).toString(10);\r\n  });\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('date', 'D');\r\n\r\n// PRIOROITY\r\naddUnitPriority('date', 9);\r\n\r\n// PARSING\r\n\r\naddRegexToken('D', match1to2);\r\naddRegexToken('DD', match1to2, match2);\r\naddRegexToken('Do', function (isStrict, locale) {\r\n  return locale._dayOfMonthOrdinalParse || locale._ordinalParse;\r\n});\r\n\r\naddParseToken(['D', 'DD'], DATE);\r\naddParseToken('Do',\r\n  function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    array[DATE] = toInt(input.match(match1to2)[0]);\r\n\r\n    return config;\r\n  });\r\n","// tslint:disable:no-bitwise max-line-length\r\n// FORMATTING\r\n\r\nimport { addFormatToken } from '../format/format';\r\nimport { zeroFill } from '../utils/zero-fill';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { isNumber, isString, toInt } from '../utils/type-checks';\r\nimport { addRegexToken, matchOffset, matchShortOffset } from '../parse/regex';\r\nimport { add } from '../moment/add-subtract';\r\nimport { addParseToken } from '../parse/token';\r\nimport { DateArray } from '../types';\r\nimport { cloneDate } from '../create/clone';\r\nimport { setMonth } from '../utils/date-setters';\r\n\r\nfunction addOffsetFormatToken(token: string, separator: string): void {\r\n  addFormatToken(token, null, null, function (date: Date, config): string {\r\n    let offset = getUTCOffset(date, {_isUTC: config.isUTC, _offset: config.offset});\r\n    let sign = '+';\r\n    if (offset < 0) {\r\n      offset = -offset;\r\n      sign = '-';\r\n    }\r\n\r\n    return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\r\n  });\r\n}\r\n\r\naddOffsetFormatToken('Z', ':');\r\naddOffsetFormatToken('ZZ', '');\r\n\r\n// PARSING\r\n\r\naddRegexToken('Z', matchShortOffset);\r\naddRegexToken('ZZ', matchShortOffset);\r\naddParseToken(['Z', 'ZZ'], function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  config._useUTC = true;\r\n  config._tzm = offsetFromString(matchShortOffset, input);\r\n\r\n  return config;\r\n});\r\n\r\n// HELPERS\r\n\r\n// timezone chunker\r\n// '+10:00' > ['10',  '00']\r\n// '-1530'  > ['-15', '30']\r\nconst chunkOffset = /([\\+\\-]|\\d\\d)/gi;\r\n\r\nfunction offsetFromString(matcher: RegExp, str: string): number {\r\n  const matches = (str || '').match(matcher);\r\n\r\n  if (matches === null) {\r\n    return null;\r\n  }\r\n\r\n  const chunk = matches[matches.length - 1];\r\n  const parts = chunk.match(chunkOffset) || ['-', '0', '0'];\r\n  const minutes = parseInt(parts[1], 10) * 60 + toInt(parts[2]);\r\n  const _min = parts[0] === '+' ? minutes : -minutes;\r\n\r\n  return minutes === 0 ? 0 : _min;\r\n}\r\n\r\n// Return a moment from input, that is local/utc/zone equivalent to model.\r\nexport function cloneWithOffset(input: Date, date: Date,\r\n                                config: DateParsingConfig = {}): Date {\r\n  if (!config._isUTC) {\r\n    return input;\r\n  }\r\n\r\n  const res = cloneDate(date);\r\n  // todo: input._d - res._d + ((res._offset || 0) - (input._offset || 0))*60000\r\n  const offsetDiff = (config._offset || 0) * 60000;\r\n  const diff = input.valueOf() - res.valueOf() + offsetDiff;\r\n  // Use low-level api, because this fn is low-level api.\r\n  res.setTime(res.valueOf() + diff);\r\n  // todo: add timezone handling\r\n  // hooks.updateOffset(res, false);\r\n\r\n  return res;\r\n}\r\n\r\nexport function getDateOffset(date: Date): number {\r\n  // On Firefox.24 Date#getTimezoneOffset returns a floating point.\r\n  // https://github.com/moment/moment/pull/1871\r\n  return -Math.round(date.getTimezoneOffset() / 15) * 15;\r\n}\r\n\r\n// HOOKS\r\n\r\n// This function will be called whenever a moment is mutated.\r\n// It is intended to keep the offset in sync with the timezone.\r\n// todo: it's from moment timezones\r\n// hooks.updateOffset = function () {\r\n// };\r\n\r\n// MOMENTS\r\n\r\n// keepLocalTime = true means only change the timezone, without\r\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\r\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\r\n// +0200, so we adjust the time as needed, to be valid.\r\n//\r\n// Keeping the time actually adds/subtracts (one hour)\r\n// from the actual represented time. That is why we call updateOffset\r\n// a second time. In case it wants us to change the offset again\r\n// _changeInProgress == true case, then we have to adjust, because\r\n// there is no such time in the given timezone.\r\nexport function getUTCOffset(date: Date, config: DateParsingConfig = {}): number {\r\n  const _offset = config._offset || 0;\r\n\r\n  return config._isUTC ? _offset : getDateOffset(date);\r\n}\r\n\r\nexport function setUTCOffset(date: Date, input: number | string, keepLocalTime?: boolean, keepMinutes?: boolean, config: DateParsingConfig = {}): Date {\r\n  const offset = config._offset || 0;\r\n  let localAdjust;\r\n  let _input = input;\r\n  let _date = date;\r\n\r\n  if (isString(_input)) {\r\n    _input = offsetFromString(matchShortOffset, _input);\r\n    if (_input === null) {\r\n      return _date;\r\n    }\r\n  } else if (isNumber(_input) && Math.abs(_input) < 16 && !keepMinutes) {\r\n    _input = _input * 60;\r\n  }\r\n\r\n  if (!config._isUTC && keepLocalTime) {\r\n    localAdjust = getDateOffset(_date);\r\n  }\r\n  config._offset = _input;\r\n  config._isUTC = true;\r\n  if (localAdjust != null) {\r\n    _date = add(_date, localAdjust, 'minutes');\r\n  }\r\n  if (offset !== _input) {\r\n    if (!keepLocalTime || config._changeInProgress) {\r\n      _date = add(_date, _input - offset, 'minutes', config._isUTC);\r\n      // addSubtract(this, createDuration(_input - offset, 'm'), 1, false);\r\n    } else if (!config._changeInProgress) {\r\n      config._changeInProgress = true;\r\n      // todo: add timezone handling\r\n      // hooks.updateOffset(this, true);\r\n      config._changeInProgress = null;\r\n    }\r\n  }\r\n\r\n  return _date;\r\n}\r\n\r\n/*\r\nexport function getSetZone(input, keepLocalTime) {\r\n  if (input != null) {\r\n    if (typeof input !== 'string') {\r\n      input = -input;\r\n    }\r\n\r\n    this.utcOffset(input, keepLocalTime);\r\n\r\n    return this;\r\n  } else {\r\n    return -this.utcOffset();\r\n  }\r\n}\r\n*/\r\n\r\nexport function setOffsetToUTC(date: Date, keepLocalTime?: boolean): Date {\r\n  return setUTCOffset(date, 0, keepLocalTime);\r\n}\r\n\r\nexport function isDaylightSavingTime(date: Date): boolean {\r\n\r\n  return (getUTCOffset(date) > getUTCOffset(setMonth(cloneDate(date), 0))\r\n    || getUTCOffset(date) > getUTCOffset(setMonth(cloneDate(date), 5)));\r\n}\r\n\r\n/*export function setOffsetToLocal(date: Date, isUTC?: boolean, keepLocalTime?: boolean) {\r\n  if (this._isUTC) {\r\n    this.utcOffset(0, keepLocalTime);\r\n    this._isUTC = false;\r\n\r\n    if (keepLocalTime) {\r\n      this.subtract(getDateOffset(this), 'm');\r\n    }\r\n  }\r\n  return this;\r\n}*/\r\n\r\nexport function setOffsetToParsedOffset(date: Date, input: string, config: DateParsingConfig = {}): Date {\r\n  if (config._tzm != null) {\r\n    return setUTCOffset(date, config._tzm, false, true, config);\r\n  }\r\n\r\n  if (isString(input)) {\r\n    const tZone = offsetFromString(matchOffset, input);\r\n    if (tZone != null) {\r\n      return setUTCOffset(date, tZone, false, false, config);\r\n    }\r\n\r\n    return setUTCOffset(date, 0, true, false, config);\r\n  }\r\n\r\n  return date;\r\n}\r\n\r\nexport function hasAlignedHourOffset(date: Date, input?: Date) {\r\n  const _input = input ? getUTCOffset(input, { _isUTC: false }) : 0;\r\n\r\n  return (getUTCOffset(date) - _input) % 60 === 0;\r\n}\r\n\r\n\r\n// DEPRECATED\r\n/*export function isDaylightSavingTimeShifted() {\r\n  if (!isUndefined(this._isDSTShifted)) {\r\n    return this._isDSTShifted;\r\n  }\r\n\r\n  const c = {};\r\n\r\n  copyConfig(c, this);\r\n  c = prepareConfig(c);\r\n\r\n  if (c._a) {\r\n    const other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\r\n    this._isDSTShifted = this.isValid() &&\r\n      compareArrays(c._a, other.toArray()) > 0;\r\n  } else {\r\n    this._isDSTShifted = false;\r\n  }\r\n\r\n  return this._isDSTShifted;\r\n}*/\r\n\r\n// in Khronos\r\n/*export function isLocal() {\r\n  return this.isValid() ? !this._isUTC : false;\r\n}\r\n\r\nexport function isUtcOffset() {\r\n  return this.isValid() ? this._isUTC : false;\r\n}\r\n\r\nexport function isUtc() {\r\n  return this.isValid() ? this._isUTC && this._offset === 0 : false;\r\n}*/\r\n","import { addFormatToken } from '../format/format';\r\nimport { getMinutes } from '../utils/date-getters';\r\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { MINUTE } from './constants';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addUnitAlias } from './aliases';\r\nimport { DateFormatterOptions } from '../types';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('m', ['mm', 2, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return getMinutes(date, opts.isUTC).toString(10);\r\n  });\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('minute', 'm');\r\n\r\n// PRIORITY\r\n\r\naddUnitPriority('minute', 14);\r\n\r\n// PARSING\r\n\r\naddRegexToken('m', match1to2);\r\naddRegexToken('mm', match1to2, match2);\r\naddParseToken(['m', 'mm'], MINUTE);\r\n","import { addFormatToken } from '../format/format';\r\nimport { Locale } from '../locale/locale.class';\r\nimport { weekOfYear } from './week-calendar-utils';\r\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\r\nimport { addUnitAlias } from './aliases';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addWeekParseToken } from '../parse/token';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { DateFormatterOptions, WeekParsing } from '../types';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { getLocale } from '../locale/locales';\r\nimport { add } from '../moment/add-subtract';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('w', ['ww', 2, false], 'wo',\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return getWeek(date, opts.locale).toString(10);\r\n  });\r\n\r\naddFormatToken('W', ['WW', 2, false], 'Wo',\r\n  function (date: Date): string {\r\n    return getISOWeek(date).toString(10);\r\n  });\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('week', 'w');\r\naddUnitAlias('isoWeek', 'W');\r\n\r\n// PRIORITIES\r\n\r\naddUnitPriority('week', 5);\r\naddUnitPriority('isoWeek', 5);\r\n\r\n// PARSING\r\n\r\naddRegexToken('w', match1to2);\r\naddRegexToken('ww', match1to2, match2);\r\naddRegexToken('W', match1to2);\r\naddRegexToken('WW', match1to2, match2);\r\n\r\naddWeekParseToken(['w', 'ww', 'W', 'WW'],\r\n  function (input: string, week: WeekParsing, config: DateParsingConfig, token: string): DateParsingConfig {\r\n    week[token.substr(0, 1)] = toInt(input);\r\n\r\n    return config;\r\n  });\r\n\r\n// export function getSetWeek (input) {\r\n//   var week = this.localeData().week(this);\r\n//   return input == null ? week : this.add((input - week) * 7, 'd');\r\n// }\r\n\r\nexport function setWeek(date: Date, input: number, locale = getLocale()): Date {\r\n  const week = getWeek(date, locale);\r\n\r\n  return add(date, (input - week) * 7, 'day');\r\n}\r\n\r\nexport function getWeek(date: Date, locale = getLocale(), isUTC?: boolean): number {\r\n  return locale.week(date, isUTC);\r\n}\r\n\r\n// export function getSetISOWeek (input) {\r\n//   var week = weekOfYear(this, 1, 4).week;\r\n//   return input == null ? week : this.add((input - week) * 7, 'd');\r\n// }\r\n\r\nexport function setISOWeek(date: Date, input: number): Date {\r\n  const week = getISOWeek(date);\r\n\r\n  return add(date, (input - week) * 7, 'day');\r\n}\r\n\r\nexport function getISOWeek(date: Date, isUTC?: boolean): number {\r\n  return weekOfYear(date, 1, 4, isUTC).week;\r\n}\r\n\r\n","import { addFormatToken } from '../format/format';\r\nimport { addUnitAlias } from './aliases';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addRegexToken, match1to2, match1to4, match1to6, match2, match4, match6, matchSigned } from '../parse/regex';\r\nimport { addWeekParseToken } from '../parse/token';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { parseTwoDigitYear } from './year';\r\nimport { dayOfYearFromWeeks, weekOfYear, weeksInYear } from './week-calendar-utils';\r\nimport { createUTCDate } from '../create/date-from-array';\r\nimport { getISOWeek, getWeek } from './week';\r\nimport { getISODayOfWeek, getLocaleDayOfWeek } from './day-of-week';\r\nimport { getLocale } from '../locale/locales';\r\nimport { setDate, setFullYear, setMonth } from '../utils/date-setters';\r\nimport { getDate, getFullYear, getMonth } from '../utils/date-getters';\r\nimport { Locale } from '../locale/locale.class';\r\nimport { DateFormatterFn, DateFormatterOptions, WeekParsing } from '../types';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken(null, ['gg', 2, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    // return this.weekYear() % 100;\r\n    return (getWeekYear(date, opts.locale) % 100).toString();\r\n  });\r\n\r\naddFormatToken(null, ['GG', 2, false], null,\r\n  function (date: Date): string {\r\n    // return this.isoWeekYear() % 100;\r\n    return (getISOWeekYear(date) % 100).toString();\r\n  });\r\n\r\nfunction addWeekYearFormatToken(token: string, getter: DateFormatterFn): void {\r\n  addFormatToken(null, [token, token.length, false], null, getter);\r\n}\r\n\r\nfunction _getWeekYearFormatCb(date: Date, opts: DateFormatterOptions): string {\r\n  return getWeekYear(date, opts.locale).toString();\r\n}\r\n\r\nfunction _getISOWeekYearFormatCb(date: Date): string {\r\n  return getISOWeekYear(date).toString();\r\n}\r\n\r\naddWeekYearFormatToken('gggg', _getWeekYearFormatCb);\r\naddWeekYearFormatToken('ggggg', _getWeekYearFormatCb);\r\naddWeekYearFormatToken('GGGG', _getISOWeekYearFormatCb);\r\naddWeekYearFormatToken('GGGGG', _getISOWeekYearFormatCb);\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('weekYear', 'gg');\r\naddUnitAlias('isoWeekYear', 'GG');\r\n\r\n// PRIORITY\r\n\r\naddUnitPriority('weekYear', 1);\r\naddUnitPriority('isoWeekYear', 1);\r\n\r\n\r\n// PARSING\r\n\r\naddRegexToken('G', matchSigned);\r\naddRegexToken('g', matchSigned);\r\naddRegexToken('GG', match1to2, match2);\r\naddRegexToken('gg', match1to2, match2);\r\naddRegexToken('GGGG', match1to4, match4);\r\naddRegexToken('gggg', match1to4, match4);\r\naddRegexToken('GGGGG', match1to6, match6);\r\naddRegexToken('ggggg', match1to6, match6);\r\n\r\naddWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'],\r\n  function (input, week: WeekParsing, config, token) {\r\n    week[token.substr(0, 2)] = toInt(input);\r\n\r\n    return config;\r\n  });\r\n\r\naddWeekParseToken(['gg', 'GG'], function (input, week: WeekParsing, config, token) {\r\n  week[token] = parseTwoDigitYear(input);\r\n\r\n  return config;\r\n});\r\n\r\n// MOMENTS\r\n\r\nexport function getSetWeekYear(date: Date, input: number, locale = getLocale(), isUTC?: boolean): number | Date {\r\n  return getSetWeekYearHelper(date,\r\n    input,\r\n    // this.week(),\r\n    getWeek(date, locale, isUTC),\r\n    // this.weekday(),\r\n    getLocaleDayOfWeek(date, locale, isUTC),\r\n    locale.firstDayOfWeek(),\r\n    locale.firstDayOfYear(),\r\n    isUTC);\r\n}\r\n\r\nexport function getWeekYear(date: Date, locale = getLocale(), isUTC?: boolean): number {\r\n  return weekOfYear(date, locale.firstDayOfWeek(), locale.firstDayOfYear(), isUTC).year;\r\n}\r\n\r\nexport function getSetISOWeekYear(date: Date, input: number, isUTC?: boolean): number | Date {\r\n  return getSetWeekYearHelper(date, input, getISOWeek(date, isUTC), getISODayOfWeek(date, isUTC), 1, 4);\r\n}\r\n\r\nexport function getISOWeekYear(date: Date, isUTC?: boolean): number {\r\n  return weekOfYear(date, 1, 4, isUTC).year;\r\n}\r\n\r\nexport function getISOWeeksInYear(date: Date, isUTC?: boolean) {\r\n  return weeksInYear(getFullYear(date, isUTC), 1, 4);\r\n}\r\n\r\nexport function getWeeksInYear(date: Date, isUTC?: boolean, locale: Locale = getLocale()): number {\r\n  return weeksInYear(getFullYear(date, isUTC), locale.firstDayOfWeek(), locale.firstDayOfYear());\r\n}\r\n\r\nfunction getSetWeekYearHelper(date: Date, input: number, week: number,\r\n                              weekday: number, dow: number, doy: number, isUTC?: boolean): number | Date {\r\n  if (!input) {\r\n    return getWeekYear(date, void 0, isUTC);\r\n  }\r\n\r\n  const weeksTarget = weeksInYear(input, dow, doy);\r\n  const _week = week > weeksTarget ? weeksTarget : week;\r\n\r\n  return setWeekAll(date, input, _week, weekday, dow, doy);\r\n}\r\n\r\nfunction setWeekAll(date: Date, weekYear: number, week: number,\r\n                    weekday: number, dow: number, doy: number): Date {\r\n  const dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\r\n  const _date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\r\n  setFullYear(date, getFullYear(_date, true), true);\r\n  setMonth(date, getMonth(_date, true), true);\r\n  setDate(date, getDate(_date, true), true);\r\n\r\n  return date;\r\n}\r\n","// moment.js\r\n// version : 2.18.1\r\n// authors : Tim Wood, Iskren Chernev, Moment.js contributors\r\n// license : MIT\r\n// momentjs.com\r\n\r\nimport './units/index';\r\nimport { formatFunctions, makeFormatFunction } from './format/format';\r\nimport { Locale } from './locale/locale.class';\r\nimport { getLocale } from './locale/locales';\r\nimport { isDateValid } from './utils/type-checks';\r\n\r\nexport function formatDate(date: Date, format: string, locale?: string, isUTC?: boolean, offset = 0): string {\r\n  const _locale = getLocale(locale || 'en');\r\n  if (!_locale) {\r\n    throw new Error(\r\n      `Locale \"${locale}\" is not defined, please add it with \"defineLocale(...)\"`\r\n    );\r\n  }\r\n\r\n  const _format = format || (isUTC ?  'YYYY-MM-DDTHH:mm:ss[Z]' : 'YYYY-MM-DDTHH:mm:ssZ');\r\n\r\n  const output = formatMoment(date, _format, _locale, isUTC, offset);\r\n\r\n  if (!output) {\r\n    return output;\r\n  }\r\n\r\n  return _locale.postformat(output);\r\n}\r\n\r\n// format date using native date object\r\nexport function formatMoment(date: Date, _format: string, locale: Locale, isUTC?: boolean, offset = 0): string {\r\n  if (!isDateValid(date)) {\r\n    return locale.invalidDate;\r\n  }\r\n\r\n  const format = expandFormat(_format, locale);\r\n  formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\r\n\r\n  return formatFunctions[format](date, locale, isUTC, offset);\r\n}\r\n\r\nexport function expandFormat(_format: string, locale: Locale): string {\r\n  let format = _format;\r\n  let i = 5;\r\n  const localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\r\n\r\n  const replaceLongDateFormatTokens = (input: any) => {\r\n    return locale.formatLongDate(input) || input;\r\n  };\r\n\r\n  localFormattingTokens.lastIndex = 0;\r\n  while (i >= 0 && localFormattingTokens.test(format)) {\r\n    format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\r\n    localFormattingTokens.lastIndex = 0;\r\n    i -= 1;\r\n  }\r\n\r\n  return format;\r\n}\r\n","// Pick the first defined of two or three arguments.\r\nexport function defaults<T>(a?: T, b?: T, c?: T): T {\r\n  if (a != null) {\r\n    return a;\r\n  }\r\n  if (b != null) {\r\n    return b;\r\n  }\r\n\r\n  return c;\r\n}\r\n","import { DateParsingConfig } from './parsing.types';\r\nimport { DateArray } from '../types';\r\nimport { DATE, HOUR, MILLISECOND, MINUTE, MONTH, SECOND, YEAR } from '../units/constants';\r\nimport { daysInYear } from '../units/year';\r\nimport { getParsingFlags } from './parsing-flags';\r\nimport { createUTCDate } from './date-from-array';\r\nimport { createDate } from './date-from-array';\r\nimport { dayOfYearFromWeeks, weekOfYear, weeksInYear } from '../units/week-calendar-utils';\r\nimport { defaults } from '../utils/defaults';\r\n\r\nfunction currentDateArray(config: DateParsingConfig): DateArray {\r\n  const nowValue = new Date();\r\n\r\n  if (config._useUTC) {\r\n    return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\r\n  }\r\n\r\n  return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\r\n}\r\n\r\n// convert an array to a date.\r\n// the array should mirror the parameters below\r\n// note: all values past the year are optional and will default to the lowest possible value.\r\n// [year, month, day , hour, minute, second, millisecond]\r\nexport function configFromArray(config: DateParsingConfig): DateParsingConfig {\r\n  const input = [];\r\n  let i;\r\n  let date;\r\n  let currentDate;\r\n  let expectedWeekday;\r\n  let yearToUse;\r\n\r\n  if (config._d) {\r\n    return config;\r\n  }\r\n\r\n  currentDate = currentDateArray(config);\r\n\r\n  // compute day of the year from weeks and weekdays\r\n  if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\r\n    dayOfYearFromWeekInfo(config);\r\n  }\r\n\r\n  // if the day of the year is set, figure out what it is\r\n  if (config._dayOfYear != null) {\r\n    yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\r\n\r\n    if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\r\n      getParsingFlags(config)._overflowDayOfYear = true;\r\n    }\r\n\r\n    date = new Date(Date.UTC(yearToUse, 0, config._dayOfYear));\r\n    config._a[MONTH] = date.getUTCMonth();\r\n    config._a[DATE] = date.getUTCDate();\r\n  }\r\n\r\n  // Default to current date.\r\n  // * if no year, month, day of month are given, default to today\r\n  // * if day of month is given, default month and year\r\n  // * if month is given, default only year\r\n  // * if year is given, don't default anything\r\n  for (i = 0; i < 3 && config._a[i] == null; ++i) {\r\n    config._a[i] = input[i] = currentDate[i];\r\n  }\r\n\r\n  // Zero out whatever was not defaulted, including time\r\n  for (; i < 7; i++) {\r\n    config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\r\n  }\r\n\r\n  // Check for 24:00:00.000\r\n  if (config._a[HOUR] === 24 &&\r\n    config._a[MINUTE] === 0 &&\r\n    config._a[SECOND] === 0 &&\r\n    config._a[MILLISECOND] === 0) {\r\n    config._nextDay = true;\r\n    config._a[HOUR] = 0;\r\n  }\r\n\r\n  config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\r\n  expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\r\n\r\n  // Apply timezone offset from input. The actual utcOffset can be changed\r\n  // with parseZone.\r\n  if (config._tzm != null) {\r\n    config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\r\n  }\r\n\r\n  if (config._nextDay) {\r\n    config._a[HOUR] = 24;\r\n  }\r\n\r\n  // check for mismatching day of week\r\n  if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\r\n    getParsingFlags(config).weekdayMismatch = true;\r\n  }\r\n\r\n  return config;\r\n}\r\n\r\nfunction dayOfYearFromWeekInfo(config: DateParsingConfig): DateParsingConfig {\r\n  let w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\r\n\r\n  w = config._w;\r\n  if (w.GG != null || w.W != null || w.E != null) {\r\n    dow = 1;\r\n    doy = 4;\r\n\r\n    // TODO: We need to take the current isoWeekYear, but that depends on\r\n    // how we interpret now (local, utc, fixed offset). So create\r\n    // a now version of current config (take local/utc/offset flags, and\r\n    // create now).\r\n    weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(new Date(), 1, 4).year);\r\n    week = defaults(w.W, 1);\r\n    weekday = defaults(w.E, 1);\r\n    if (weekday < 1 || weekday > 7) {\r\n      weekdayOverflow = true;\r\n    }\r\n  } else {\r\n    dow = config._locale._week.dow;\r\n    doy = config._locale._week.doy;\r\n\r\n    const curWeek = weekOfYear(new Date(), dow, doy);\r\n\r\n    weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\r\n\r\n    // Default to current week.\r\n    week = defaults(w.w, curWeek.week);\r\n\r\n    if (w.d != null) {\r\n      // weekday -- low day numbers are considered next week\r\n      weekday = w.d;\r\n      if (weekday < 0 || weekday > 6) {\r\n        weekdayOverflow = true;\r\n      }\r\n    } else if (w.e != null) {\r\n      // local weekday -- counting starts from begining of week\r\n      weekday = w.e + dow;\r\n      if (w.e < 0 || w.e > 6) {\r\n        weekdayOverflow = true;\r\n      }\r\n    } else {\r\n      // default to begining of week\r\n      weekday = dow;\r\n    }\r\n  }\r\n  if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\r\n    getParsingFlags(config)._overflowWeeks = true;\r\n  } else if (weekdayOverflow != null) {\r\n    getParsingFlags(config)._overflowWeekday = true;\r\n  } else {\r\n    temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\r\n    config._a[YEAR] = temp.year;\r\n    config._dayOfYear = temp.dayOfYear;\r\n  }\r\n\r\n  return config;\r\n}\r\n","import { getParsingFlags } from './parsing-flags';\r\nimport { DATE, HOUR, MILLISECOND, MINUTE, MONTH, SECOND, WEEK, WEEKDAY, YEAR } from '../units/constants';\r\nimport { daysInMonth } from '../units/month';\r\nimport { DateParsingConfig } from './parsing.types';\r\n\r\nexport function checkOverflow(config: DateParsingConfig): DateParsingConfig {\r\n  let overflow;\r\n  const a = config._a;\r\n\r\n  if (a && getParsingFlags(config).overflow === -2) {\r\n    // todo: fix this sh*t\r\n    overflow =\r\n      a[MONTH] < 0 || a[MONTH] > 11 ? MONTH :\r\n        a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\r\n          a[HOUR] < 0 || a[HOUR] > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\r\n            a[MINUTE] < 0 || a[MINUTE] > 59 ? MINUTE :\r\n              a[SECOND] < 0 || a[SECOND] > 59 ? SECOND :\r\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\r\n                  -1;\r\n\r\n    if (getParsingFlags(config)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\r\n      overflow = DATE;\r\n    }\r\n    if (getParsingFlags(config)._overflowWeeks && overflow === -1) {\r\n      overflow = WEEK;\r\n    }\r\n    if (getParsingFlags(config)._overflowWeekday && overflow === -1) {\r\n      overflow = WEEKDAY;\r\n    }\r\n\r\n    getParsingFlags(config).overflow = overflow;\r\n  }\r\n\r\n  return config;\r\n}\r\n\r\n","import { addFormatToken } from '../format/format';\r\nimport { addRegexToken, match1 } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { MONTH } from './constants';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { getMonth } from '../utils/date-getters';\r\nimport { DateArray, DateFormatterOptions } from '../types';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addUnitAlias } from './aliases';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { setMonth } from '../utils/date-setters';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('Q', null, 'Qo',\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return getQuarter(date, opts.isUTC).toString(10);\r\n  });\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('quarter', 'Q');\r\n\r\n// PRIORITY\r\n\r\naddUnitPriority('quarter', 7);\r\n\r\n// PARSING\r\n\r\naddRegexToken('Q', match1);\r\naddParseToken('Q', function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  array[MONTH] = (toInt(input) - 1) * 3;\r\n\r\n  return config;\r\n});\r\n\r\n// MOMENTS\r\n\r\nexport function getQuarter(date: Date, isUTC = false): number {\r\n  return Math.ceil((getMonth(date, isUTC) + 1) / 3);\r\n}\r\n\r\nexport function setQuarter(date: Date, quarter: number, isUTC?: boolean): Date {\r\n  return setMonth(date, (quarter - 1) * 3 + getMonth(date, isUTC) % 3, isUTC);\r\n}\r\n\r\n// export function getSetQuarter(input) {\r\n//   return input == null\r\n//     ? Math.ceil((this.month() + 1) / 3)\r\n//     : this.month((input - 1) * 3 + this.month() % 3);\r\n// }\r\n","import { addFormatToken } from '../format/format';\r\nimport { getSeconds } from '../utils/date-getters';\r\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { SECOND } from './constants';\r\nimport { addUnitAlias } from './aliases';\r\nimport { addUnitPriority } from './priorities';\r\nimport { DateFormatterOptions } from '../types';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('s', ['ss', 2, false], null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return getSeconds(date, opts.isUTC).toString(10);\r\n  });\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('second', 's');\r\n\r\n// PRIORITY\r\n\r\naddUnitPriority('second', 15);\r\n\r\n// PARSING\r\n\r\naddRegexToken('s', match1to2);\r\naddRegexToken('ss', match1to2, match2);\r\naddParseToken(['s', 'ss'], SECOND);\r\n","import { addFormatToken } from '../format/format';\r\nimport { unix } from '../utils/date-getters';\r\nimport { addRegexToken, matchSigned, matchTimestamp } from '../parse/regex';\r\nimport { addParseToken} from '../parse/token';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { DateArray } from '../types';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('X', null, null, function (date: Date): string {\r\n  return unix(date).toString(10);\r\n});\r\naddFormatToken('x', null, null, function (date: Date): string {\r\n  return date.valueOf().toString(10);\r\n});\r\n\r\n// PARSING\r\n\r\naddRegexToken('x', matchSigned);\r\naddRegexToken('X', matchTimestamp);\r\n\r\naddParseToken('X', function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  config._d = new Date(parseFloat(input) * 1000);\r\n\r\n  return config;\r\n});\r\naddParseToken('x', function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n  config._d = new Date(toInt(input));\r\n\r\n  return config;\r\n});\r\n","import { DateParsingConfig } from './parsing.types';\r\nimport { configFromISO, configFromRFC2822 } from './from-string';\r\nimport { expandFormat } from '../format';\r\nimport { formattingTokens, formatTokenFunctions } from '../format/format';\r\nimport { isArray, isString } from '../utils/type-checks';\r\nimport { getParseRegexForToken } from '../parse/regex';\r\nimport { addTimeToArrayFromToken } from '../parse/token';\r\nimport { HOUR } from '../units/constants';\r\nimport { configFromArray } from './from-array';\r\nimport { getParsingFlags } from './parsing-flags';\r\nimport { checkOverflow } from './check-overflow';\r\nimport { Locale } from '../locale/locale.class';\r\n\r\n// constant that refers to the ISO standard\r\n// hooks.ISO_8601 = function () {};\r\nexport const ISO_8601 = 'ISO_8601';\r\n\r\n// constant that refers to the RFC 2822 form\r\n// hooks.RFC_2822 = function () {};\r\nexport const RFC_2822 = 'RFC_2822';\r\n\r\n// date from string and format string\r\nexport function configFromStringAndFormat(config: DateParsingConfig): DateParsingConfig {\r\n  // TODO: Move this to another part of the creation flow to prevent circular deps\r\n  if (config._f === ISO_8601) {\r\n    return configFromISO(config);\r\n  }\r\n  if (config._f === RFC_2822) {\r\n    return configFromRFC2822(config);\r\n  }\r\n  config._a = [];\r\n  getParsingFlags(config).empty = true;\r\n\r\n  if (isArray(config._f) || (!config._i && config._i !== 0)) {\r\n    return config;\r\n  }\r\n\r\n  // This array is used to make a Date, either with `new Date` or `Date.UTC`\r\n\r\n  let input = config._i.toString();\r\n  let totalParsedInputLength = 0;\r\n  const inputLength = input.length;\r\n  const tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\r\n\r\n  let i;\r\n  let token;\r\n  let parsedInput;\r\n  let skipped;\r\n  for (i = 0; i < tokens.length; i++) {\r\n    token = tokens[i];\r\n    parsedInput = (input.match(getParseRegexForToken(token, config._locale)) || [])[0];\r\n    if (parsedInput) {\r\n      skipped = input.substr(0, input.indexOf(parsedInput));\r\n      if (skipped.length > 0) {\r\n        getParsingFlags(config).unusedInput.push(skipped);\r\n      }\r\n      input = input.slice(input.indexOf(parsedInput) + parsedInput.length);\r\n      totalParsedInputLength += parsedInput.length;\r\n    }\r\n    // don't parse if it's not a known token\r\n    if (formatTokenFunctions[token]) {\r\n      if (parsedInput) {\r\n        getParsingFlags(config).empty = false;\r\n      } else {\r\n        getParsingFlags(config).unusedTokens.push(token);\r\n      }\r\n\r\n      addTimeToArrayFromToken(token, parsedInput, config);\r\n    } else if (config._strict && !parsedInput) {\r\n      getParsingFlags(config).unusedTokens.push(token);\r\n    }\r\n  }\r\n\r\n  // add remaining unparsed input length to the string\r\n  getParsingFlags(config).charsLeftOver = inputLength - totalParsedInputLength;\r\n  if (input.length > 0) {\r\n    getParsingFlags(config).unusedInput.push(input);\r\n  }\r\n\r\n  // clear _12h flag if hour is <= 12\r\n  if (config._a[HOUR] <= 12 &&\r\n    getParsingFlags(config).bigHour === true &&\r\n    config._a[HOUR] > 0) {\r\n    getParsingFlags(config).bigHour = void 0;\r\n  }\r\n\r\n  getParsingFlags(config).parsedDateParts = config._a.slice(0);\r\n  getParsingFlags(config).meridiem = config._meridiem;\r\n  // handle meridiem\r\n  config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\r\n\r\n  configFromArray(config);\r\n\r\n  return checkOverflow(config);\r\n}\r\n\r\n\r\nfunction meridiemFixWrap(locale: Locale, _hour: number, meridiem: string): number {\r\n  let hour = _hour;\r\n\r\n  if (meridiem == null) {\r\n    // nothing to do\r\n    return hour;\r\n  }\r\n\r\n  if (locale.meridiemHour != null) {\r\n    return locale.meridiemHour(hour, meridiem);\r\n  }\r\n\r\n  if (locale.isPM == null) {\r\n    // this is not supposed to happen\r\n    return hour;\r\n  }\r\n  // Fallback\r\n  const isPm = locale.isPM(meridiem);\r\n  if (isPm && hour < 12) {\r\n    hour += 12;\r\n  }\r\n\r\n  if (!isPm && hour === 12) {\r\n    hour = 0;\r\n  }\r\n\r\n  return hour;\r\n}\r\n","import { normalizeObjectUnits } from '../units/aliases';\r\nimport { configFromArray } from './from-array';\r\nimport { DateParsingConfig } from './parsing.types';\r\nimport { isObject, isString } from '../utils/type-checks';\r\n\r\nexport function configFromObject(config: DateParsingConfig): DateParsingConfig {\r\n  if (config._d) {\r\n    return config;\r\n  }\r\n\r\n  const input = config._i;\r\n  if (isObject(input)) {\r\n    const i = normalizeObjectUnits(input as any);\r\n    config._a = [i.year, i.month, i.day, i.hours, i.minutes, i.seconds, i.milliseconds]\r\n    // todo: obsolete -> remove it\r\n      .map(obj => isString(obj) ? parseInt(obj, 10) : obj);\r\n  }\r\n\r\n  return configFromArray(config);\r\n}\r\n","// tslint:disable:max-line-length\r\nimport { isArray, isDate, isNumber, isObject, isObjectEmpty, isString, isUndefined } from '../utils/type-checks';\r\nimport { DateParsingConfig } from './parsing.types';\r\nimport { getLocale } from '../locale/locales';\r\nimport { createInvalid, isValid } from './valid';\r\nimport { configFromStringAndArray } from './from-string-and-array';\r\nimport { configFromStringAndFormat } from './from-string-and-format';\r\nimport { cloneDate } from './clone';\r\nimport { configFromString } from './from-string';\r\nimport { configFromArray } from './from-array';\r\nimport { configFromObject } from './from-object';\r\nimport { checkOverflow } from './check-overflow';\r\nimport { DateInput } from '../test/chain';\r\n\r\nfunction createFromConfig(config: DateParsingConfig): DateParsingConfig {\r\n  const res = checkOverflow(prepareConfig(config));\r\n  // todo: remove, in moment.js it's never called cuz of moment constructor\r\n  res._d = new Date(res._d != null ? res._d.getTime() : NaN);\r\n  if (!isValid(Object.assign({}, res, {_isValid: null}))) {\r\n    res._d = new Date(NaN);\r\n  }\r\n  // todo: update offset\r\n  /*if (res._nextDay) {\r\n    // Adding is smart enough around DST\r\n    res._d = add(res._d, 1, 'day');\r\n    res._nextDay = undefined;\r\n  }*/\r\n\r\n  return res;\r\n}\r\n\r\nexport function prepareConfig(config: DateParsingConfig): DateParsingConfig {\r\n  let input = config._i;\r\n  const format = config._f;\r\n\r\n  config._locale = config._locale || getLocale(config._l);\r\n\r\n  if (input === null || (format === undefined && input === '')) {\r\n    return createInvalid(config, { nullInput: true });\r\n  }\r\n\r\n  if (isString(input)) {\r\n    config._i = input = config._locale.preparse(input);\r\n  }\r\n\r\n  if (isDate(input)) {\r\n    config._d = cloneDate(input);\r\n\r\n    return config;\r\n  }\r\n\r\n  // todo: add check for recursion\r\n\r\n  if (isArray(format)) {\r\n    configFromStringAndArray(config);\r\n  } else if (format) {\r\n    configFromStringAndFormat(config);\r\n  } else {\r\n    configFromInput(config);\r\n  }\r\n\r\n  if (!isValid(config)) {\r\n    config._d = null;\r\n  }\r\n\r\n  return config;\r\n}\r\n\r\nfunction configFromInput(config: DateParsingConfig): DateParsingConfig {\r\n  const input = config._i;\r\n  if (isUndefined(input)) {\r\n    config._d = new Date();\r\n  } else if (isDate(input)) {\r\n    config._d = cloneDate(input);\r\n  } else if (isString(input)) {\r\n    configFromString(config);\r\n  } else if (isArray<string | number>(input) && input.length) {\r\n    const _arr: (string | number)[] = input.slice(0);\r\n    config._a = _arr.map(obj => isString(obj) ? parseInt(obj, 10) : obj);\r\n    configFromArray(config);\r\n  } else if (isObject(input)) {\r\n    configFromObject(config);\r\n  } else if (isNumber(input)) {\r\n    // from milliseconds\r\n    config._d = new Date(input);\r\n  } else {\r\n    //   hooks.createFromInputFallback(config);\r\n    return createInvalid(config);\r\n  }\r\n\r\n  return config;\r\n}\r\n\r\nexport function createLocalOrUTC(input: DateInput, format?: string | string[], localeKey?: string, strict?: boolean, isUTC?: boolean): DateParsingConfig {\r\n  const config: DateParsingConfig = {};\r\n  let _input = input;\r\n\r\n  // params switch -> skip; test it well\r\n  // if (localeKey === true || localeKey === false) {\r\n  //     strict = localeKey;\r\n  //     localeKey = undefined;\r\n  // }\r\n\r\n  // todo: fail fast and return not valid date\r\n  if ((isObject(_input) && isObjectEmpty(_input)) || (isArray(_input) && _input.length === 0)) {\r\n    _input = undefined;\r\n  }\r\n  // object construction must be done this way.\r\n  // https://github.com/moment/moment/issues/1423\r\n  // config._isAMomentObject = true;\r\n  config._useUTC = config._isUTC = isUTC;\r\n  config._l = localeKey;\r\n  config._i = _input;\r\n  config._f = format;\r\n  config._strict = strict;\r\n\r\n  return createFromConfig(config);\r\n}\r\n","import { DateParsingConfig } from './parsing.types';\r\nimport { createInvalid, isValid } from './valid';\r\nimport { getParsingFlags } from './parsing-flags';\r\nimport { configFromStringAndFormat } from './from-string-and-format';\r\n\r\n// date from string and array of format strings\r\nexport function configFromStringAndArray(config: DateParsingConfig): DateParsingConfig {\r\n  let tempConfig;\r\n  let bestMoment;\r\n  let scoreToBeat;\r\n  let currentScore;\r\n\r\n  if (!config._f || config._f.length === 0) {\r\n    getParsingFlags(config).invalidFormat = true;\r\n\r\n    return createInvalid(config);\r\n  }\r\n\r\n  let i;\r\n  for (i = 0; i < config._f.length; i++) {\r\n    currentScore = 0;\r\n    tempConfig = Object.assign({}, config);\r\n    if (config._useUTC != null) {\r\n      tempConfig._useUTC = config._useUTC;\r\n    }\r\n    tempConfig._f = config._f[i];\r\n    configFromStringAndFormat(tempConfig);\r\n\r\n    if (!isValid(tempConfig)) {\r\n      continue;\r\n    }\r\n\r\n    // if there is any input that was not parsed add a penalty for that format\r\n    currentScore += getParsingFlags(tempConfig).charsLeftOver;\r\n\r\n    // or tokens\r\n    currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\r\n\r\n    getParsingFlags(tempConfig).score = currentScore;\r\n\r\n    if (scoreToBeat == null || currentScore < scoreToBeat) {\r\n      scoreToBeat = currentScore;\r\n      bestMoment = tempConfig;\r\n    }\r\n  }\r\n\r\n  return Object.assign(config, bestMoment || tempConfig);\r\n}\r\n","import { createLocalOrUTC } from './from-anything';\r\nimport { DateArray, DateObject } from '../types';\r\nimport { DateInput } from '../test/chain';\r\nimport { isDate } from '../utils/type-checks';\r\n\r\nexport function parseDate(input: DateInput, format?: string | string[],\r\n                          localeKey?: string, strict?: boolean, isUTC?: boolean): Date {\r\n  if (isDate(input)) {\r\n    return input;\r\n  }\r\n\r\n  const config = createLocalOrUTC(input, format, localeKey, strict, isUTC);\r\n\r\n  return config._d;\r\n}\r\n","export function absRound(num: number): number {\r\n  return num < 0 ? Math.round(num * -1) * -1 : Math.round(num);\r\n}\r\n","import { UnitOfTime } from '../types';\r\nimport { endOf, startOf } from './start-end-of';\r\n\r\nexport function isAfter(\r\n  date1: Date,\r\n  date2: Date,\r\n  units: UnitOfTime = 'milliseconds'\r\n): boolean {\r\n  if (!date1 || !date2) {\r\n    return false;\r\n  }\r\n\r\n  if (units === 'milliseconds') {\r\n    return date1.valueOf() > date2.valueOf();\r\n  }\r\n\r\n  return date2.valueOf() < startOf(date1, units).valueOf();\r\n}\r\n\r\nexport function isBefore(\r\n  date1: Date,\r\n  date2: Date,\r\n  units: UnitOfTime = 'milliseconds'\r\n): boolean {\r\n  if (!date1 || !date2) {\r\n    return false;\r\n  }\r\n\r\n  if (units === 'milliseconds') {\r\n    return date1.valueOf() < date2.valueOf();\r\n  }\r\n\r\n  return endOf(date1, units).valueOf() < date2.valueOf();\r\n}\r\n\r\nexport function isBetween(\r\n  date: Date,\r\n  from: Date,\r\n  to: Date,\r\n  units: UnitOfTime,\r\n  inclusivity = '()'\r\n): boolean {\r\n  const leftBound =\r\n    inclusivity[0] === '('\r\n      ? isAfter(date, from, units)\r\n      : !isBefore(date, from, units);\r\n  const rightBound =\r\n    inclusivity[1] === ')'\r\n      ? isBefore(date, to, units)\r\n      : !isAfter(date, to, units);\r\n\r\n  return leftBound && rightBound;\r\n}\r\n\r\nexport function isSame(\r\n  date1: Date,\r\n  date2: Date,\r\n  units: UnitOfTime = 'milliseconds'\r\n): boolean {\r\n  if (!date1 || !date2) {\r\n    return false;\r\n  }\r\n\r\n  if (units === 'milliseconds') {\r\n    return date1.valueOf() === date2.valueOf();\r\n  }\r\n\r\n  const inputMs = date2.valueOf();\r\n\r\n  return (\r\n    startOf(date1, units).valueOf() <= inputMs &&\r\n    inputMs <= endOf(date1, units).valueOf()\r\n  );\r\n}\r\n\r\nexport function isSameOrAfter(\r\n  date1: Date,\r\n  date2: Date,\r\n  units?: UnitOfTime\r\n): boolean {\r\n  return isSame(date1, date2, units) || isAfter(date1, date2, units);\r\n}\r\n\r\nexport function isSameOrBefore(\r\n  date1: Date,\r\n  date2: Date,\r\n  units?: UnitOfTime\r\n): boolean {\r\n  return isSame(date1, date2, units) || isBefore(date1, date2, units);\r\n}\r\n","// ASP.NET json date format regex\r\nimport { Duration, isDuration } from './constructor';\r\nimport { isDateValid, isNumber, isObject, isString, toInt } from '../utils/type-checks';\r\nimport { DATE, HOUR, MILLISECOND, MINUTE, SECOND } from '../units/constants';\r\nimport { parseDate } from '../create/local';\r\nimport { absRound } from '../utils/abs-round';\r\nimport { DateObject } from '../types';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { cloneWithOffset } from '../units/offset';\r\nimport { isAfter, isBefore } from '../utils/date-compare';\r\nimport { getFullYear, getMonth } from '../utils/date-getters';\r\nimport { add } from '../moment/add-subtract';\r\nimport { cloneDate } from '../create/clone';\r\n\r\nconst aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\r\n\r\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\r\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\r\n// and further modified to allow for strings containing both week and day\r\n// tslint:disable-next-line\r\nconst isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\r\n\r\nexport type DurationInput = string | number | Duration | Partial<DateObject> | { from: Date; to: Date };\r\n\r\nexport function createDuration(input?: DurationInput, key?: string, config: DateParsingConfig = {}) {\r\n  const duration = convertDuration(input, key);\r\n  // matching against regexp is expensive, do it on demand\r\n\r\n  return new Duration(duration, config);\r\n}\r\n\r\nfunction convertDuration(input: any, key: string): Partial<DateObject> {\r\n  // checks for null or undefined\r\n  if (input == null) {\r\n    return {};\r\n  }\r\n\r\n  if (isDuration(input)) {\r\n    return {\r\n      milliseconds: input._milliseconds,\r\n      day: input._days,\r\n      month: input._months\r\n    };\r\n  }\r\n  if (isNumber(input)) {\r\n    // duration = {};\r\n    return key ? { [key]: input } : { milliseconds: input };\r\n  }\r\n\r\n  if (isString(input)) {\r\n    let match = aspNetRegex.exec(input);\r\n\r\n    if (match) {\r\n      const sign = (match[1] === '-') ? -1 : 1;\r\n\r\n      return {\r\n        year: 0,\r\n        day: toInt(match[DATE]) * sign,\r\n        hours: toInt(match[HOUR]) * sign,\r\n        minutes: toInt(match[MINUTE]) * sign,\r\n        seconds: toInt(match[SECOND]) * sign,\r\n        // the millisecond decimal point is included in the match\r\n        milliseconds: toInt(absRound(toInt(match[MILLISECOND]) * 1000)) * sign\r\n      };\r\n    }\r\n\r\n    match = isoRegex.exec(input);\r\n    if (match) {\r\n      const sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;\r\n\r\n      return {\r\n        year: parseIso(match[2], sign),\r\n        month: parseIso(match[3], sign),\r\n        week: parseIso(match[4], sign),\r\n        day: parseIso(match[5], sign),\r\n        hours: parseIso(match[6], sign),\r\n        minutes: parseIso(match[7], sign),\r\n        seconds: parseIso(match[8], sign)\r\n      };\r\n    }\r\n\r\n  }\r\n\r\n  if (isObject<{from: any; to: any}>(input) && ('from' in input || 'to' in input)) {\r\n    const diffRes = momentsDifference(parseDate(input.from), parseDate(input.to));\r\n\r\n    return {\r\n      milliseconds: diffRes.milliseconds,\r\n      month: diffRes.months\r\n    };\r\n  }\r\n\r\n  return input;\r\n}\r\n\r\n// createDuration.fn = Duration.prototype;\r\n// createDuration.invalid = invalid;\r\n\r\nfunction parseIso(inp: string, sign: number): number {\r\n  // We'd normally use ~~inp for this, but unfortunately it also\r\n  // converts floats to ints.\r\n  // inp may be undefined, so careful calling replace on it.\r\n  const res = inp && parseFloat(inp.replace(',', '.'));\r\n  // apply sign while we're at it\r\n\r\n  return (isNaN(res) ? 0 : res) * sign;\r\n}\r\n\r\nfunction positiveMomentsDifference(base: Date, other: Date): { milliseconds: number; months: number } {\r\n  const res = { milliseconds: 0, months: 0 };\r\n\r\n  res.months = getMonth(other) - getMonth(base) +\r\n    (getFullYear(other) - getFullYear(base)) * 12;\r\n  const _basePlus = add(cloneDate(base), res.months, 'month');\r\n  if (isAfter(_basePlus, other)) {\r\n    --res.months;\r\n  }\r\n\r\n  res.milliseconds = +other - +(add(cloneDate(base), res.months, 'month'));\r\n\r\n  return res;\r\n}\r\n\r\nfunction momentsDifference(base: Date, other: Date): { milliseconds: number; months: number } {\r\n  if (!(isDateValid(base) && isDateValid(other))) {\r\n    return { milliseconds: 0, months: 0 };\r\n  }\r\n\r\n  let res;\r\n  const _other = cloneWithOffset(other, base, {_offset: base.getTimezoneOffset()});\r\n  if (isBefore(base, _other)) {\r\n    res = positiveMomentsDifference(base, _other);\r\n  } else {\r\n    res = positiveMomentsDifference(_other, base);\r\n    res.milliseconds = -res.milliseconds;\r\n    res.months = -res.months;\r\n  }\r\n\r\n  return res;\r\n}\r\n","import { createDuration } from '../duration/create';\r\nimport { absRound } from '../utils/abs-round';\r\nimport { Duration } from '../duration/constructor';\r\nimport { getDate, getMonth, getTime } from '../utils/date-getters';\r\nimport { setDate, setMonth, setTime } from '../utils/date-setters';\r\nimport { cloneDate } from '../create/clone';\r\nimport { UnitOfTime } from '../types';\r\n\r\nexport function add(date: Date, val: number, period: UnitOfTime, isUTC?: boolean): Date {\r\n  const dur = createDuration(val, period);\r\n\r\n  return addSubtract(date, dur, 1, isUTC);\r\n}\r\n\r\nexport function subtract(date: Date, val: number, period: UnitOfTime, isUTC?: boolean): Date {\r\n  const dur = createDuration(val, period);\r\n\r\n  return addSubtract(date, dur, -1, isUTC);\r\n}\r\n\r\nexport function addSubtract(date: Date, duration: Duration, isAdding: number, isUTC?: boolean): Date {\r\n  const milliseconds = duration._milliseconds;\r\n  const days = absRound(duration._days);\r\n  const months = absRound(duration._months);\r\n\r\n  // todo: add timezones support\r\n  // const _updateOffset = updateOffset == null ? true : updateOffset;\r\n\r\n  if (months) {\r\n    setMonth(date, getMonth(date, isUTC) + months * isAdding, isUTC);\r\n  }\r\n  if (days) {\r\n    setDate(date, getDate(date, isUTC) + days * isAdding, isUTC);\r\n  }\r\n  if (milliseconds) {\r\n    setTime(date, getTime(date) + milliseconds * isAdding);\r\n  }\r\n\r\n  return cloneDate(date);\r\n  // todo: add timezones support\r\n  // if (_updateOffset) {\r\n  //   hooks.updateOffset(date, days || months);\r\n  // }\r\n}\r\n","import { addFormatToken } from '../format/format';\r\nimport { Locale } from '../locale/locale.class';\r\nimport { getDay } from '../utils/date-getters';\r\nimport { addRegexToken, match1to2 } from '../parse/regex';\r\nimport { addUnitAlias } from './aliases';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addWeekParseToken } from '../parse/token';\r\nimport { getParsingFlags } from '../create/parsing-flags';\r\nimport { isNumber, isString, toInt } from '../utils/type-checks';\r\nimport { DateFormatterOptions, WeekParsing } from '../types';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { add } from '../moment/add-subtract';\r\nimport { getLocale } from '../locale/locales';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('d', null, 'do',\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return getDay(date, opts.isUTC).toString(10);\r\n  });\r\n\r\naddFormatToken('dd', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return opts.locale.weekdaysMin(date, opts.format, opts.isUTC);\r\n  });\r\n\r\naddFormatToken('ddd', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return opts.locale.weekdaysShort(date, opts.format, opts.isUTC);\r\n  });\r\n\r\naddFormatToken('dddd', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return opts.locale.weekdays(date, opts.format, opts.isUTC);\r\n  });\r\n\r\naddFormatToken('e', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return getLocaleDayOfWeek(date, opts.locale, opts.isUTC).toString(10);\r\n    // return getDay(date, opts.isUTC).toString(10);\r\n  });\r\naddFormatToken('E', null, null,\r\n  function (date: Date, opts: DateFormatterOptions): string {\r\n    return getISODayOfWeek(date, opts.isUTC).toString(10);\r\n  });\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('day', 'd');\r\naddUnitAlias('weekday', 'e');\r\naddUnitAlias('isoWeekday', 'E');\r\n\r\n// PRIORITY\r\naddUnitPriority('day', 11);\r\naddUnitPriority('weekday', 11);\r\naddUnitPriority('isoWeekday', 11);\r\n\r\n// PARSING\r\n\r\naddRegexToken('d', match1to2);\r\naddRegexToken('e', match1to2);\r\naddRegexToken('E', match1to2);\r\n\r\naddRegexToken('dd', function (isStrict: boolean, locale: Locale): RegExp {\r\n  return locale.weekdaysMinRegex(isStrict);\r\n});\r\n\r\naddRegexToken('ddd', function (isStrict: boolean, locale: Locale): RegExp {\r\n  return locale.weekdaysShortRegex(isStrict);\r\n});\r\naddRegexToken('dddd', function (isStrict: boolean, locale: Locale): RegExp {\r\n  return locale.weekdaysRegex(isStrict);\r\n});\r\n\r\naddWeekParseToken(['dd', 'ddd', 'dddd'],\r\n  function (input: string, week: WeekParsing, config: DateParsingConfig, token) {\r\n    const weekday = config._locale.weekdaysParse(input, token, config._strict);\r\n    // if we didn't get a weekday name, mark the date as invalid\r\n    if (weekday != null) {\r\n      week.d = weekday;\r\n    } else {\r\n      getParsingFlags(config).invalidWeekday = !!input;\r\n    }\r\n\r\n    return config;\r\n  });\r\n\r\naddWeekParseToken(['d', 'e', 'E'],\r\n  function (input: string, week: WeekParsing, config: DateParsingConfig, token: string): DateParsingConfig {\r\n    week[token] = toInt(input);\r\n\r\n    return config;\r\n  });\r\n\r\n// HELPERS\r\n\r\nexport function parseWeekday(input: string | number, locale: Locale): number {\r\n  if (!isString(input)) {\r\n    return input;\r\n  }\r\n\r\n  const _num = parseInt(input, 10);\r\n  if (!isNaN(_num)) {\r\n    return _num;\r\n  }\r\n\r\n  const _weekDay = locale.weekdaysParse(input);\r\n  if (isNumber(_weekDay)) {\r\n    return _weekDay;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport function parseIsoWeekday(input: string | number, locale: Locale = getLocale()): number {\r\n  if (isString(input)) {\r\n    return locale.weekdaysParse(input) % 7 || 7;\r\n  }\r\n\r\n  return isNumber(input) && isNaN(input) ? null : input;\r\n}\r\n\r\n// MOMENTS\r\n\r\nexport function getSetDayOfWeek(date: Date, input: number, opts: { isUTC?: boolean; locale: Locale }): Date | number {\r\n  if (!input) {\r\n    return getDayOfWeek(date, opts.isUTC);\r\n  }\r\n\r\n  return setDayOfWeek(date, input, opts.locale, opts.isUTC);\r\n}\r\n\r\nexport function setDayOfWeek(date: Date, input: number, locale = getLocale(), isUTC?: boolean): Date {\r\n  const day = getDay(date, isUTC);\r\n  const _input = parseWeekday(input, locale);\r\n\r\n  return add(date, _input - day, 'day');\r\n}\r\n\r\nexport function getDayOfWeek(date: Date, isUTC?: boolean): number {\r\n  return getDay(date, isUTC);\r\n}\r\n\r\n/********************************************/\r\n\r\n// todo: utc\r\n// getSetLocaleDayOfWeek\r\nexport function getLocaleDayOfWeek(date: Date, locale = getLocale(), isUTC?: boolean): number {\r\n  return (getDay(date, isUTC) + 7 - locale.firstDayOfWeek()) % 7;\r\n}\r\n\r\nexport function setLocaleDayOfWeek(date: Date, input: number, opts: { locale?: Locale; isUTC?: boolean } = {}): Date {\r\n  const weekday = getLocaleDayOfWeek(date, opts.locale, opts.isUTC);\r\n\r\n  return add(date, input - weekday, 'day');\r\n}\r\n\r\n\r\n// getSetISODayOfWeek\r\nexport function getISODayOfWeek(date: Date, isUTC?: boolean): number {\r\n  return getDay(date, isUTC) || 7;\r\n}\r\n\r\nexport function setISODayOfWeek(date: Date, input: number | string, opts: { locale?: Locale } = {}): Date {\r\n  // behaves the same as moment#day except\r\n  // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\r\n  // as a setter, sunday should belong to the previous week.\r\n\r\n  const weekday = parseIsoWeekday(input, opts.locale);\r\n\r\n  return setDayOfWeek(date, getDayOfWeek(date) % 7 ? weekday : weekday - 7);\r\n}\r\n","// tslint:disable: switch-default\r\nimport { TimeUnit, UnitOfTime } from '../types';\r\nimport {\r\n  setDate, setFullDate, setHours, setMilliseconds, setMinutes, setMonth, setSeconds,\r\n  shiftDate\r\n} from './date-setters';\r\nimport { cloneDate } from '../create/clone';\r\nimport { setISODayOfWeek, setLocaleDayOfWeek } from '../units/day-of-week';\r\nimport { getMonth } from './date-getters';\r\nimport { add, subtract } from '../moment/add-subtract';\r\n\r\nexport function startOf(date: Date, unit: UnitOfTime, isUTC?: boolean): Date {\r\n  const _date = cloneDate(date);\r\n  // the following switch intentionally omits break keywords\r\n  // to utilize falling through the cases.\r\n  switch (unit) {\r\n    case 'year':\r\n      setMonth(_date, 0, isUTC);\r\n    /* falls through */\r\n    case 'quarter':\r\n    case 'month':\r\n      setDate(_date, 1, isUTC);\r\n    /* falls through */\r\n    case 'week':\r\n    case 'isoWeek':\r\n    case 'day':\r\n    case 'date':\r\n      setHours(_date, 0, isUTC);\r\n    /* falls through */\r\n    case 'hours':\r\n      setMinutes(_date, 0, isUTC);\r\n    /* falls through */\r\n    case 'minutes':\r\n      setSeconds(_date, 0, isUTC);\r\n    /* falls through */\r\n    case 'seconds':\r\n      setMilliseconds(_date, 0, isUTC);\r\n  }\r\n\r\n  // weeks are a special case\r\n  if (unit === 'week') {\r\n    setLocaleDayOfWeek(_date, 0, {isUTC});\r\n  }\r\n  if (unit === 'isoWeek') {\r\n    setISODayOfWeek(_date, 1);\r\n  }\r\n\r\n  // quarters are also special\r\n  if (unit === 'quarter') {\r\n    setMonth(_date, Math.floor(getMonth(_date, isUTC) / 3) * 3, isUTC);\r\n  }\r\n\r\n  return _date;\r\n}\r\n\r\nexport function endOf(date: Date, unit: UnitOfTime, isUTC?: boolean): Date {\r\n  let _unit = unit;\r\n  // 'date' is an alias for 'day', so it should be considered as such.\r\n  if (_unit === 'date') {\r\n    _unit = 'day';\r\n  }\r\n\r\n  const start = startOf(date, _unit, isUTC);\r\n  const _step = add(start, 1, _unit === 'isoWeek' ? 'week' : _unit, isUTC);\r\n  const res = subtract(_step, 1, 'milliseconds', isUTC);\r\n\r\n  return res;\r\n}\r\n","import { addFormatToken } from '../format/format';\r\nimport { startOf } from '../utils/start-end-of';\r\nimport { addRegexToken, match1to3, match3 } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addUnitAlias } from './aliases';\r\nimport { DateArray, DateFormatterOptions } from '../types';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { add } from '../moment/add-subtract';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('DDD', ['DDDD', 3, false], 'DDDo',\r\n  function (date: Date): string {\r\n    return getDayOfYear(date).toString(10);\r\n  });\r\n\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('dayOfYear', 'DDD');\r\n\r\n// PRIORITY\r\n\r\naddUnitPriority('dayOfYear', 4);\r\n\r\naddRegexToken('DDD', match1to3);\r\naddRegexToken('DDDD', match3);\r\naddParseToken(['DDD', 'DDDD'],\r\n  function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    config._dayOfYear = toInt(input);\r\n\r\n    return config;\r\n  });\r\n\r\nexport function getDayOfYear(date: Date, isUTC?: boolean): number {\r\n  const date1 = +startOf(date, 'day', isUTC);\r\n  const date2 = +startOf(date, 'year', isUTC);\r\n  const someDate = date1 - date2;\r\n  const oneDay = 1000 * 60 * 60 * 24;\r\n\r\n  return Math.round(someDate / oneDay) + 1;\r\n}\r\n\r\nexport function setDayOfYear(date: Date, input: number): Date {\r\n  const dayOfYear = getDayOfYear(date);\r\n\r\n  return add(date, (input - dayOfYear), 'day');\r\n}\r\n","/**\r\n *\r\n * @param {number} year\r\n * @param {number} dow - start-of-first-week\r\n * @param {number} doy - start-of-year\r\n * @returns {number}\r\n */\r\nimport { createUTCDate } from '../create/date-from-array';\r\nimport { daysInYear } from './year';\r\nimport { getDayOfYear } from './day-of-year';\r\nimport { getFullYear } from '../utils/date-getters';\r\n\r\nfunction firstWeekOffset(year: number, dow: number, doy: number): number {\r\n  // first-week day -- which january is always in the first week (4 for iso, 1 for other)\r\n  const fwd = dow - doy + 7;\r\n  // first-week day local weekday -- which local weekday is fwd\r\n  const fwdlw = (createUTCDate(year, 0, fwd).getUTCDay() - dow + 7) % 7;\r\n\r\n  return -fwdlw + fwd - 1;\r\n}\r\n\r\n// https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\r\nexport function dayOfYearFromWeeks(\r\n  year: number,\r\n  week: number,\r\n  weekday: number,\r\n  dow: number,\r\n  doy: number\r\n): { year: number; dayOfYear: number } {\r\n  const localWeekday = (7 + weekday - dow) % 7;\r\n  const weekOffset = firstWeekOffset(year, dow, doy);\r\n  const dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset;\r\n  let resYear: number;\r\n  let resDayOfYear: number;\r\n\r\n  if (dayOfYear <= 0) {\r\n    resYear = year - 1;\r\n    resDayOfYear = daysInYear(resYear) + dayOfYear;\r\n  } else if (dayOfYear > daysInYear(year)) {\r\n    resYear = year + 1;\r\n    resDayOfYear = dayOfYear - daysInYear(year);\r\n  } else {\r\n    resYear = year;\r\n    resDayOfYear = dayOfYear;\r\n  }\r\n\r\n  return {\r\n    year: resYear,\r\n    dayOfYear: resDayOfYear\r\n  };\r\n}\r\n\r\nexport function weekOfYear(date: Date, dow: number, doy: number, isUTC?: boolean): { week: number; year: number } {\r\n  const weekOffset = firstWeekOffset(getFullYear(date, isUTC), dow, doy);\r\n  const week = Math.floor((getDayOfYear(date, isUTC) - weekOffset - 1) / 7) + 1;\r\n  let resWeek: number;\r\n  let resYear: number;\r\n\r\n  if (week < 1) {\r\n    resYear = getFullYear(date, isUTC) - 1;\r\n    resWeek = week + weeksInYear(resYear, dow, doy);\r\n  } else if (week > weeksInYear(getFullYear(date, isUTC), dow, doy)) {\r\n    resWeek = week - weeksInYear(getFullYear(date, isUTC), dow, doy);\r\n    resYear = getFullYear(date, isUTC) + 1;\r\n  } else {\r\n    resYear = getFullYear(date, isUTC);\r\n    resWeek = week;\r\n  }\r\n\r\n  return {\r\n    week: resWeek,\r\n    year: resYear\r\n  };\r\n}\r\n\r\nexport function weeksInYear(year: number, dow: number, doy: number): number {\r\n  const weekOffset = firstWeekOffset(year, dow, doy);\r\n  const weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\r\n\r\n  return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\r\n}\r\n","// tslint:disable:max-file-line-count max-line-length cyclomatic-complexity\r\n\r\nimport { weekOfYear } from '../units/week-calendar-utils';\r\nimport { hasOwnProp, isArray, isFunction } from '../utils/type-checks';\r\nimport { getDay, getMonth } from '../utils/date-getters';\r\nimport { matchWord, regexEscape } from '../parse/regex';\r\nimport { setDayOfWeek } from '../units/day-of-week';\r\n\r\nexport interface LocaleOptionsFormat {\r\n  format: string[];\r\n  standalone: string[];\r\n  isFormat?: RegExp;\r\n}\r\n\r\nexport type LocaleOptions = string[] | LocaleOptionsFormat;\r\n\r\nconst MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\r\nexport const defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split(\r\n  '_'\r\n);\r\nexport const defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split(\r\n  '_'\r\n);\r\nexport const defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split(\r\n  '_'\r\n);\r\nexport const defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split(\r\n  '_'\r\n);\r\nexport const defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\r\nexport const defaultLongDateFormat: { [index: string]: string } = {\r\n  LTS: 'h:mm:ss A',\r\n  LT: 'h:mm A',\r\n  L: 'MM/DD/YYYY',\r\n  LL: 'MMMM D, YYYY',\r\n  LLL: 'MMMM D, YYYY h:mm A',\r\n  LLLL: 'dddd, MMMM D, YYYY h:mm A'\r\n};\r\n\r\nexport const defaultOrdinal = '%d';\r\nexport const defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\r\n\r\nconst defaultMonthsShortRegex = matchWord;\r\nconst defaultMonthsRegex = matchWord;\r\n\r\nexport type OrdinalDateFn = (num: number, token?: string) => string;\r\nexport type PluralizeDateFn = (num: number, withoutSuffix: boolean,\r\n                               key?: string, isFuture?: boolean) => string;\r\n\r\nexport interface LocaleData {\r\n  abbr?: string;\r\n  parentLocale?: string;\r\n\r\n  months?: LocaleOptions | ((date: Date, format: string, isUTC?: boolean) => string | string[]);\r\n  monthsShort?: LocaleOptions | ((date: Date, format: string, isUTC?: boolean) => string | string[]);\r\n  monthsParseExact?: boolean;\r\n\r\n  weekdays?: LocaleOptions | ((date: Date, format: string, isUTC?: boolean) => string | string[]);\r\n  weekdaysShort?: string[] | ((date: Date, format: string, isUTC?: boolean) => string | string[]);\r\n  weekdaysMin?: string[] | ((date: Date, format: string, isUTC?: boolean) => string | string[]);\r\n  weekdaysParseExact?: boolean;\r\n\r\n  longDateFormat?: { [index: string]: string };\r\n  calendar?: {\r\n    [key: string]: (string\r\n      | ((date: Date, now?: Date) => string)\r\n      // tslint:disable-next-line\r\n      | ((dayOfWeek: number, isNextWeek: boolean) => string))\r\n  };\r\n  relativeTime?: { [key: string]: string | PluralizeDateFn };\r\n  dayOfMonthOrdinalParse?: RegExp;\r\n  ordinal?: string | OrdinalDateFn;\r\n\r\n  week?: { dow?: number; doy?: number };\r\n\r\n  invalidDate?: string;\r\n\r\n  monthsRegex?: RegExp;\r\n  monthsParse?: RegExp[];\r\n  monthsShortRegex?: RegExp;\r\n  monthsStrictRegex?: RegExp;\r\n  monthsShortStrictRegex?: RegExp;\r\n  longMonthsParse?: RegExp[];\r\n  shortMonthsParse?: RegExp[];\r\n\r\n  meridiemParse?: RegExp;\r\n\r\n  meridiemHour?(hour: number, meridiem: string): number;\r\n\r\n  preparse?(str: string): string;\r\n\r\n  postformat?(str: string | number): string;\r\n\r\n  meridiem?(hour: number, minute?: number, isLower?: boolean): string;\r\n\r\n  isPM?(input: string): boolean;\r\n}\r\n\r\nexport class Locale {\r\n  parentLocale?: Locale;\r\n  _abbr: string;\r\n  _config: LocaleData;\r\n  meridiemHour: (hour: number, meridiem: string) => number;\r\n\r\n  _invalidDate: string;\r\n  _week: { dow: number; doy: number };\r\n  _dayOfMonthOrdinalParse: RegExp;\r\n  _ordinalParse: RegExp;\r\n  _meridiemParse: RegExp;\r\n\r\n  private _calendar: { [key: string]: string };\r\n  private _relativeTime: { future: string; past: string };\r\n  private _months: LocaleOptions;\r\n  private _monthsShort: LocaleOptions;\r\n  private _monthsRegex: RegExp;\r\n  private _monthsShortRegex: RegExp;\r\n  private _monthsStrictRegex: RegExp;\r\n  private _monthsShortStrictRegex: RegExp;\r\n  private _monthsParse: RegExp[];\r\n  private _longMonthsParse: string[] | RegExp[];\r\n  private _shortMonthsParse: string[] | RegExp[];\r\n  private _monthsParseExact: RegExp;\r\n  private _weekdaysParseExact: boolean;\r\n  private _weekdaysRegex: RegExp;\r\n  private _weekdaysShortRegex: RegExp;\r\n  private _weekdaysMinRegex: RegExp;\r\n\r\n  private _weekdaysStrictRegex: RegExp;\r\n  private _weekdaysShortStrictRegex: RegExp;\r\n  private _weekdaysMinStrictRegex: RegExp;\r\n\r\n  private _weekdays: LocaleOptions;\r\n  private _weekdaysShort: string[];\r\n  private _weekdaysMin: string[];\r\n  private _weekdaysParse: string[] | RegExp[];\r\n  private _minWeekdaysParse: string[] | RegExp[];\r\n  private _shortWeekdaysParse: string[] | RegExp[];\r\n  private _fullWeekdaysParse: RegExp[];\r\n  private _longDateFormat: { [key: string]: string };\r\n\r\n  private _ordinal: string;\r\n\r\n  constructor(config: LocaleData) {\r\n    if (!!config) {\r\n      this.set(config);\r\n    }\r\n  }\r\n\r\n  set(config: LocaleData): void {\r\n    let confKey;\r\n    for (confKey in config) {\r\n      if (!config.hasOwnProperty(confKey)) {\r\n        continue;\r\n      }\r\n      const prop = config[confKey as keyof LocaleData];\r\n      const key = (isFunction(prop) ? confKey : `_${confKey}`) as keyof Locale;\r\n\r\n      this[key] = prop as any;\r\n    }\r\n\r\n    this._config = config;\r\n  }\r\n\r\n  calendar(key: string, date: Date, now: Date): string {\r\n    const output = this._calendar[key] || this._calendar.sameElse;\r\n\r\n    return isFunction(output) ? output.call(null, date, now) : output;\r\n  }\r\n\r\n  longDateFormat(key: string) {\r\n    const format = this._longDateFormat[key];\r\n    const formatUpper = this._longDateFormat[key.toUpperCase()];\r\n\r\n    if (format || !formatUpper) {\r\n      return format;\r\n    }\r\n\r\n    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val: string) {\r\n      return val.slice(1);\r\n    });\r\n\r\n    return this._longDateFormat[key];\r\n  }\r\n\r\n  get invalidDate(): string {\r\n    return this._invalidDate;\r\n  }\r\n\r\n  set invalidDate(val: string) {\r\n    this._invalidDate = val;\r\n  }\r\n\r\n  ordinal(num: number, token?: string): string {\r\n    return this._ordinal.replace('%d', num.toString(10));\r\n  }\r\n\r\n  preparse(str: string) {\r\n    return str;\r\n  }\r\n\r\n  postformat(str: string) {\r\n    return str;\r\n  }\r\n\r\n  relativeTime(num: number, withoutSuffix: boolean, str: 'future' | 'past', isFuture: boolean): string {\r\n    const output = this._relativeTime[str];\r\n\r\n    return (isFunction(output)) ?\r\n      output(num, withoutSuffix, str, isFuture) :\r\n      output.replace(/%d/i, num.toString(10));\r\n  }\r\n\r\n  pastFuture(diff: number, output: string): string {\r\n    const format = this._relativeTime[diff > 0 ? 'future' : 'past'];\r\n\r\n    return isFunction(format) ? format(output) : format.replace(/%s/i, output);\r\n  }\r\n\r\n  /** Months */\r\n  months(): string[];\r\n  months(date: Date, format?: string, isUTC?: boolean): string;\r\n  months(date?: Date, format?: string, isUTC = false): string | string[] {\r\n    if (!date) {\r\n      return isArray<string>(this._months)\r\n        ? this._months\r\n        : this._months.standalone;\r\n    }\r\n\r\n    if (isArray<string>(this._months)) {\r\n      return this._months[getMonth(date, isUTC)];\r\n    }\r\n\r\n    const key = (this._months.isFormat || MONTHS_IN_FORMAT).test(format)\r\n      ? 'format'\r\n      : 'standalone';\r\n\r\n    return this._months[key][getMonth(date, isUTC)];\r\n  }\r\n\r\n  monthsShort(): string[];\r\n  monthsShort(date?: Date, format?: string, isUTC?: boolean): string;\r\n  monthsShort(date?: Date, format?: string, isUTC = false): string | string[] {\r\n    if (!date) {\r\n      return isArray<string>(this._monthsShort)\r\n        ? this._monthsShort\r\n        : this._monthsShort.standalone;\r\n    }\r\n\r\n    if (isArray<string>(this._monthsShort)) {\r\n      return this._monthsShort[getMonth(date, isUTC)];\r\n    }\r\n    const key = MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone';\r\n\r\n    return this._monthsShort[key][getMonth(date, isUTC)];\r\n  }\r\n\r\n  monthsParse(monthName: string, format?: string, strict?: boolean): number {\r\n    let date;\r\n    let regex;\r\n\r\n    if (this._monthsParseExact) {\r\n      return this.handleMonthStrictParse(monthName, format, strict);\r\n    }\r\n\r\n    if (!this._monthsParse) {\r\n      this._monthsParse = [];\r\n      this._longMonthsParse = [];\r\n      this._shortMonthsParse = [];\r\n    }\r\n\r\n    // TODO: add sorting\r\n    // Sorting makes sure if one month (or abbr) is a prefix of another\r\n    // see sorting in computeMonthsParse\r\n    let i;\r\n    for (i = 0; i < 12; i++) {\r\n      // make the regex if we don't have it already\r\n      date = new Date(Date.UTC(2000, i));\r\n      if (strict && !this._longMonthsParse[i]) {\r\n        const _months = this.months(date, '', true).replace('.', '');\r\n        const _shortMonths = this.monthsShort(date, '', true).replace('.', '');\r\n        this._longMonthsParse[i] = new RegExp(`^${_months}$`, 'i');\r\n        this._shortMonthsParse[i] = new RegExp(`^${_shortMonths}$`, 'i');\r\n      }\r\n      if (!strict && !this._monthsParse[i]) {\r\n        regex = `^${this.months(date, '', true)}|^${this.monthsShort(date, '', true)}`;\r\n        this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\r\n      }\r\n      // test the regex\r\n      if (strict && format === 'MMMM' && (this._longMonthsParse[i] as RegExp).test(monthName)) {\r\n        return i;\r\n      }\r\n\r\n      if (strict && format === 'MMM' && (this._shortMonthsParse[i] as RegExp).test(monthName)) {\r\n        return i;\r\n      }\r\n\r\n      if (!strict && this._monthsParse[i].test(monthName)) {\r\n        return i;\r\n      }\r\n    }\r\n  }\r\n\r\n  monthsRegex(isStrict: boolean): RegExp {\r\n    if (this._monthsParseExact) {\r\n      if (!hasOwnProp(this, '_monthsRegex')) {\r\n        this.computeMonthsParse();\r\n      }\r\n      if (isStrict) {\r\n        return this._monthsStrictRegex;\r\n      }\r\n\r\n      return this._monthsRegex;\r\n    }\r\n\r\n    if (!hasOwnProp(this, '_monthsRegex')) {\r\n      this._monthsRegex = defaultMonthsRegex;\r\n    }\r\n\r\n    return this._monthsStrictRegex && isStrict ?\r\n      this._monthsStrictRegex : this._monthsRegex;\r\n  }\r\n\r\n  monthsShortRegex(isStrict: boolean): RegExp {\r\n    if (this._monthsParseExact) {\r\n      if (!hasOwnProp(this, '_monthsRegex')) {\r\n        this.computeMonthsParse();\r\n      }\r\n      if (isStrict) {\r\n        return this._monthsShortStrictRegex;\r\n      }\r\n\r\n      return this._monthsShortRegex;\r\n    }\r\n    if (!hasOwnProp(this, '_monthsShortRegex')) {\r\n      this._monthsShortRegex = defaultMonthsShortRegex;\r\n    }\r\n\r\n    return this._monthsShortStrictRegex && isStrict ?\r\n      this._monthsShortStrictRegex : this._monthsShortRegex;\r\n  }\r\n\r\n  /** Week */\r\n  week(date: Date, isUTC?: boolean): number {\r\n    return weekOfYear(date, this._week.dow, this._week.doy, isUTC).week;\r\n  }\r\n\r\n  firstDayOfWeek(): number {\r\n    return this._week.dow;\r\n  }\r\n\r\n  firstDayOfYear(): number {\r\n    return this._week.doy;\r\n  }\r\n\r\n  /** Day of Week */\r\n  weekdays(): string[];\r\n  weekdays(date: Date, format?: string, isUTC?: boolean): string;\r\n  weekdays(date?: Date, format?: string, isUTC?: boolean): string | string[] {\r\n    if (!date) {\r\n      return isArray<string>(this._weekdays)\r\n        ? this._weekdays\r\n        : this._weekdays.standalone;\r\n    }\r\n\r\n    if (isArray<string>(this._weekdays)) {\r\n      return this._weekdays[getDay(date, isUTC)];\r\n    }\r\n\r\n    const _key = this._weekdays.isFormat.test(format)\r\n      ? 'format'\r\n      : 'standalone';\r\n\r\n    return this._weekdays[_key][getDay(date, isUTC)];\r\n  }\r\n\r\n  weekdaysMin(): string[];\r\n  weekdaysMin(date: Date, format?: string, isUTC?: boolean): string;\r\n  weekdaysMin(date?: Date, format?: string, isUTC?: boolean): string | string[] {\r\n    return date ? this._weekdaysMin[getDay(date, isUTC)] : this._weekdaysMin;\r\n  }\r\n\r\n  weekdaysShort(): string[];\r\n  weekdaysShort(date: Date, format?: string, isUTC?: boolean): string;\r\n  weekdaysShort(date?: Date, format?: string, isUTC?: boolean): string | string[] {\r\n    return date ? this._weekdaysShort[getDay(date, isUTC)] : this._weekdaysShort;\r\n  }\r\n\r\n\r\n  // proto.weekdaysParse  =        localeWeekdaysParse;\r\n  weekdaysParse(weekdayName?: string, format?: string, strict?: boolean): number {\r\n    let i;\r\n    let regex;\r\n\r\n    if (this._weekdaysParseExact) {\r\n      return this.handleWeekStrictParse(weekdayName, format, strict);\r\n    }\r\n\r\n    if (!this._weekdaysParse) {\r\n      this._weekdaysParse = [];\r\n      this._minWeekdaysParse = [];\r\n      this._shortWeekdaysParse = [];\r\n      this._fullWeekdaysParse = [];\r\n    }\r\n\r\n    for (i = 0; i < 7; i++) {\r\n      // make the regex if we don't have it already\r\n      // fix: here is the issue\r\n      const date = setDayOfWeek(new Date(Date.UTC(2000, 1)), i, null, true);\r\n      if (strict && !this._fullWeekdaysParse[i]) {\r\n        this._fullWeekdaysParse[i] = new RegExp(`^${this.weekdays(date, '', true).replace('.', '\\.?')}$`, 'i');\r\n        this._shortWeekdaysParse[i] = new RegExp(`^${this.weekdaysShort(date, '', true).replace('.', '\\.?')}$`, 'i');\r\n        this._minWeekdaysParse[i] = new RegExp(`^${this.weekdaysMin(date, '', true).replace('.', '\\.?')}$`, 'i');\r\n      }\r\n      if (!this._weekdaysParse[i]) {\r\n        regex = `^${this.weekdays(date, '', true)}|^${this.weekdaysShort(date, '', true)}|^${this.weekdaysMin(date, '', true)}`;\r\n        this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\r\n      }\r\n\r\n      if (!isArray<RegExp>(this._fullWeekdaysParse)\r\n        || !isArray<RegExp>(this._shortWeekdaysParse)\r\n        || !isArray<RegExp>(this._minWeekdaysParse)\r\n        || !isArray<RegExp>(this._weekdaysParse)) {\r\n        return;\r\n      }\r\n\r\n      // test the regex\r\n      if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\r\n        return i;\r\n      } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\r\n        return i;\r\n      } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\r\n        return i;\r\n      } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\r\n        return i;\r\n      }\r\n    }\r\n  }\r\n\r\n  // proto.weekdaysRegex       =        weekdaysRegex;\r\n  weekdaysRegex(isStrict: boolean) {\r\n    if (this._weekdaysParseExact) {\r\n      if (!hasOwnProp(this, '_weekdaysRegex')) {\r\n        this.computeWeekdaysParse();\r\n      }\r\n\r\n      if (isStrict) {\r\n        return this._weekdaysStrictRegex;\r\n      } else {\r\n        return this._weekdaysRegex;\r\n      }\r\n    } else {\r\n      if (!hasOwnProp(this, '_weekdaysRegex')) {\r\n        this._weekdaysRegex = matchWord;\r\n      }\r\n\r\n      return this._weekdaysStrictRegex && isStrict ?\r\n        this._weekdaysStrictRegex : this._weekdaysRegex;\r\n    }\r\n  }\r\n\r\n  // proto.weekdaysShortRegex  =        weekdaysShortRegex;\r\n  // proto.weekdaysMinRegex    =        weekdaysMinRegex;\r\n\r\n\r\n  weekdaysShortRegex(isStrict?: boolean): RegExp {\r\n    if (this._weekdaysParseExact) {\r\n      if (!hasOwnProp(this, '_weekdaysRegex')) {\r\n        this.computeWeekdaysParse();\r\n      }\r\n      if (isStrict) {\r\n        return this._weekdaysShortStrictRegex;\r\n      } else {\r\n        return this._weekdaysShortRegex;\r\n      }\r\n    } else {\r\n      if (!hasOwnProp(this, '_weekdaysShortRegex')) {\r\n        this._weekdaysShortRegex = matchWord;\r\n      }\r\n\r\n      return this._weekdaysShortStrictRegex && isStrict ?\r\n        this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\r\n    }\r\n  }\r\n\r\n  weekdaysMinRegex(isStrict?: boolean): RegExp {\r\n    if (this._weekdaysParseExact) {\r\n      if (!hasOwnProp(this, '_weekdaysRegex')) {\r\n        this.computeWeekdaysParse();\r\n      }\r\n      if (isStrict) {\r\n        return this._weekdaysMinStrictRegex;\r\n      } else {\r\n        return this._weekdaysMinRegex;\r\n      }\r\n    } else {\r\n      if (!hasOwnProp(this, '_weekdaysMinRegex')) {\r\n        this._weekdaysMinRegex = matchWord;\r\n      }\r\n\r\n      return this._weekdaysMinStrictRegex && isStrict ?\r\n        this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\r\n    }\r\n  }\r\n\r\n  isPM(input: string): boolean {\r\n    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\r\n    // Using charAt should be more compatible.\r\n    return input.toLowerCase().charAt(0) === 'p';\r\n  }\r\n\r\n  meridiem(hours: number, minutes: number, isLower: boolean): string {\r\n    if (hours > 11) {\r\n      return isLower ? 'pm' : 'PM';\r\n    }\r\n\r\n    return isLower ? 'am' : 'AM';\r\n  }\r\n\r\n  formatLongDate(key: string) {\r\n    this._longDateFormat = this._longDateFormat ? this._longDateFormat : defaultLongDateFormat;\r\n    const format = this._longDateFormat[key];\r\n    const formatUpper = this._longDateFormat[key.toUpperCase()];\r\n\r\n    if (format || !formatUpper) {\r\n      return format;\r\n    }\r\n\r\n    this._longDateFormat[\r\n      key\r\n      ] = formatUpper.replace(/MMMM|MM|DD|dddd/g, (val: string) => {\r\n      return val.slice(1);\r\n    });\r\n\r\n    return this._longDateFormat[key];\r\n  }\r\n\r\n  private handleMonthStrictParse(monthName: string, format: string, strict?: boolean) {\r\n    const llc = monthName.toLocaleLowerCase();\r\n    let i;\r\n    let ii;\r\n    let mom;\r\n    if (!this._monthsParse) {\r\n      // this is not used\r\n      this._monthsParse = [];\r\n      this._longMonthsParse = [];\r\n      this._shortMonthsParse = [];\r\n      for (i = 0; i < 12; ++i) {\r\n        mom = new Date(2000, i);\r\n        this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\r\n        this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\r\n      }\r\n    }\r\n\r\n    if (strict) {\r\n      if (format === 'MMM') {\r\n        ii = (this._shortMonthsParse as string[]).indexOf(llc);\r\n\r\n        return ii !== -1 ? ii : null;\r\n      }\r\n      ii = (this._longMonthsParse as string[]).indexOf(llc);\r\n\r\n      return ii !== -1 ? ii : null;\r\n    }\r\n\r\n    if (format === 'MMM') {\r\n      ii = (this._shortMonthsParse as string[]).indexOf(llc);\r\n      if (ii !== -1) {\r\n        return ii;\r\n      }\r\n\r\n      ii = (this._longMonthsParse as string[]).indexOf(llc);\r\n\r\n      return ii !== -1 ? ii : null;\r\n    }\r\n\r\n    ii = (this._longMonthsParse as string[]).indexOf(llc);\r\n    if (ii !== -1) {\r\n      return ii;\r\n    }\r\n    ii = (this._shortMonthsParse as string[]).indexOf(llc);\r\n\r\n    return ii !== -1 ? ii : null;\r\n  }\r\n\r\n  private handleWeekStrictParse(weekdayName: string, format: string, strict: boolean): number {\r\n    let ii;\r\n    const llc = weekdayName.toLocaleLowerCase();\r\n    if (!this._weekdaysParse) {\r\n      this._weekdaysParse = [];\r\n      this._shortWeekdaysParse = [];\r\n      this._minWeekdaysParse = [];\r\n\r\n      let i;\r\n      for (i = 0; i < 7; ++i) {\r\n        const date = setDayOfWeek(new Date(Date.UTC(2000, 1)), i, null, true);\r\n        this._minWeekdaysParse[i] = this.weekdaysMin(date).toLocaleLowerCase();\r\n        this._shortWeekdaysParse[i] = this.weekdaysShort(date).toLocaleLowerCase();\r\n        this._weekdaysParse[i] = this.weekdays(date, '').toLocaleLowerCase();\r\n      }\r\n    }\r\n\r\n    if (!isArray<string>(this._weekdaysParse)\r\n      || !isArray<string>(this._shortWeekdaysParse)\r\n      || !isArray<string>(this._minWeekdaysParse)) {\r\n      return;\r\n    }\r\n\r\n    if (strict) {\r\n      if (format === 'dddd') {\r\n        ii = this._weekdaysParse.indexOf(llc);\r\n\r\n        return ii !== -1 ? ii : null;\r\n      } else if (format === 'ddd') {\r\n        ii = this._shortWeekdaysParse.indexOf(llc);\r\n\r\n        return ii !== -1 ? ii : null;\r\n      } else {\r\n        ii = this._minWeekdaysParse.indexOf(llc);\r\n\r\n        return ii !== -1 ? ii : null;\r\n      }\r\n    } else {\r\n      if (format === 'dddd') {\r\n        ii = this._weekdaysParse.indexOf(llc);\r\n        if (ii !== -1) {\r\n          return ii;\r\n        }\r\n        ii = this._shortWeekdaysParse.indexOf(llc);\r\n        if (ii !== -1) {\r\n          return ii;\r\n        }\r\n        ii = this._minWeekdaysParse.indexOf(llc);\r\n\r\n        return ii !== -1 ? ii : null;\r\n      } else if (format === 'ddd') {\r\n        ii = this._shortWeekdaysParse.indexOf(llc);\r\n        if (ii !== -1) {\r\n          return ii;\r\n        }\r\n        ii = this._weekdaysParse.indexOf(llc);\r\n        if (ii !== -1) {\r\n          return ii;\r\n        }\r\n        ii = this._minWeekdaysParse.indexOf(llc);\r\n\r\n        return ii !== -1 ? ii : null;\r\n      } else {\r\n        ii = this._minWeekdaysParse.indexOf(llc);\r\n        if (ii !== -1) {\r\n          return ii;\r\n        }\r\n        ii = this._weekdaysParse.indexOf(llc);\r\n        if (ii !== -1) {\r\n          return ii;\r\n        }\r\n        ii = this._shortWeekdaysParse.indexOf(llc);\r\n\r\n        return ii !== -1 ? ii : null;\r\n      }\r\n    }\r\n  }\r\n\r\n  private computeMonthsParse() {\r\n    const shortPieces: string[] = [];\r\n    const longPieces: string[] = [];\r\n    const mixedPieces: string[] = [];\r\n    let date;\r\n\r\n    let i;\r\n    for (i = 0; i < 12; i++) {\r\n      // make the regex if we don't have it already\r\n      date = new Date(2000, i);\r\n      shortPieces.push(this.monthsShort(date, ''));\r\n      longPieces.push(this.months(date, ''));\r\n      mixedPieces.push(this.months(date, ''));\r\n      mixedPieces.push(this.monthsShort(date, ''));\r\n    }\r\n    // Sorting makes sure if one month (or abbr) is a prefix of another it\r\n    // will match the longer piece.\r\n    shortPieces.sort(cmpLenRev);\r\n    longPieces.sort(cmpLenRev);\r\n    mixedPieces.sort(cmpLenRev);\r\n    for (i = 0; i < 12; i++) {\r\n      shortPieces[i] = regexEscape(shortPieces[i]);\r\n      longPieces[i] = regexEscape(longPieces[i]);\r\n    }\r\n    for (i = 0; i < 24; i++) {\r\n      mixedPieces[i] = regexEscape(mixedPieces[i]);\r\n    }\r\n\r\n    this._monthsRegex = new RegExp(`^(${mixedPieces.join('|')})`, 'i');\r\n    this._monthsShortRegex = this._monthsRegex;\r\n    this._monthsStrictRegex = new RegExp(`^(${longPieces.join('|')})`, 'i');\r\n    this._monthsShortStrictRegex = new RegExp(`^(${shortPieces.join('|')})`, 'i');\r\n  }\r\n\r\n  private computeWeekdaysParse() {\r\n    const minPieces = [];\r\n    const shortPieces = [];\r\n    const longPieces = [];\r\n    const mixedPieces = [];\r\n\r\n    let i;\r\n    for (i = 0; i < 7; i++) {\r\n      // make the regex if we don't have it already\r\n      // let mom = createUTC([2000, 1]).day(i);\r\n      const date = setDayOfWeek(new Date(Date.UTC(2000, 1)), i, null, true);\r\n      const minp = this.weekdaysMin(date);\r\n      const shortp = this.weekdaysShort(date);\r\n      const longp = this.weekdays(date);\r\n      minPieces.push(minp);\r\n      shortPieces.push(shortp);\r\n      longPieces.push(longp);\r\n      mixedPieces.push(minp);\r\n      mixedPieces.push(shortp);\r\n      mixedPieces.push(longp);\r\n    }\r\n    // Sorting makes sure if one weekday (or abbr) is a prefix of another it\r\n    // will match the longer piece.\r\n    minPieces.sort(cmpLenRev);\r\n    shortPieces.sort(cmpLenRev);\r\n    longPieces.sort(cmpLenRev);\r\n    mixedPieces.sort(cmpLenRev);\r\n    for (i = 0; i < 7; i++) {\r\n      shortPieces[i] = regexEscape(shortPieces[i]);\r\n      longPieces[i] = regexEscape(longPieces[i]);\r\n      mixedPieces[i] = regexEscape(mixedPieces[i]);\r\n    }\r\n\r\n    this._weekdaysRegex = new RegExp(`^(${mixedPieces.join('|')})`, 'i');\r\n    this._weekdaysShortRegex = this._weekdaysRegex;\r\n    this._weekdaysMinRegex = this._weekdaysRegex;\r\n\r\n    this._weekdaysStrictRegex = new RegExp(`^(${longPieces.join('|')})`, 'i');\r\n    this._weekdaysShortStrictRegex = new RegExp(`^(${shortPieces.join('|')})`, 'i');\r\n    this._weekdaysMinStrictRegex = new RegExp(`^(${minPieces.join('|')})`, 'i');\r\n  }\r\n}\r\n\r\nfunction cmpLenRev(a: string, b: string): number {\r\n  return b.length - a.length;\r\n}\r\n","export const defaultCalendar = {\r\n  sameDay: '[Today at] LT',\r\n  nextDay: '[Tomorrow at] LT',\r\n  nextWeek: 'dddd [at] LT',\r\n  lastDay: '[Yesterday at] LT',\r\n  lastWeek: '[Last] dddd [at] LT',\r\n  sameElse: 'L'\r\n};\r\n","import {\r\n  defaultDayOfMonthOrdinalParse,\r\n  defaultLocaleMonths,\r\n  defaultLocaleMonthsShort,\r\n  defaultLocaleWeekdays,\r\n  defaultLocaleWeekdaysMin,\r\n  defaultLocaleWeekdaysShort, defaultLongDateFormat, defaultOrdinal,\r\n  LocaleData\r\n} from './locale.class';\r\nimport { defaultCalendar } from './calendar';\r\n\r\nexport const defaultInvalidDate = 'Invalid date';\r\n\r\nexport const defaultLocaleWeek = {\r\n  dow: 0, // Sunday is the first day of the week.\r\n  doy: 6 // The week that contains Jan 1st is the first week of the year.\r\n};\r\n\r\nexport const defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\r\n\r\nexport const defaultRelativeTime: {[key: string]: string} = {\r\n  future : 'in %s',\r\n  past   : '%s ago',\r\n  s  : 'a few seconds',\r\n  ss : '%d seconds',\r\n  m  : 'a minute',\r\n  mm : '%d minutes',\r\n  h  : 'an hour',\r\n  hh : '%d hours',\r\n  d  : 'a day',\r\n  dd : '%d days',\r\n  M  : 'a month',\r\n  MM : '%d months',\r\n  y  : 'a year',\r\n  yy : '%d years'\r\n};\r\n\r\nexport const baseConfig: LocaleData = {\r\n  calendar: defaultCalendar,\r\n  longDateFormat: defaultLongDateFormat,\r\n  invalidDate: defaultInvalidDate,\r\n  ordinal: defaultOrdinal,\r\n  dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\r\n  relativeTime: defaultRelativeTime,\r\n\r\n  months: defaultLocaleMonths,\r\n  monthsShort: defaultLocaleMonthsShort,\r\n\r\n  week: defaultLocaleWeek,\r\n\r\n  weekdays: defaultLocaleWeekdays,\r\n  weekdaysMin: defaultLocaleWeekdaysMin,\r\n  weekdaysShort: defaultLocaleWeekdaysShort,\r\n\r\n  meridiemParse: defaultLocaleMeridiemParse\r\n};\r\n","// compare two arrays, return the number of differences\r\nimport { toInt } from './type-checks';\r\n\r\nexport function compareArrays<T>(array1: T[], array2: T[], dontConvert: boolean) {\r\n  const len = Math.min(array1.length, array2.length);\r\n  const lengthDiff = Math.abs(array1.length - array2.length);\r\n  let diffs = 0;\r\n  let i;\r\n  for (i = 0; i < len; i++) {\r\n    if ((dontConvert && array1[i] !== array2[i])\r\n      || (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\r\n      diffs++;\r\n    }\r\n  }\r\n\r\n  return diffs + lengthDiff;\r\n}\r\n","// internal storage for locale config files\r\nimport { Locale, LocaleData } from './locale.class';\r\nimport { baseConfig } from './locale.defaults';\r\nimport { hasOwnProp, isArray, isObject, isString, isUndefined, toInt } from '../utils/type-checks';\r\nimport { compareArrays } from '../utils/compare-arrays';\r\n\r\nconst locales: { [key: string]: Locale } = {};\r\nconst localeFamilies: { [key: string]: {name: string; config: LocaleData}[] } = {};\r\nlet globalLocale: Locale;\r\n\r\nfunction normalizeLocale(key: string): string {\r\n  return key ? key.toLowerCase().replace('_', '-') : key;\r\n}\r\n\r\n// pick the locale from the array\r\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\r\n// substring from most specific to least,\r\n// but move to the next array item if it's a more specific variant than the current root\r\nfunction chooseLocale(names: string[]): Locale {\r\n  let next;\r\n  let locale;\r\n  let i = 0;\r\n\r\n  while (i < names.length) {\r\n    const split = normalizeLocale(names[i]).split('-');\r\n    let j = split.length;\r\n    next = normalizeLocale(names[i + 1]);\r\n    next = next ? next.split('-') : null;\r\n    while (j > 0) {\r\n      locale = loadLocale(split.slice(0, j).join('-'));\r\n      if (locale) {\r\n        return locale;\r\n      }\r\n      if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\r\n        // the next array item is better than a shallower substring of this one\r\n        break;\r\n      }\r\n      j--;\r\n    }\r\n    i++;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport function mergeConfigs(parentConfig: LocaleData,\r\n                             childConfig: LocaleData) {\r\n  const res: LocaleData = Object.assign({}, parentConfig);\r\n\r\n  for (const childProp in childConfig) {\r\n    if (!hasOwnProp(childConfig, childProp)) {\r\n      continue;\r\n    }\r\n    if (isObject(parentConfig[childProp]) && isObject(childConfig[childProp])) {\r\n      res[childProp] = {};\r\n      Object.assign(res[childProp], parentConfig[childProp]);\r\n      Object.assign(res[childProp], childConfig[childProp]);\r\n    } else if (childConfig[childProp] != null) {\r\n      res[childProp] = childConfig[childProp];\r\n    } else {\r\n      delete res[childProp];\r\n    }\r\n  }\r\n  let parentProp;\r\n  for (parentProp in parentConfig) {\r\n    if (\r\n      hasOwnProp(parentConfig, parentProp) &&\r\n      !hasOwnProp(childConfig, parentProp) &&\r\n      isObject(parentConfig[parentProp as keyof LocaleData])\r\n    ) {\r\n      // make sure changes to properties don't modify parent config\r\n      res[parentProp as keyof LocaleData] = Object.assign({}, res[parentProp as keyof LocaleData]);\r\n    }\r\n  }\r\n\r\n  return res;\r\n}\r\n\r\n\r\nfunction loadLocale(name: string): Locale {\r\n  // no way!\r\n  /* var oldLocale = null;\r\n   // TODO: Find a better way to register and load all the locales in Node\r\n   if (!locales[name] && (typeof module !== 'undefined') &&\r\n     module && module.exports) {\r\n     try {\r\n       oldLocale = globalLocale._abbr;\r\n       var aliasedRequire = require;\r\n       aliasedRequire('./locale/' + name);\r\n       getSetGlobalLocale(oldLocale);\r\n     } catch (e) {}\r\n   }*/\r\n  if (!locales[name]) {\r\n    // tslint:disable-next-line\r\n    console.error(`Khronos locale error: please load locale \"${name}\" before using it`);\r\n    // throw new Error(`Khronos locale error: please load locale \"${name}\" before using it`);\r\n  }\r\n\r\n  return locales[name];\r\n}\r\n\r\n// This function will load locale and then set the global locale.  If\r\n// no arguments are passed in, it will simply return the current global\r\n// locale key.\r\nexport function getSetGlobalLocale(key?: string | string[], values?: LocaleData): string {\r\n  let data: Locale;\r\n\r\n  if (key) {\r\n    if (isUndefined(values)) {\r\n      data = getLocale(key);\r\n    } else if (isString(key)) {\r\n      data = defineLocale(key, values);\r\n    }\r\n\r\n    if (data) {\r\n      globalLocale = data;\r\n    }\r\n  }\r\n\r\n  return globalLocale && globalLocale._abbr;\r\n}\r\n\r\nexport function defineLocale(name: string, config?: LocaleData): Locale {\r\n  if (config === null) {\r\n    // useful for testing\r\n    delete locales[name];\r\n    globalLocale = getLocale('en');\r\n\r\n    return null;\r\n  }\r\n\r\n  if (!config) {\r\n    return;\r\n  }\r\n\r\n  let parentConfig = baseConfig;\r\n  config.abbr = name;\r\n  if (config.parentLocale != null) {\r\n    if (locales[config.parentLocale] != null) {\r\n      parentConfig = locales[config.parentLocale]._config;\r\n    } else {\r\n      if (!localeFamilies[config.parentLocale]) {\r\n        localeFamilies[config.parentLocale] = [];\r\n      }\r\n      localeFamilies[config.parentLocale].push({ name, config });\r\n\r\n      return null;\r\n    }\r\n  }\r\n\r\n  locales[name] = new Locale(mergeConfigs(parentConfig, config));\r\n\r\n  if (localeFamilies[name]) {\r\n    localeFamilies[name].forEach(function (x) {\r\n      defineLocale(x.name, x.config);\r\n    });\r\n  }\r\n\r\n  // backwards compat for now: also set the locale\r\n  // make sure we set the locale AFTER all child locales have been\r\n  // created, so we won't end up with the child locale set.\r\n  getSetGlobalLocale(name);\r\n\r\n\r\n  return locales[name];\r\n}\r\n\r\nexport function updateLocale(name: string, config?: LocaleData): Locale {\r\n  let _config = config;\r\n\r\n  if (_config != null) {\r\n    let parentConfig = baseConfig;\r\n    // MERGE\r\n    const tmpLocale = loadLocale(name);\r\n    if (tmpLocale != null) {\r\n      parentConfig = tmpLocale._config;\r\n    }\r\n    _config = mergeConfigs(parentConfig, _config);\r\n    const locale = new Locale(_config);\r\n    locale.parentLocale = locales[name];\r\n    locales[name] = locale;\r\n\r\n    // backwards compat for now: also set the locale\r\n    getSetGlobalLocale(name);\r\n  } else {\r\n    // pass null for config to unupdate, useful for tests\r\n    if (locales[name] != null) {\r\n      if (locales[name].parentLocale != null) {\r\n        locales[name] = locales[name].parentLocale;\r\n      } else if (locales[name] != null) {\r\n        delete locales[name];\r\n      }\r\n    }\r\n  }\r\n\r\n  return locales[name];\r\n}\r\n\r\n// returns locale data\r\nexport function getLocale(key?: string | string[]): Locale {\r\n  if (!key) {\r\n    return globalLocale;\r\n  }\r\n  // let locale;\r\n  const _key = isArray(key) ? key : [key];\r\n\r\n  return chooseLocale(_key);\r\n}\r\n\r\nexport function listLocales(): string[] {\r\n  return Object.keys(locales);\r\n}\r\n\r\n// define default locale\r\ngetSetGlobalLocale('en', {\r\n  dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\r\n  ordinal(num: number): string {\r\n    const b = num % 10;\r\n    const output =\r\n      toInt((num % 100) / 10) === 1\r\n        ? 'th'\r\n        : b === 1 ? 'st' : b === 2 ? 'nd' : b === 3 ? 'rd' : 'th';\r\n\r\n    return num + output;\r\n  }\r\n});\r\n","/*tslint:disable */\r\n/**\r\n * @license\r\n * Copyright Google Inc. All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\n/**\r\n * JS version of browser APIs. This library can only run in the browser.\r\n */\r\nvar win = (typeof window !== 'undefined' && window) || <any>{};\r\n\r\nexport { win as window };\r\nexport var document = win.document;\r\nexport var location = win.location;\r\nexport var gc = win['gc'] ? () => win['gc']() : (): any => null;\r\nexport var performance = win['performance'] ? win['performance'] : null;\r\nexport const Event = win['Event'];\r\nexport const MouseEvent = win['MouseEvent'];\r\nexport const KeyboardEvent = win['KeyboardEvent'];\r\nexport const EventTarget = win['EventTarget'];\r\nexport const History = win['History'];\r\nexport const Location = win['Location'];\r\nexport const EventListener = win['EventListener'];\r\n","import { window } from './facade/browser';\r\n\r\nlet guessedVersion: 'bs3' | 'bs4';\r\n\r\nfunction _guessBsVersion(): 'bs3' | 'bs4' {\r\n  if (typeof document === 'undefined') {\r\n    return null;\r\n  }\r\n  const spanEl = document.createElement('span');\r\n  spanEl.innerText = 'test bs version';\r\n  document.body.appendChild(spanEl);\r\n  spanEl.classList.add('d-none');\r\n  const rect = spanEl.getBoundingClientRect();\r\n  document.body.removeChild(spanEl);\r\n  if (!rect) {\r\n    return 'bs3';\r\n  }\r\n\r\n  return rect.top === 0 ? 'bs4' : 'bs3';\r\n}\r\n\r\nexport function setTheme(theme: 'bs3' | 'bs4'): void {\r\n  guessedVersion = theme;\r\n}\r\n\r\n// todo: in ngx-bootstrap, bs4 will became a default one\r\nexport function isBs3(): boolean {\r\n  if (typeof window === 'undefined') {\r\n    return true;\r\n  }\r\n\r\n  if (typeof window.__theme === 'undefined') {\r\n    if (guessedVersion) {\r\n      return guessedVersion === 'bs3';\r\n    }\r\n    guessedVersion = _guessBsVersion();\r\n\r\n    return guessedVersion === 'bs3';\r\n  }\r\n\r\n  return window.__theme !== 'bs4';\r\n}\r\n","import { formatDate } from '../chronos/format';\r\n\r\nexport class DateFormatter {\r\n  format(date: Date, format: string, locale: string): string {\r\n    return formatDate(date, format, locale);\r\n  }\r\n}\r\n","/* tslint:disable:max-file-line-count */\r\nimport {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges\r\n} from '@angular/core';\r\n\r\nimport { DateFormatter } from './date-formatter';\r\n\r\n// const MIN_DATE:Date = void 0;\r\n// const MAX_DATE:Date = void 0;\r\n// const DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\r\n/*\r\n const KEYS = {\r\n 13: 'enter',\r\n 32: 'space',\r\n 33: 'pageup',\r\n 34: 'pagedown',\r\n 35: 'end',\r\n 36: 'home',\r\n 37: 'left',\r\n 38: 'up',\r\n 39: 'right',\r\n 40: 'down'\r\n };\r\n */\r\n\r\n@Component({\r\n  selector: 'datepicker-inner',\r\n  template: `\r\n    <!--&lt;!&ndash;ng-keydown=\"keydown($event)\"&ndash;&gt;-->\r\n    <div *ngIf=\"datepickerMode\" class=\"well well-sm bg-faded p-a card\" role=\"application\" >\r\n      <ng-content></ng-content>\r\n    </div>\r\n  `\r\n})\r\nexport class DatePickerInnerComponent implements OnInit, OnChanges {\r\n  @Input() locale: string;\r\n  @Input() datepickerMode: string;\r\n  @Input() startingDay: number;\r\n  @Input() yearRange: number;\r\n\r\n  @Input() minDate: Date;\r\n  @Input() maxDate: Date;\r\n  @Input() minMode: string;\r\n  @Input() maxMode: string;\r\n  @Input() showWeeks: boolean;\r\n  @Input() formatDay: string;\r\n  @Input() formatMonth: string;\r\n  @Input() formatYear: string;\r\n  @Input() formatDayHeader: string;\r\n  @Input() formatDayTitle: string;\r\n  @Input() formatMonthTitle: string;\r\n  @Input() onlyCurrentMonth: boolean;\r\n  @Input() shortcutPropagation: boolean;\r\n  @Input() customClass: { date: Date; mode: string; clazz: string }[];\r\n  @Input() monthColLimit: number;\r\n  @Input() yearColLimit: number;\r\n  @Input() dateDisabled: { date: Date; mode: string }[];\r\n  @Input() dayDisabled: number[];\r\n  @Input() initDate: Date;\r\n\r\n  @Output() selectionDone: EventEmitter<Date> = new EventEmitter<Date>(undefined);\r\n  @Output() update: EventEmitter<Date> = new EventEmitter<Date>(false);\r\n  @Output() activeDateChange: EventEmitter<Date> = new EventEmitter<Date>(undefined);\r\n\r\n  stepDay: any = {};\r\n  stepMonth: any = {};\r\n  stepYear: any = {};\r\n\r\n  uniqueId: string;\r\n\r\n  protected modes: string[] = ['day', 'month', 'year'];\r\n  protected dateFormatter: DateFormatter = new DateFormatter();\r\n  protected _activeDate: Date;\r\n  protected selectedDate: Date;\r\n  protected activeDateId: string;\r\n\r\n  protected refreshViewHandlerDay: Function;\r\n  protected compareHandlerDay: Function;\r\n  protected refreshViewHandlerMonth: Function;\r\n  protected compareHandlerMonth: Function;\r\n  protected refreshViewHandlerYear: Function;\r\n  protected compareHandlerYear: Function;\r\n\r\n  @Input()\r\n  get activeDate(): Date {\r\n    return this._activeDate;\r\n  }\r\n\r\n  set activeDate(value: Date) {\r\n    this._activeDate = value;\r\n  }\r\n\r\n  // todo: add formatter value to Date object\r\n  ngOnInit(): void {\r\n    // todo: use date for unique value\r\n    this.uniqueId =  `datepicker--${Math.floor(Math.random() * 10000)}`;\r\n\r\n    if (this.initDate) {\r\n      this.activeDate = this.initDate;\r\n      this.selectedDate = new Date(this.activeDate.valueOf());\r\n      this.update.emit(this.activeDate);\r\n    } else if (this.activeDate === undefined) {\r\n      this.activeDate = new Date();\r\n    }\r\n  }\r\n\r\n  // this.refreshView should be called here to reflect the changes on the fly\r\n  // tslint:disable-next-line:no-unused-variable\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.refreshView();\r\n    this.checkIfActiveDateGotUpdated(changes.activeDate);\r\n  }\r\n\r\n  // Check if activeDate has been update and then emit the activeDateChange with the new date\r\n  checkIfActiveDateGotUpdated(activeDate: any): void {\r\n    if (activeDate && !activeDate.firstChange) {\r\n      const previousValue = activeDate.previousValue;\r\n      if (\r\n        previousValue &&\r\n        previousValue instanceof Date &&\r\n        previousValue.getTime() !== activeDate.currentValue.getTime()\r\n      ) {\r\n        this.activeDateChange.emit(this.activeDate);\r\n      }\r\n    }\r\n  }\r\n\r\n  setCompareHandler(handler: Function, type: string): void {\r\n    if (type === 'day') {\r\n      this.compareHandlerDay = handler;\r\n    }\r\n\r\n    if (type === 'month') {\r\n      this.compareHandlerMonth = handler;\r\n    }\r\n\r\n    if (type === 'year') {\r\n      this.compareHandlerYear = handler;\r\n    }\r\n  }\r\n\r\n  compare(date1: Date, date2: Date): number | undefined {\r\n    if (date1 === undefined || date2 === undefined) {\r\n      return undefined;\r\n    }\r\n\r\n    if (this.datepickerMode === 'day' && this.compareHandlerDay) {\r\n      return this.compareHandlerDay(date1, date2);\r\n    }\r\n\r\n    if (this.datepickerMode === 'month' && this.compareHandlerMonth) {\r\n      return this.compareHandlerMonth(date1, date2);\r\n    }\r\n\r\n    if (this.datepickerMode === 'year' && this.compareHandlerYear) {\r\n      return this.compareHandlerYear(date1, date2);\r\n    }\r\n\r\n    return void 0;\r\n  }\r\n\r\n  setRefreshViewHandler(handler: Function, type: string): void {\r\n    if (type === 'day') {\r\n      this.refreshViewHandlerDay = handler;\r\n    }\r\n\r\n    if (type === 'month') {\r\n      this.refreshViewHandlerMonth = handler;\r\n    }\r\n\r\n    if (type === 'year') {\r\n      this.refreshViewHandlerYear = handler;\r\n    }\r\n  }\r\n\r\n  refreshView(): void {\r\n    if (this.datepickerMode === 'day' && this.refreshViewHandlerDay) {\r\n      this.refreshViewHandlerDay();\r\n    }\r\n\r\n    if (this.datepickerMode === 'month' && this.refreshViewHandlerMonth) {\r\n      this.refreshViewHandlerMonth();\r\n    }\r\n\r\n    if (this.datepickerMode === 'year' && this.refreshViewHandlerYear) {\r\n      this.refreshViewHandlerYear();\r\n    }\r\n  }\r\n\r\n  dateFilter(date: Date, format: string): string {\r\n    return this.dateFormatter.format(date, format, this.locale);\r\n  }\r\n\r\n  isActive(dateObject: any): boolean {\r\n    if (this.compare(dateObject.date, this.activeDate) === 0) {\r\n      this.activeDateId = dateObject.uid;\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  createDateObject(date: Date, format: string): any {\r\n    const dateObject: any = {};\r\n    dateObject.date = new Date(\r\n      date.getFullYear(),\r\n      date.getMonth(),\r\n      date.getDate()\r\n    );\r\n    dateObject.date = this.fixTimeZone(dateObject.date);\r\n    dateObject.label = this.dateFilter(date, format);\r\n    dateObject.selected = this.compare(date, this.selectedDate) === 0;\r\n    dateObject.disabled = this.isDisabled(date);\r\n    dateObject.current = this.compare(date, new Date()) === 0;\r\n    dateObject.customClass = this.getCustomClassForDate(dateObject.date);\r\n\r\n    return dateObject;\r\n  }\r\n\r\n  split(arr: any[], size: number): any[] {\r\n    const arrays: any[] = [];\r\n    while (arr.length > 0) {\r\n      arrays.push(arr.splice(0, size));\r\n    }\r\n\r\n    return arrays;\r\n  }\r\n\r\n  // Fix a hard-reproducible bug with timezones\r\n  // The bug depends on OS, browser, current timezone and current date\r\n  // i.e.\r\n  // var date = new Date(2014, 0, 1);\r\n  // console.log(date.getFullYear(), date.getMonth(), date.getDate(),\r\n  // date.getHours()); can result in \"2013 11 31 23\" because of the bug.\r\n  fixTimeZone(date: Date): Date {\r\n    const hours = date.getHours();\r\n\r\n    return new Date(\r\n      date.getFullYear(),\r\n      date.getMonth(),\r\n      date.getDate(),\r\n      hours === 23 ? hours + 2 : 0\r\n    );\r\n  }\r\n\r\n  select(date: Date, isManual = true): void {\r\n    if (this.datepickerMode === this.minMode) {\r\n      if (!this.activeDate) {\r\n        this.activeDate = new Date(0, 0, 0, 0, 0, 0, 0);\r\n      }\r\n\r\n      this.activeDate = new Date(\r\n        date.getFullYear(),\r\n        date.getMonth(),\r\n        date.getDate()\r\n      );\r\n      this.activeDate = this.fixTimeZone(this.activeDate);\r\n      if (isManual) {\r\n        this.selectionDone.emit(this.activeDate);\r\n      }\r\n    } else {\r\n      this.activeDate = new Date(\r\n        date.getFullYear(),\r\n        date.getMonth(),\r\n        date.getDate()\r\n      );\r\n      this.activeDate = this.fixTimeZone(this.activeDate);\r\n      if (isManual) {\r\n        this.datepickerMode = this.modes[\r\n          this.modes.indexOf(this.datepickerMode) - 1\r\n        ];\r\n      }\r\n    }\r\n\r\n    this.selectedDate = new Date(this.activeDate.valueOf());\r\n    this.update.emit(this.activeDate);\r\n    this.refreshView();\r\n  }\r\n\r\n  move(direction: number): void {\r\n    let expectedStep: any;\r\n    if (this.datepickerMode === 'day') {\r\n      expectedStep = this.stepDay;\r\n    }\r\n\r\n    if (this.datepickerMode === 'month') {\r\n      expectedStep = this.stepMonth;\r\n    }\r\n\r\n    if (this.datepickerMode === 'year') {\r\n      expectedStep = this.stepYear;\r\n    }\r\n\r\n    if (expectedStep) {\r\n      const year =\r\n        this.activeDate.getFullYear() + direction * (expectedStep.years || 0);\r\n      const month =\r\n        this.activeDate.getMonth() + direction * (expectedStep.months || 0);\r\n      this.activeDate = new Date(year, month, 1);\r\n\r\n      this.refreshView();\r\n      this.activeDateChange.emit(this.activeDate);\r\n    }\r\n  }\r\n\r\n  toggleMode(_direction: number): void {\r\n    const direction = _direction || 1;\r\n\r\n    if (\r\n      (this.datepickerMode === this.maxMode && direction === 1) ||\r\n      (this.datepickerMode === this.minMode && direction === -1)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this.datepickerMode = this.modes[\r\n      this.modes.indexOf(this.datepickerMode) + direction\r\n    ];\r\n    this.refreshView();\r\n  }\r\n\r\n  protected getCustomClassForDate(date: Date): string {\r\n    if (!this.customClass) {\r\n      return '';\r\n    }\r\n    // todo: build a hash of custom classes, it will work faster\r\n    const customClassObject: {\r\n      date: Date;\r\n      mode: string;\r\n      clazz: string;\r\n    } = this.customClass.find((customClass: any) => {\r\n      return (\r\n        customClass.date.valueOf() === date.valueOf() &&\r\n        customClass.mode === this.datepickerMode\r\n      );\r\n    }, this);\r\n\r\n    return customClassObject === undefined ? '' : customClassObject.clazz;\r\n  }\r\n\r\n  protected compareDateDisabled(\r\n    date1Disabled: { date: Date; mode: string },\r\n    date2: Date\r\n  ): number {\r\n    if (date1Disabled === undefined || date2 === undefined) {\r\n      return undefined;\r\n    }\r\n\r\n    if (date1Disabled.mode === 'day' && this.compareHandlerDay) {\r\n      return this.compareHandlerDay(date1Disabled.date, date2);\r\n    }\r\n\r\n    if (date1Disabled.mode === 'month' && this.compareHandlerMonth) {\r\n      return this.compareHandlerMonth(date1Disabled.date, date2);\r\n    }\r\n\r\n    if (date1Disabled.mode === 'year' && this.compareHandlerYear) {\r\n      return this.compareHandlerYear(date1Disabled.date, date2);\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  protected isDisabled(date: Date): boolean {\r\n    let isDateDisabled = false;\r\n    if (this.dateDisabled) {\r\n      this.dateDisabled.forEach(\r\n        (disabledDate: { date: Date; mode: string }) => {\r\n          if (this.compareDateDisabled(disabledDate, date) === 0) {\r\n            isDateDisabled = true;\r\n          }\r\n        }\r\n      );\r\n    }\r\n\r\n    if (this.dayDisabled) {\r\n      isDateDisabled =\r\n        isDateDisabled ||\r\n        this.dayDisabled.indexOf(date.getDay()) > -1;\r\n    }\r\n\r\n    return (\r\n      isDateDisabled ||\r\n      (this.minDate && this.compare(date, this.minDate) < 0) ||\r\n      (this.maxDate && this.compare(date, this.maxDate) > 0)\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  ViewChild,\r\n  forwardRef\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\nimport { DatepickerConfig } from './datepicker.config';\r\n\r\nexport const DATEPICKER_CONTROL_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  // tslint:disable-next-line\r\n  useExisting: forwardRef(() => DatePickerComponent),\r\n  multi: true\r\n};\r\n\r\n/* tslint:disable:component-selector-name component-selector-type */\r\n@Component({\r\n  selector: 'datepicker',\r\n  template: `\r\n    <datepicker-inner [activeDate]=\"activeDate\"\r\n                      (update)=\"onUpdate($event)\"\r\n                      [locale]=\"config.locale\"\r\n                      [datepickerMode]=\"datepickerMode\"\r\n                      [initDate]=\"initDate\"\r\n                      [minDate]=\"minDate\"\r\n                      [maxDate]=\"maxDate\"\r\n                      [minMode]=\"minMode\"\r\n                      [maxMode]=\"maxMode\"\r\n                      [showWeeks]=\"showWeeks\"\r\n                      [formatDay]=\"formatDay\"\r\n                      [formatMonth]=\"formatMonth\"\r\n                      [formatYear]=\"formatYear\"\r\n                      [formatDayHeader]=\"formatDayHeader\"\r\n                      [formatDayTitle]=\"formatDayTitle\"\r\n                      [formatMonthTitle]=\"formatMonthTitle\"\r\n                      [startingDay]=\"startingDay\"\r\n                      [yearRange]=\"yearRange\"\r\n                      [customClass]=\"customClass\"\r\n                      [dateDisabled]=\"dateDisabled\"\r\n                      [dayDisabled]=\"dayDisabled\"\r\n                      [onlyCurrentMonth]=\"onlyCurrentMonth\"\r\n                      [shortcutPropagation]=\"shortcutPropagation\"\r\n                      [monthColLimit]=\"monthColLimit\"\r\n                      [yearColLimit]=\"yearColLimit\"\r\n                      (selectionDone)=\"onSelectionDone($event)\"\r\n                      (activeDateChange)=\"onActiveDateChange($event)\">\r\n      <daypicker tabindex=\"0\"></daypicker>\r\n      <monthpicker tabindex=\"0\"></monthpicker>\r\n      <yearpicker tabindex=\"0\"></yearpicker>\r\n    </datepicker-inner>\r\n    `,\r\n  providers: [DATEPICKER_CONTROL_VALUE_ACCESSOR]\r\n})\r\n/* tslint:enable:component-selector-name component-selector-type */\r\nexport class DatePickerComponent implements ControlValueAccessor {\r\n  /** sets datepicker mode, supports: `day`, `month`, `year` */\r\n  @Input() datepickerMode = 'day';\r\n  /** default date to show if `ng-model` value is not specified */\r\n  @Input() initDate: Date;\r\n  /**  oldest selectable date */\r\n  @Input() minDate: Date;\r\n  /** latest selectable date */\r\n  @Input() maxDate: Date;\r\n  /** set lower datepicker mode, supports: `day`, `month`, `year` */\r\n  @Input() minMode: string;\r\n  /** sets upper datepicker mode, supports: `day`, `month`, `year` */\r\n  @Input() maxMode: string;\r\n  /** if false week numbers will be hidden */\r\n  @Input() showWeeks = true;\r\n  /** format of day in month */\r\n  @Input() formatDay: string;\r\n  /** format of month in year */\r\n  @Input() formatMonth: string;\r\n  /** format of year in year range */\r\n  @Input() formatYear: string;\r\n  /** format of day in week header */\r\n  @Input() formatDayHeader: string;\r\n  /** format of title when selecting day */\r\n  @Input() formatDayTitle: string;\r\n  /** format of title when selecting month */\r\n  @Input() formatMonthTitle: string;\r\n  /** starting day of the week from 0-6 (0=Sunday, ..., 6=Saturday) */\r\n  @Input() startingDay: number;\r\n  /** number of years displayed in year selection */\r\n  @Input() yearRange: number;\r\n  /** if true only dates from the currently displayed month will be shown */\r\n  @Input() onlyCurrentMonth: boolean;\r\n  /** if true shortcut`s event propagation will be disabled */\r\n  @Input() shortcutPropagation: boolean;\r\n  /** number of months displayed in a single row of month picker */\r\n  @Input() monthColLimit: number;\r\n  /** number of years displayed in a single row of year picker */\r\n  @Input() yearColLimit: number;\r\n  /** array of custom css classes to be applied to targeted dates */\r\n  @Input() customClass: { date: Date; mode: string; clazz: string }[];\r\n  /** array of disabled dates */\r\n  @Input() dateDisabled: { date: Date; mode: string }[];\r\n  /** disabled days of the week from 0-6 (0=Sunday, ..., 6=Saturday) */\r\n  @Input() dayDisabled: number[];\r\n\r\n  /** currently active date */\r\n  @Input()\r\n  get activeDate(): Date {\r\n    return this._activeDate || this._now;\r\n  }\r\n\r\n  set activeDate(value: Date) {\r\n    this._activeDate = value;\r\n  }\r\n\r\n  @Output()\r\n  selectionDone: EventEmitter<Date> = new EventEmitter<Date>(undefined);\r\n\r\n  /** callback to invoke when the activeDate is changed. */\r\n  @Output()\r\n  activeDateChange: EventEmitter<Date> = new EventEmitter<Date>(\r\n    undefined\r\n  );\r\n\r\n  @ViewChild(DatePickerInnerComponent)\r\n  _datePicker: DatePickerInnerComponent;\r\n\r\n  onChange: any = Function.prototype;\r\n  onTouched: any = Function.prototype;\r\n\r\n  config: DatepickerConfig;\r\n\r\n  protected _now: Date = new Date();\r\n  protected _activeDate: Date;\r\n\r\n  constructor(config: DatepickerConfig) {\r\n    this.config = config;\r\n    this.configureOptions();\r\n  }\r\n\r\n  configureOptions(): void {\r\n    Object.assign(this, this.config);\r\n  }\r\n\r\n  onUpdate(event: any): void {\r\n    this.activeDate = event;\r\n    this.onChange(event);\r\n  }\r\n\r\n  onSelectionDone(event: Date): void {\r\n    this.selectionDone.emit(event);\r\n  }\r\n\r\n  onActiveDateChange(event: Date): void {\r\n    this.activeDateChange.emit(event);\r\n  }\r\n  // todo: support null value\r\n  writeValue(value: any): void {\r\n    if (this._datePicker.compare(value, this._activeDate) === 0) {\r\n      return;\r\n    }\r\n    if (value && value instanceof Date) {\r\n      this.activeDate = value;\r\n      this._datePicker.select(value, false);\r\n\r\n      return;\r\n    }\r\n\r\n    this.activeDate = value ? new Date(value) : void 0;\r\n  }\r\n\r\n  registerOnChange(fn: (_: any) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class DatepickerConfig {\r\n  locale = 'en';\r\n  datepickerMode = 'day';\r\n  startingDay = 0;\r\n  yearRange = 20;\r\n  minMode = 'day';\r\n  maxMode = 'year';\r\n  showWeeks = true;\r\n  formatDay = 'DD';\r\n  formatMonth = 'MMMM';\r\n  formatYear = 'YYYY';\r\n  formatDayHeader = 'dd';\r\n  formatDayTitle = 'MMMM YYYY';\r\n  formatMonthTitle = 'YYYY';\r\n  onlyCurrentMonth = false;\r\n  monthColLimit = 3;\r\n  yearColLimit = 5;\r\n  shortcutPropagation = false;\r\n}\r\n","// @deprecated\r\n// tslint:disable\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { isBs3 } from '../utils/theme-provider';\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\n\r\n@Component({\r\n  selector: 'daypicker',\r\n  template: `\r\n<table *ngIf=\"datePicker.datepickerMode === 'day'\" role=\"grid\" [attr.aria-labelledby]=\"datePicker.uniqueId + '-title'\" aria-activedescendant=\"activeDateId\">\r\n  <thead>\r\n    <tr>\r\n      <th>\r\n        <button *ngIf=\"!isBs4\"\r\n                type=\"button\"\r\n                class=\"btn btn-default btn-secondary btn-sm pull-left float-left\"\r\n                (click)=\"datePicker.move(-1)\"\r\n                tabindex=\"-1\">‹</button>\r\n        <button *ngIf=\"isBs4\"\r\n                type=\"button\"\r\n                class=\"btn btn-default btn-secondary btn-sm pull-left float-left\"\r\n                (click)=\"datePicker.move(-1)\"\r\n                tabindex=\"-1\">&lt;</button>\r\n      </th>\r\n      <th [attr.colspan]=\"5 + (datePicker.showWeeks ? 1 : 0)\">\r\n        <button [id]=\"datePicker.uniqueId + '-title'\"\r\n                type=\"button\" class=\"btn btn-default btn-secondary btn-sm\"\r\n                (click)=\"datePicker.toggleMode(0)\"\r\n                [disabled]=\"datePicker.datepickerMode === datePicker.maxMode\"\r\n                [ngClass]=\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\r\n          <strong>{{ title }}</strong>\r\n        </button>\r\n      </th>\r\n      <th>\r\n        <button *ngIf=\"!isBs4\"\r\n                type=\"button\"\r\n                class=\"btn btn-default btn-secondary btn-sm pull-right float-right\"\r\n                (click)=\"datePicker.move(1)\"\r\n                tabindex=\"-1\">›</button>\r\n        <button *ngIf=\"isBs4\"\r\n                type=\"button\"\r\n                class=\"btn btn-default btn-secondary btn-sm pull-right float-right\"\r\n                (click)=\"datePicker.move(1)\"\r\n                tabindex=\"-1\">&gt;\r\n        </button>\r\n      </th>\r\n    </tr>\r\n    <tr>\r\n      <th *ngIf=\"datePicker.showWeeks\"></th>\r\n      <th *ngFor=\"let labelz of labels\" class=\"text-center\">\r\n        <small aria-label=\"labelz.full\"><b>{{ labelz.abbr }}</b></small>\r\n      </th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <ng-template ngFor [ngForOf]=\"rows\" let-rowz=\"$implicit\" let-index=\"index\">\r\n      <tr *ngIf=\"!(datePicker.onlyCurrentMonth && rowz[0].secondary && rowz[6].secondary)\">\r\n        <td *ngIf=\"datePicker.showWeeks\" class=\"h6\" class=\"text-center\">\r\n          <em>{{ weekNumbers[index] }}</em>\r\n        </td>\r\n        <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [id]=\"dtz.uid\">\r\n          <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-sm {{dtz.customClass}}\"\r\n                  *ngIf=\"!(datePicker.onlyCurrentMonth && dtz.secondary)\"\r\n                  [ngClass]=\"{'btn-secondary': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected, disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz), 'btn-default': !isBs4}\"\r\n                  [disabled]=\"dtz.disabled\"\r\n                  (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\r\n            <span [ngClass]=\"{'text-muted': dtz.secondary || dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </ng-template>\r\n  </tbody>\r\n</table>\r\n  `,\r\n  styles: [\r\n    `\r\n    :host .btn-secondary {\r\n      color: #292b2c;\r\n      background-color: #fff;\r\n      border-color: #ccc;\r\n    }\r\n    :host .btn-info .text-muted {\r\n      color: #292b2c !important;\r\n    }\r\n  `\r\n  ]\r\n})\r\nexport class DayPickerComponent implements OnInit {\r\n  labels: any[] = [];\r\n  title: string;\r\n  rows: any[] = [];\r\n  weekNumbers: number[] = [];\r\n  datePicker: DatePickerInnerComponent;\r\n\r\n  constructor(datePicker: DatePickerInnerComponent) {\r\n    this.datePicker = datePicker;\r\n  }\r\n\r\n  get isBs4(): boolean {\r\n    return !isBs3();\r\n  }\r\n\r\n  /*protected getDaysInMonth(year:number, month:number) {\r\n   return ((month === 1) && (year % 4 === 0) &&\r\n   ((year % 100 !== 0) || (year % 400 === 0))) ? 29 : DAYS_IN_MONTH[month];\r\n   }*/\r\n  ngOnInit(): void {\r\n    const self = this;\r\n\r\n    this.datePicker.stepDay = { months: 1 };\r\n\r\n    this.datePicker.setRefreshViewHandler(function(): void {\r\n      const year = this.activeDate.getFullYear();\r\n      const month = this.activeDate.getMonth();\r\n      const firstDayOfMonth = new Date(year, month, 1);\r\n      const difference = this.startingDay - firstDayOfMonth.getDay();\r\n      const numDisplayedFromPreviousMonth =\r\n        difference > 0 ? 7 - difference : -difference;\r\n      const firstDate = new Date(firstDayOfMonth.getTime());\r\n\r\n      if (numDisplayedFromPreviousMonth > 0) {\r\n        firstDate.setDate(-numDisplayedFromPreviousMonth + 1);\r\n      }\r\n\r\n      // 42 is the number of days on a six-week calendar\r\n      const _days: Date[] = self.getDates(firstDate, 42);\r\n      const days: any[] = [];\r\n      for (let i = 0; i < 42; i++) {\r\n        const _dateObject = this.createDateObject(_days[i], this.formatDay);\r\n        _dateObject.secondary = _days[i].getMonth() !== month;\r\n        _dateObject.uid = this.uniqueId + '-' + i;\r\n        days[i] = _dateObject;\r\n      }\r\n\r\n      self.labels = [];\r\n      for (let j = 0; j < 7; j++) {\r\n        self.labels[j] = {};\r\n        self.labels[j].abbr = this.dateFilter(\r\n          days[j].date,\r\n          this.formatDayHeader\r\n        );\r\n        self.labels[j].full = this.dateFilter(days[j].date, 'EEEE');\r\n      }\r\n\r\n      self.title = this.dateFilter(this.activeDate, this.formatDayTitle);\r\n      self.rows = this.split(days, 7);\r\n\r\n      if (this.showWeeks) {\r\n        self.weekNumbers = [];\r\n        const thursdayIndex = (4 + 7 - this.startingDay) % 7;\r\n        const numWeeks = self.rows.length;\r\n        for (let curWeek = 0; curWeek < numWeeks; curWeek++) {\r\n          self.weekNumbers.push(\r\n            self.getISO8601WeekNumber(self.rows[curWeek][thursdayIndex].date)\r\n          );\r\n        }\r\n      }\r\n    }, 'day');\r\n\r\n    this.datePicker.setCompareHandler(function(\r\n      date1: Date,\r\n      date2: Date\r\n    ): number {\r\n      const d1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate());\r\n      const d2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());\r\n      return d1.getTime() - d2.getTime();\r\n    }, 'day');\r\n\r\n    this.datePicker.refreshView();\r\n  }\r\n\r\n  protected getDates(startDate: Date, n: number): Date[] {\r\n    const dates: Date[] = new Array(n);\r\n    let current = new Date(startDate.getTime());\r\n    let i = 0;\r\n    let date: Date;\r\n    while (i < n) {\r\n      date = new Date(current.getTime());\r\n      date = this.datePicker.fixTimeZone(date);\r\n      dates[i++] = date;\r\n      current = new Date(\r\n        date.getFullYear(),\r\n        date.getMonth(),\r\n        date.getDate() + 1\r\n      );\r\n    }\r\n    return dates;\r\n  }\r\n\r\n  protected getISO8601WeekNumber(date: Date): number {\r\n    const checkDate = new Date(date.getTime());\r\n    // Thursday\r\n    checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));\r\n    const time = checkDate.getTime();\r\n    // Compare with Jan 1\r\n    checkDate.setMonth(0);\r\n    checkDate.setDate(1);\r\n    return (\r\n      Math.floor(Math.round((time - checkDate.getTime()) / 86400000) / 7) + 1\r\n    );\r\n  }\r\n\r\n  // todo: key events implementation\r\n}\r\n","// @deprecated\r\n// tslint:disable\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\nimport { isBs3 } from '../utils/theme-provider';\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\n\r\n@Component({\r\n  selector: 'monthpicker',\r\n  template: `\r\n<table *ngIf=\"datePicker.datepickerMode==='month'\" role=\"grid\">\r\n  <thead>\r\n    <tr>\r\n      <th>\r\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-left float-left\"\r\n                (click)=\"datePicker.move(-1)\" tabindex=\"-1\">‹</button></th>\r\n      <th [attr.colspan]=\"((datePicker.monthColLimit - 2) <= 0) ? 1 : datePicker.monthColLimit - 2\">\r\n        <button [id]=\"datePicker.uniqueId + '-title'\"\r\n                type=\"button\" class=\"btn btn-default btn-sm\"\r\n                (click)=\"datePicker.toggleMode(0)\"\r\n                [disabled]=\"datePicker.datepickerMode === maxMode\"\r\n                [ngClass]=\"{disabled: datePicker.datepickerMode === maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\r\n          <strong>{{ title }}</strong> \r\n        </button>\r\n      </th>\r\n      <th>\r\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-right float-right\"\r\n                (click)=\"datePicker.move(1)\" tabindex=\"-1\">›</button>\r\n      </th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let rowz of rows\">\r\n      <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [attr.id]=\"dtz.uid\" [ngClass]=\"dtz.customClass\">\r\n        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\"\r\n                [ngClass]=\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\"\r\n                [disabled]=\"dtz.disabled\"\r\n                (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\r\n          <span [ngClass]=\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n  `,\r\n  styles: [\r\n    `\r\n    :host .btn-info .text-success {\r\n      color: #fff !important;\r\n    }\r\n  `\r\n  ]\r\n})\r\nexport class MonthPickerComponent implements OnInit {\r\n  title: string;\r\n  rows: any[] = [];\r\n  datePicker: DatePickerInnerComponent;\r\n  maxMode: string;\r\n\r\n  constructor(datePicker: DatePickerInnerComponent) {\r\n    this.datePicker = datePicker;\r\n  }\r\n\r\n  get isBs4(): boolean {\r\n    return !isBs3();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const self = this;\r\n\r\n    this.datePicker.stepMonth = { years: 1 };\r\n\r\n    this.datePicker.setRefreshViewHandler(function(): void {\r\n      const months: any[] = new Array(12);\r\n      const year: number = this.activeDate.getFullYear();\r\n      let date: Date;\r\n\r\n      for (let i = 0; i < 12; i++) {\r\n        date = new Date(year, i, 1);\r\n        date = this.fixTimeZone(date);\r\n        months[i] = this.createDateObject(date, this.formatMonth);\r\n        months[i].uid = this.uniqueId + '-' + i;\r\n      }\r\n\r\n      self.title = this.dateFilter(this.activeDate, this.formatMonthTitle);\r\n      self.rows = this.split(months, self.datePicker.monthColLimit);\r\n    }, 'month');\r\n\r\n    this.datePicker.setCompareHandler(function(\r\n      date1: Date,\r\n      date2: Date\r\n    ): number {\r\n      const d1 = new Date(date1.getFullYear(), date1.getMonth());\r\n      const d2 = new Date(date2.getFullYear(), date2.getMonth());\r\n      return d1.getTime() - d2.getTime();\r\n    }, 'month');\r\n\r\n    this.datePicker.refreshView();\r\n  }\r\n\r\n  // todo: key events implementation\r\n}\r\n","// @deprecated\r\n// tslint:disable\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\nimport { isBs3 } from '../utils/theme-provider';\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\n\r\n@Component({\r\n  selector: 'yearpicker',\r\n  template: `\r\n<table *ngIf=\"datePicker.datepickerMode==='year'\" role=\"grid\">\r\n  <thead>\r\n    <tr>\r\n      <th>\r\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-left float-left\"\r\n                (click)=\"datePicker.move(-1)\" tabindex=\"-1\">‹</button>\r\n      </th>\r\n      <th [attr.colspan]=\"((datePicker.yearColLimit - 2) <= 0) ? 1 : datePicker.yearColLimit - 2\">\r\n        <button [id]=\"datePicker.uniqueId + '-title'\" role=\"heading\"\r\n                type=\"button\" class=\"btn btn-default btn-sm\"\r\n                (click)=\"datePicker.toggleMode(0)\"\r\n                [disabled]=\"datePicker.datepickerMode === datePicker.maxMode\"\r\n                [ngClass]=\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\r\n          <strong>{{ title }}</strong>\r\n        </button>\r\n      </th>\r\n      <th>\r\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-right float-right\"\r\n                (click)=\"datePicker.move(1)\" tabindex=\"-1\">›</button>\r\n      </th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let rowz of rows\">\r\n      <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [attr.id]=\"dtz.uid\">\r\n        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\"\r\n                [ngClass]=\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\"\r\n                [disabled]=\"dtz.disabled\"\r\n                (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\r\n          <span [ngClass]=\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n  `,\r\n  styles: [\r\n    `\r\n    :host .btn-info .text-success {\r\n      color: #fff !important;\r\n    }\r\n  `\r\n  ]\r\n})\r\nexport class YearPickerComponent implements OnInit {\r\n  datePicker: DatePickerInnerComponent;\r\n  title: string;\r\n  rows: any[] = [];\r\n\r\n  constructor(datePicker: DatePickerInnerComponent) {\r\n    this.datePicker = datePicker;\r\n  }\r\n\r\n  get isBs4(): boolean {\r\n    return !isBs3();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const self = this;\r\n\r\n    this.datePicker.stepYear = { years: this.datePicker.yearRange };\r\n\r\n    this.datePicker.setRefreshViewHandler(function(): void {\r\n      const years: any[] = new Array(this.yearRange);\r\n      let date: Date;\r\n      const start = self.getStartingYear(this.activeDate.getFullYear());\r\n\r\n      for (let i = 0; i < this.yearRange; i++) {\r\n        date = new Date(start + i, 0, 1);\r\n        date = this.fixTimeZone(date);\r\n        years[i] = this.createDateObject(date, this.formatYear);\r\n        years[i].uid = this.uniqueId + '-' + i;\r\n      }\r\n\r\n      self.title = [years[0].label, years[this.yearRange - 1].label].join(\r\n        ' - '\r\n      );\r\n      self.rows = this.split(years, self.datePicker.yearColLimit);\r\n    }, 'year');\r\n\r\n    this.datePicker.setCompareHandler(function(\r\n      date1: Date,\r\n      date2: Date\r\n    ): number {\r\n      return date1.getFullYear() - date2.getFullYear();\r\n    }, 'year');\r\n\r\n    this.datePicker.refreshView();\r\n  }\r\n\r\n  protected getStartingYear(year: number): number {\r\n    // todo: parseInt\r\n    return (\r\n      (year - 1) / this.datePicker.yearRange * this.datePicker.yearRange + 1\r\n    );\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\nimport { DatePickerComponent } from './datepicker.component';\r\nimport { DatepickerConfig } from './datepicker.config';\r\nimport { DayPickerComponent } from './daypicker.component';\r\nimport { MonthPickerComponent } from './monthpicker.component';\r\nimport { YearPickerComponent } from './yearpicker.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule],\r\n  declarations: [\r\n    DatePickerComponent,\r\n    DatePickerInnerComponent,\r\n    DayPickerComponent,\r\n    MonthPickerComponent,\r\n    YearPickerComponent\r\n  ],\r\n  exports: [\r\n    DatePickerComponent,\r\n    DatePickerInnerComponent,\r\n    DayPickerComponent,\r\n    MonthPickerComponent,\r\n    YearPickerComponent\r\n  ],\r\n  entryComponents: [DatePickerComponent]\r\n})\r\nexport class DatepickerModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: DatepickerModule, providers: [DatepickerConfig] };\r\n  }\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\n\r\nexport class Trigger {\r\n  open: string;\r\n  close?: string;\r\n\r\n  constructor(open: string, close?: string) {\r\n    this.open = open;\r\n    this.close = close || open;\r\n  }\r\n\r\n  isManual(): boolean {\r\n    return this.open === 'manual' || this.close === 'manual';\r\n  }\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\nimport { Renderer2 } from '@angular/core';\r\nimport { Trigger } from './trigger.class';\r\nimport {\r\n  BsEventCallback, ListenOptions\r\n} from '../component-loader/listen-options.model';\r\n\r\nconst DEFAULT_ALIASES = {\r\n  hover: ['mouseover', 'mouseout'],\r\n  focus: ['focusin', 'focusout']\r\n};\r\n\r\nexport function parseTriggers(triggers: string, aliases: any = DEFAULT_ALIASES): Trigger[] {\r\n  const trimmedTriggers = (triggers || '').trim();\r\n\r\n  if (trimmedTriggers.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  const parsedTriggers = trimmedTriggers\r\n    .split(/\\s+/)\r\n    .map((trigger: string) => trigger.split(':'))\r\n    .map((triggerPair: string[]) => {\r\n      const alias = aliases[triggerPair[0]] || triggerPair;\r\n\r\n      return new Trigger(alias[0], alias[1]);\r\n    });\r\n\r\n  const manualTriggers = parsedTriggers.filter((triggerPair: Trigger) =>\r\n    triggerPair.isManual()\r\n  );\r\n\r\n  if (manualTriggers.length > 1) {\r\n    throw new Error('Triggers parse error: only one manual trigger is allowed');\r\n  }\r\n\r\n  if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\r\n    throw new Error('Triggers parse error: manual trigger can\\'t be mixed with other triggers');\r\n  }\r\n\r\n  return parsedTriggers;\r\n}\r\n\r\nexport function listenToTriggers(renderer: Renderer2,\r\n                                 target: any,\r\n                                 triggers: string,\r\n                                 showFn: BsEventCallback,\r\n                                 hideFn: BsEventCallback,\r\n                                 toggleFn: BsEventCallback): Function {\r\n  const parsedTriggers = parseTriggers(triggers);\r\n  const listeners: any[] = [];\r\n\r\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  parsedTriggers.forEach((trigger: Trigger) => {\r\n    if (trigger.open === trigger.close) {\r\n      listeners.push(renderer.listen(target, trigger.open, toggleFn));\r\n\r\n      return;\r\n    }\r\n\r\n    listeners.push(\r\n      renderer.listen(target, trigger.open, showFn),\r\n      renderer.listen(target, trigger.close, hideFn)\r\n    );\r\n  });\r\n\r\n  return () => {\r\n    listeners.forEach((unsubscribeFn: Function) => unsubscribeFn());\r\n  };\r\n}\r\n\r\nexport function listenToTriggersV2(renderer: Renderer2,\r\n                                   options: ListenOptions): Function {\r\n  const parsedTriggers = parseTriggers(options.triggers);\r\n  const target = options.target;\r\n  // do nothing\r\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  // all listeners\r\n  const listeners: any[] = [];\r\n\r\n  // lazy listeners registration\r\n  const _registerHide: Function[] = [];\r\n  const registerHide = () => {\r\n    // add hide listeners to unregister array\r\n    _registerHide.forEach((fn: Function) => listeners.push(fn()));\r\n    // register hide events only once\r\n    _registerHide.length = 0;\r\n  };\r\n\r\n  // register open\\close\\toggle listeners\r\n  parsedTriggers.forEach((trigger: Trigger) => {\r\n    const useToggle = trigger.open === trigger.close;\r\n    const showFn = useToggle ? options.toggle : options.show;\r\n\r\n    if (!useToggle) {\r\n      _registerHide.push(() =>\r\n        renderer.listen(target, trigger.close, options.hide)\r\n      );\r\n    }\r\n\r\n    listeners.push(\r\n      renderer.listen(target, trigger.open, () => showFn(registerHide))\r\n    );\r\n  });\r\n\r\n  return () => {\r\n    listeners.forEach((unsubscribeFn: Function) => unsubscribeFn());\r\n  };\r\n}\r\n\r\nexport function registerOutsideClick(renderer: Renderer2,\r\n                                     options: ListenOptions) {\r\n  if (!options.outsideClick) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  return renderer.listen('document', 'click', (event: any) => {\r\n    if (options.target && options.target.contains(event.target)) {\r\n      return;\r\n    }\r\n    if (\r\n      options.targets &&\r\n      options.targets.some(target => target.contains(event.target))\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    options.hide();\r\n  });\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\n\r\nimport { ComponentRef, ViewRef } from '@angular/core';\r\n\r\nexport class ContentRef {\r\n  nodes: any[];\r\n  viewRef?: ViewRef;\r\n  componentRef?: ComponentRef<any>;\r\n\r\n  constructor(\r\n    nodes: any[],\r\n    viewRef?: ViewRef,\r\n    componentRef?: ComponentRef<any>\r\n  ) {\r\n    this.nodes = nodes;\r\n    this.viewRef = viewRef;\r\n    this.componentRef = componentRef;\r\n  }\r\n}\r\n","// tslint:disable:max-file-line-count\r\n// todo: add delay support\r\n// todo: merge events onShow, onShown, etc...\r\n// todo: add global positioning configuration?\r\nimport {\r\n  ApplicationRef,\r\n  ComponentFactory,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  ElementRef,\r\n  EmbeddedViewRef,\r\n  EventEmitter,\r\n  Injector,\r\n  NgZone,\r\n  Provider,\r\n  ReflectiveInjector,\r\n  Renderer2,\r\n  TemplateRef,\r\n  Type,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { PositioningOptions, PositioningService } from '../positioning/index';\r\nimport { listenToTriggersV2, registerOutsideClick } from '../utils/triggers';\r\nimport { ContentRef } from './content-ref.class';\r\nimport { ListenOptions } from './listen-options.model';\r\n\r\nexport class ComponentLoader<T> {\r\n  onBeforeShow: EventEmitter<any> = new EventEmitter();\r\n  onShown: EventEmitter<any> = new EventEmitter();\r\n  onBeforeHide: EventEmitter<any> = new EventEmitter();\r\n  onHidden: EventEmitter<any> = new EventEmitter();\r\n\r\n  instance: T;\r\n  _componentRef: ComponentRef<T>;\r\n  _inlineViewRef: EmbeddedViewRef<T>;\r\n\r\n  private _providers: Provider[] = [];\r\n  private _componentFactory: ComponentFactory<T>;\r\n  private _zoneSubscription: any;\r\n  private _contentRef: ContentRef;\r\n  private _innerComponent: ComponentRef<T>;\r\n\r\n  private _unregisterListenersFn: Function;\r\n\r\n  get isShown(): boolean {\r\n    if (this._isHiding) {\r\n      return false;\r\n    }\r\n\r\n    return !!this._componentRef;\r\n  }\r\n\r\n  private _isHiding = false;\r\n\r\n  /**\r\n   * Placement of a component. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  private attachment: string;\r\n\r\n  /**\r\n   * A selector specifying the element the popover should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  private container: string | ElementRef | any;\r\n\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  private triggers: string;\r\n\r\n  private _listenOpts: ListenOptions = {};\r\n  private _globalListener = Function.prototype;\r\n\r\n  /**\r\n   * Do not use this directly, it should be instanced via\r\n   * `ComponentLoadFactory.attach`\r\n   * @internal\r\n   */\r\n  // tslint:disable-next-line\r\n  public constructor(\r\n    private _viewContainerRef: ViewContainerRef,\r\n    private _renderer: Renderer2,\r\n    private _elementRef: ElementRef,\r\n    private _injector: Injector,\r\n    private _componentFactoryResolver: ComponentFactoryResolver,\r\n    private _ngZone: NgZone,\r\n    private _applicationRef: ApplicationRef,\r\n    private _posService: PositioningService\r\n  ) {}\r\n\r\n  attach(compType: Type<T>): ComponentLoader<T> {\r\n    this._componentFactory = this._componentFactoryResolver\r\n      .resolveComponentFactory<T>(compType);\r\n\r\n    return this;\r\n  }\r\n\r\n  // todo: add behaviour: to target element, `body`, custom element\r\n  to(container?: string): ComponentLoader<T> {\r\n    this.container = container || this.container;\r\n\r\n    return this;\r\n  }\r\n\r\n  position(opts?: PositioningOptions): ComponentLoader<T> {\r\n    this.attachment = opts.attachment || this.attachment;\r\n    this._elementRef = (opts.target as ElementRef) || this._elementRef;\r\n\r\n    return this;\r\n  }\r\n\r\n  provide(provider: Provider): ComponentLoader<T> {\r\n    this._providers.push(provider);\r\n\r\n    return this;\r\n  }\r\n\r\n  // todo: appendChild to element or document.querySelector(this.container)\r\n\r\n  show(opts: {\r\n    content?: string | TemplateRef<any>;\r\n    context?: any;\r\n    initialState?: any; [key: string]: any;\r\n  } = {}\r\n  ): ComponentRef<T> {\r\n\r\n    this._subscribePositioning();\r\n    this._innerComponent = null;\r\n\r\n    if (!this._componentRef) {\r\n      this.onBeforeShow.emit();\r\n      this._contentRef = this._getContentRef(opts.content, opts.context, opts.initialState);\r\n      const injector = ReflectiveInjector.resolveAndCreate(this._providers, this._injector);\r\n\r\n      this._componentRef = this._componentFactory.create(injector, this._contentRef.nodes);\r\n      this._applicationRef.attachView(this._componentRef.hostView);\r\n      // this._componentRef = this._viewContainerRef\r\n      //   .createComponent(this._componentFactory, 0, injector, this._contentRef.nodes);\r\n      this.instance = this._componentRef.instance;\r\n\r\n      Object.assign(this._componentRef.instance, opts);\r\n\r\n      if (this.container instanceof ElementRef) {\r\n        this.container.nativeElement.appendChild(\r\n          this._componentRef.location.nativeElement\r\n        );\r\n      }\r\n\r\n      if (this.container === 'body' && typeof document !== 'undefined') {\r\n        document\r\n          .querySelector(this.container as string)\r\n          .appendChild(this._componentRef.location.nativeElement);\r\n      }\r\n\r\n      if (\r\n        !this.container &&\r\n        this._elementRef &&\r\n        this._elementRef.nativeElement.parentElement\r\n      ) {\r\n        this._elementRef.nativeElement.parentElement.appendChild(\r\n          this._componentRef.location.nativeElement\r\n        );\r\n      }\r\n\r\n      // we need to manually invoke change detection since events registered\r\n      // via\r\n      // Renderer::listen() are not picked up by change detection with the\r\n      // OnPush strategy\r\n      if (this._contentRef.componentRef) {\r\n        this._innerComponent = this._contentRef.componentRef.instance;\r\n        this._contentRef.componentRef.changeDetectorRef.markForCheck();\r\n        this._contentRef.componentRef.changeDetectorRef.detectChanges();\r\n      }\r\n      this._componentRef.changeDetectorRef.markForCheck();\r\n      this._componentRef.changeDetectorRef.detectChanges();\r\n      this.onShown.emit(this._componentRef.instance);\r\n    }\r\n\r\n    this._registerOutsideClick();\r\n\r\n    return this._componentRef;\r\n  }\r\n\r\n  hide(): ComponentLoader<T> {\r\n    if (!this._componentRef) {\r\n      return this;\r\n    }\r\n\r\n    this.onBeforeHide.emit(this._componentRef.instance);\r\n\r\n    const componentEl = this._componentRef.location.nativeElement;\r\n    componentEl.parentNode.removeChild(componentEl);\r\n    if (this._contentRef.componentRef) {\r\n      this._contentRef.componentRef.destroy();\r\n    }\r\n    this._componentRef.destroy();\r\n    if (this._viewContainerRef && this._contentRef.viewRef) {\r\n      this._viewContainerRef.remove(\r\n        this._viewContainerRef.indexOf(this._contentRef.viewRef)\r\n      );\r\n    }\r\n    if (this._contentRef.viewRef) {\r\n      this._contentRef.viewRef.destroy();\r\n    }\r\n    // this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._componentRef.hostView));\r\n    //\r\n    // if (this._contentRef.viewRef && this._viewContainerRef.indexOf(this._contentRef.viewRef) !== -1) {\r\n    //   this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\r\n    // }\r\n\r\n    this._contentRef = null;\r\n    this._componentRef = null;\r\n    this._removeGlobalListener();\r\n\r\n    this.onHidden.emit();\r\n\r\n    return this;\r\n  }\r\n\r\n  toggle(): void {\r\n    if (this.isShown) {\r\n      this.hide();\r\n\r\n      return;\r\n    }\r\n\r\n    this.show();\r\n  }\r\n\r\n  dispose(): void {\r\n    if (this.isShown) {\r\n      this.hide();\r\n    }\r\n\r\n    this._unsubscribePositioning();\r\n\r\n    if (this._unregisterListenersFn) {\r\n      this._unregisterListenersFn();\r\n    }\r\n  }\r\n\r\n  listen(listenOpts: ListenOptions): ComponentLoader<T> {\r\n    this.triggers = listenOpts.triggers || this.triggers;\r\n    this._listenOpts.outsideClick = listenOpts.outsideClick;\r\n    listenOpts.target = listenOpts.target || this._elementRef.nativeElement;\r\n\r\n    const hide = (this._listenOpts.hide = () =>\r\n      listenOpts.hide ? listenOpts.hide() : void this.hide());\r\n    const show = (this._listenOpts.show = (registerHide: Function) => {\r\n      listenOpts.show ? listenOpts.show(registerHide) : this.show(registerHide);\r\n      registerHide();\r\n    });\r\n\r\n    const toggle = (registerHide: Function) => {\r\n      this.isShown ? hide() : show(registerHide);\r\n    };\r\n\r\n    this._unregisterListenersFn = listenToTriggersV2(this._renderer, {\r\n      target: listenOpts.target,\r\n      triggers: listenOpts.triggers,\r\n      show,\r\n      hide,\r\n      toggle\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  _removeGlobalListener() {\r\n    if (this._globalListener) {\r\n      this._globalListener();\r\n      this._globalListener = null;\r\n    }\r\n  }\r\n\r\n  attachInline(\r\n    vRef: ViewContainerRef,\r\n    template: TemplateRef<any>\r\n  ): ComponentLoader<T> {\r\n    this._inlineViewRef = vRef.createEmbeddedView(template);\r\n\r\n    return this;\r\n  }\r\n\r\n  _registerOutsideClick(): void {\r\n    if (!this._componentRef || !this._componentRef.location) {\r\n      return;\r\n    }\r\n    // why: should run after first event bubble\r\n    if (this._listenOpts.outsideClick) {\r\n      const target = this._componentRef.location.nativeElement;\r\n      setTimeout(() => {\r\n        this._globalListener = registerOutsideClick(this._renderer, {\r\n          targets: [target, this._elementRef.nativeElement],\r\n          outsideClick: this._listenOpts.outsideClick,\r\n          hide: () => this._listenOpts.hide()\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  getInnerComponent(): ComponentRef<T> {\r\n    return this._innerComponent;\r\n  }\r\n\r\n  private _subscribePositioning(): void {\r\n    if (this._zoneSubscription || !this.attachment) {\r\n      return;\r\n    }\r\n\r\n    this._zoneSubscription = this._ngZone.onStable.subscribe(() => {\r\n      if (!this._componentRef) {\r\n        return;\r\n      }\r\n      this._posService.position({\r\n        element: this._componentRef.location,\r\n        target: this._elementRef,\r\n        attachment: this.attachment,\r\n        appendToBody: this.container === 'body'\r\n      });\r\n    });\r\n  }\r\n\r\n  private _unsubscribePositioning(): void {\r\n    if (!this._zoneSubscription) {\r\n      return;\r\n    }\r\n    this._zoneSubscription.unsubscribe();\r\n    this._zoneSubscription = null;\r\n  }\r\n\r\n  private _getContentRef(\r\n    content: string | TemplateRef<any> | any,\r\n    context?: any,\r\n    initialState?: any\r\n  ): ContentRef {\r\n    if (!content) {\r\n      return new ContentRef([]);\r\n    }\r\n\r\n    if (content instanceof TemplateRef) {\r\n      if (this._viewContainerRef) {\r\n        const _viewRef = this._viewContainerRef\r\n          .createEmbeddedView<TemplateRef<T>>(content, context);\r\n        _viewRef.markForCheck();\r\n\r\n        return new ContentRef([_viewRef.rootNodes], _viewRef);\r\n      }\r\n      const viewRef = content.createEmbeddedView({});\r\n      this._applicationRef.attachView(viewRef);\r\n\r\n      return new ContentRef([viewRef.rootNodes], viewRef);\r\n    }\r\n\r\n    if (typeof content === 'function') {\r\n      const contentCmptFactory = this._componentFactoryResolver.resolveComponentFactory(\r\n        content\r\n      );\r\n      const modalContentInjector = ReflectiveInjector.resolveAndCreate(\r\n        [...this._providers],\r\n        this._injector\r\n      );\r\n      const componentRef = contentCmptFactory.create(modalContentInjector);\r\n      Object.assign(componentRef.instance, initialState);\r\n      this._applicationRef.attachView(componentRef.hostView);\r\n\r\n      return new ContentRef(\r\n        [[componentRef.location.nativeElement]],\r\n        componentRef.hostView,\r\n        componentRef\r\n      );\r\n    }\r\n\r\n    return new ContentRef([[this._renderer.createText(`${content}`)]]);\r\n  }\r\n}\r\n","import {\r\n  ApplicationRef, ComponentFactoryResolver, ElementRef, Injectable, Injector,\r\n  NgZone, Renderer2, ViewContainerRef\r\n} from '@angular/core';\r\nimport { ComponentLoader } from './component-loader.class';\r\nimport { PositioningService } from '../positioning/index';\r\n\r\n@Injectable()\r\nexport class ComponentLoaderFactory {\r\n  constructor(private _componentFactoryResolver: ComponentFactoryResolver,\r\n              private _ngZone: NgZone,\r\n              private _injector: Injector,\r\n              private _posService: PositioningService,\r\n              private _applicationRef: ApplicationRef) {}\r\n\r\n  /**\r\n   *\r\n   * @param _elementRef\r\n   * @param _viewContainerRef\r\n   * @param _renderer\r\n   * @returns {ComponentLoader}\r\n   */\r\n  createLoader<T>(_elementRef: ElementRef,\r\n                  _viewContainerRef: ViewContainerRef,\r\n                  _renderer: Renderer2): ComponentLoader<T> {\r\n    return new ComponentLoader<T>(\r\n      _viewContainerRef,\r\n      _renderer,\r\n      _elementRef,\r\n      this._injector,\r\n      this._componentFactoryResolver,\r\n      this._ngZone,\r\n      this._applicationRef,\r\n      this._posService\r\n    );\r\n  }\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\n\r\n// previous version:\r\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\r\n// tslint:disable\r\nexport class Positioning {\r\n  public position(element: HTMLElement, round = true): ClientRect {\r\n    let elPosition: ClientRect;\r\n    let parentOffset: ClientRect = {\r\n      width: 0,\r\n      height: 0,\r\n      top: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0\r\n    };\r\n\r\n    if (this.getStyle(element, 'position') === 'fixed') {\r\n      const bcRect = element.getBoundingClientRect();\r\n      elPosition = {\r\n        width: bcRect.width,\r\n        height: bcRect.height,\r\n        top: bcRect.top,\r\n        bottom: bcRect.bottom,\r\n        left: bcRect.left,\r\n        right: bcRect.right\r\n      };\r\n    } else {\r\n      const offsetParentEl = this.offsetParent(element);\r\n\r\n      elPosition = this.offset(element, false);\r\n\r\n      if (offsetParentEl !== document.documentElement) {\r\n        parentOffset = this.offset(offsetParentEl, false);\r\n      }\r\n\r\n      parentOffset.top += offsetParentEl.clientTop;\r\n      parentOffset.left += offsetParentEl.clientLeft;\r\n    }\r\n\r\n    elPosition.top -= parentOffset.top;\r\n    elPosition.bottom -= parentOffset.top;\r\n    elPosition.left -= parentOffset.left;\r\n    elPosition.right -= parentOffset.left;\r\n\r\n    if (round) {\r\n      elPosition.top = Math.round(elPosition.top);\r\n      elPosition.bottom = Math.round(elPosition.bottom);\r\n      elPosition.left = Math.round(elPosition.left);\r\n      elPosition.right = Math.round(elPosition.right);\r\n    }\r\n\r\n    return elPosition;\r\n  }\r\n\r\n  public offset(element: HTMLElement, round = true): ClientRect {\r\n    const elBcr = element.getBoundingClientRect();\r\n    const viewportOffset = {\r\n      top: window.pageYOffset - document.documentElement.clientTop,\r\n      left: window.pageXOffset - document.documentElement.clientLeft\r\n    };\r\n\r\n    let elOffset = {\r\n      height: elBcr.height || element.offsetHeight,\r\n      width: elBcr.width || element.offsetWidth,\r\n      top: elBcr.top + viewportOffset.top,\r\n      bottom: elBcr.bottom + viewportOffset.top,\r\n      left: elBcr.left + viewportOffset.left,\r\n      right: elBcr.right + viewportOffset.left\r\n    };\r\n\r\n    if (round) {\r\n      elOffset.height = Math.round(elOffset.height);\r\n      elOffset.width = Math.round(elOffset.width);\r\n      elOffset.top = Math.round(elOffset.top);\r\n      elOffset.bottom = Math.round(elOffset.bottom);\r\n      elOffset.left = Math.round(elOffset.left);\r\n      elOffset.right = Math.round(elOffset.right);\r\n    }\r\n\r\n    return elOffset;\r\n  }\r\n\r\n  public positionElements(\r\n    hostElement: HTMLElement,\r\n    targetElement: HTMLElement,\r\n    placement: string,\r\n    appendToBody?: boolean\r\n  ): ClientRect {\r\n    const hostElPosition = appendToBody\r\n      ? this.offset(hostElement, false)\r\n      : this.position(hostElement, false);\r\n    const targetElStyles = this.getAllStyles(targetElement);\r\n    const shiftWidth: any = {\r\n      left: hostElPosition.left,\r\n      center:\r\n        hostElPosition.left +\r\n        hostElPosition.width / 2 -\r\n        targetElement.offsetWidth / 2,\r\n      right: hostElPosition.left + hostElPosition.width\r\n    };\r\n    const shiftHeight: any = {\r\n      top: hostElPosition.top,\r\n      center:\r\n        hostElPosition.top +\r\n        hostElPosition.height / 2 -\r\n        targetElement.offsetHeight / 2,\r\n      bottom: hostElPosition.top + hostElPosition.height\r\n    };\r\n    const targetElBCR = targetElement.getBoundingClientRect();\r\n    let placementPrimary = placement.split(' ')[0] || 'top';\r\n    const placementSecondary = placement.split(' ')[1] || 'center';\r\n\r\n    let targetElPosition: ClientRect = {\r\n      height: targetElBCR.height || targetElement.offsetHeight,\r\n      width: targetElBCR.width || targetElement.offsetWidth,\r\n      top: 0,\r\n      bottom: targetElBCR.height || targetElement.offsetHeight,\r\n      left: 0,\r\n      right: targetElBCR.width || targetElement.offsetWidth\r\n    };\r\n\r\n    if (placementPrimary === 'auto') {\r\n      let newPlacementPrimary = this.autoPosition(\r\n        targetElPosition,\r\n        hostElPosition,\r\n        targetElement,\r\n        placementSecondary\r\n      );\r\n      if (!newPlacementPrimary)\r\n        newPlacementPrimary = this.autoPosition(\r\n          targetElPosition,\r\n          hostElPosition,\r\n          targetElement\r\n        );\r\n      if (newPlacementPrimary) placementPrimary = newPlacementPrimary;\r\n      targetElement.classList.add(placementPrimary);\r\n    }\r\n\r\n    switch (placementPrimary) {\r\n      case 'top':\r\n        targetElPosition.top =\r\n          hostElPosition.top -\r\n          (targetElement.offsetHeight +\r\n            parseFloat(targetElStyles.marginBottom));\r\n        targetElPosition.bottom +=\r\n          hostElPosition.top - targetElement.offsetHeight;\r\n        targetElPosition.left = shiftWidth[placementSecondary];\r\n        targetElPosition.right += shiftWidth[placementSecondary];\r\n        break;\r\n      case 'bottom':\r\n        targetElPosition.top = shiftHeight[placementPrimary];\r\n        targetElPosition.bottom += shiftHeight[placementPrimary];\r\n        targetElPosition.left = shiftWidth[placementSecondary];\r\n        targetElPosition.right += shiftWidth[placementSecondary];\r\n        break;\r\n      case 'left':\r\n        targetElPosition.top = shiftHeight[placementSecondary];\r\n        targetElPosition.bottom += shiftHeight[placementSecondary];\r\n        targetElPosition.left =\r\n          hostElPosition.left -\r\n          (targetElement.offsetWidth + parseFloat(targetElStyles.marginRight));\r\n        targetElPosition.right +=\r\n          hostElPosition.left - targetElement.offsetWidth;\r\n        break;\r\n      case 'right':\r\n        targetElPosition.top = shiftHeight[placementSecondary];\r\n        targetElPosition.bottom += shiftHeight[placementSecondary];\r\n        targetElPosition.left = shiftWidth[placementPrimary];\r\n        targetElPosition.right += shiftWidth[placementPrimary];\r\n        break;\r\n    }\r\n\r\n    targetElPosition.top = Math.round(targetElPosition.top);\r\n    targetElPosition.bottom = Math.round(targetElPosition.bottom);\r\n    targetElPosition.left = Math.round(targetElPosition.left);\r\n    targetElPosition.right = Math.round(targetElPosition.right);\r\n\r\n    return targetElPosition;\r\n  }\r\n\r\n  private autoPosition(\r\n    targetElPosition: ClientRect,\r\n    hostElPosition: ClientRect,\r\n    targetElement: HTMLElement,\r\n    preferredPosition?: string\r\n  ) {\r\n    if (\r\n      (!preferredPosition || preferredPosition === 'right') &&\r\n      targetElPosition.left + hostElPosition.left - targetElement.offsetWidth <\r\n        0\r\n    ) {\r\n      return 'right';\r\n    } else if (\r\n      (!preferredPosition || preferredPosition === 'top') &&\r\n      targetElPosition.bottom +\r\n        hostElPosition.bottom +\r\n        targetElement.offsetHeight >\r\n        window.innerHeight\r\n    ) {\r\n      return 'top';\r\n    } else if (\r\n      (!preferredPosition || preferredPosition === 'bottom') &&\r\n      targetElPosition.top + hostElPosition.top - targetElement.offsetHeight < 0\r\n    ) {\r\n      return 'bottom';\r\n    } else if (\r\n      (!preferredPosition || preferredPosition === 'left') &&\r\n      targetElPosition.right +\r\n        hostElPosition.right +\r\n        targetElement.offsetWidth >\r\n        window.innerWidth\r\n    ) {\r\n      return 'left';\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private getAllStyles(element: HTMLElement) {\r\n    return window.getComputedStyle(element);\r\n  }\r\n\r\n  private getStyle(element: HTMLElement, prop: string): string {\r\n    return (this.getAllStyles(element) as any)[prop];\r\n  }\r\n\r\n  private isStaticPositioned(element: HTMLElement): boolean {\r\n    return (this.getStyle(element, 'position') || 'static') === 'static';\r\n  }\r\n\r\n  private offsetParent(element: HTMLElement): HTMLElement {\r\n    let offsetParentEl =\r\n      <HTMLElement>element.offsetParent || document.documentElement;\r\n\r\n    while (\r\n      offsetParentEl &&\r\n      offsetParentEl !== document.documentElement &&\r\n      this.isStaticPositioned(offsetParentEl)\r\n    ) {\r\n      offsetParentEl = <HTMLElement>offsetParentEl.offsetParent;\r\n    }\r\n\r\n    return offsetParentEl || document.documentElement;\r\n  }\r\n}\r\n\r\nconst positionService = new Positioning();\r\n\r\nexport function positionElements(\r\n  hostElement: HTMLElement,\r\n  targetElement: HTMLElement,\r\n  placement: string,\r\n  appendToBody?: boolean\r\n): void {\r\n  const pos = positionService.positionElements(\r\n    hostElement,\r\n    targetElement,\r\n    placement,\r\n    appendToBody\r\n  );\r\n\r\n  targetElement.style.top = `${pos.top}px`;\r\n  targetElement.style.left = `${pos.left}px`;\r\n}\r\n","import { Injectable, ElementRef } from '@angular/core';\r\nimport { positionElements } from './ng-positioning';\r\n\r\nexport interface PositioningOptions {\r\n  /** The DOM element, ElementRef, or a selector string of an element which will be moved */\r\n  element?: HTMLElement | ElementRef | string;\r\n\r\n  /** The DOM element, ElementRef, or a selector string of an element which the element will be attached to  */\r\n  target?: HTMLElement | ElementRef | string;\r\n\r\n  /**\r\n   * A string of the form 'vert-attachment horiz-attachment' or 'placement'\r\n   * - placement can be \"top\", \"bottom\", \"left\", \"right\"\r\n   * not yet supported:\r\n   * - vert-attachment can be any of 'top', 'middle', 'bottom'\r\n   * - horiz-attachment can be any of 'left', 'center', 'right'\r\n   */\r\n  attachment?: string;\r\n\r\n  /** A string similar to `attachment`. The one difference is that, if it's not provided,\r\n   * `targetAttachment` will assume the mirror image of `attachment`.\r\n   */\r\n  targetAttachment?: string;\r\n\r\n  /** A string of the form 'vert-offset horiz-offset'\r\n   * - vert-offset and horiz-offset can be of the form \"20px\" or \"55%\"\r\n   */\r\n  offset?: string;\r\n\r\n  /** A string similar to `offset`, but referring to the offset of the target */\r\n  targetOffset?: string;\r\n\r\n  /** If true component will be attached to body */\r\n  appendToBody?: boolean;\r\n}\r\n\r\n@Injectable()\r\nexport class PositioningService {\r\n  position(options: PositioningOptions): void {\r\n    const {element, target, attachment, appendToBody} = options;\r\n    positionElements(\r\n      _getHtmlElement(target),\r\n      _getHtmlElement(element),\r\n      attachment,\r\n      appendToBody\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction _getHtmlElement(element: HTMLElement | ElementRef | string): HTMLElement {\r\n  // it means that we got a selector\r\n  if (typeof element === 'string') {\r\n    return document.querySelector(element) as HTMLElement;\r\n  }\r\n\r\n  if (element instanceof ElementRef) {\r\n    return element.nativeElement;\r\n  }\r\n\r\n  return element as HTMLElement;\r\n}\r\n","import { isDevMode } from '@angular/core';\r\nconst _messagesHash: { [key: string]: boolean } = {};\r\nconst _hideMsg = typeof console === 'undefined' || !('warn' in console);\r\n\r\nexport function warnOnce(msg: string): void {\r\n  if (!isDevMode() || _hideMsg || msg in _messagesHash) {\r\n    return;\r\n  }\r\n\r\n  _messagesHash[msg] = true;\r\n  /*tslint:disable-next-line*/\r\n  console.warn(msg);\r\n}\r\n","import { ChangeDetectorRef, Directive, ElementRef, forwardRef, Host, Renderer2 } from '@angular/core';\r\nimport {\r\n  AbstractControl, ControlValueAccessor, NG_VALIDATORS, NG_VALUE_ACCESSOR, ValidationErrors,\r\n  Validator\r\n} from '@angular/forms';\r\nimport { parseDate } from '../chronos/create/local';\r\nimport { formatDate } from '../chronos/format';\r\nimport { getLocale } from '../chronos/locale/locales';\r\nimport { isAfter, isBefore } from '../chronos/utils/date-compare';\r\nimport { isDate, isDateValid } from '../chronos/utils/type-checks';\r\nimport { BsDatepickerDirective } from './bs-datepicker.component';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\nimport { BsLocaleService } from './bs-locale.service';\r\n\r\nconst BS_DATEPICKER_VALUE_ACCESSOR = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  // tslint:disable-next-line\r\n  useExisting: forwardRef(() => BsDatepickerInputDirective),\r\n  multi: true\r\n};\r\n\r\nconst BS_DATEPICKER_VALIDATOR = {\r\n  provide: NG_VALIDATORS,\r\n  useExisting: forwardRef(() => BsDatepickerInputDirective),\r\n  multi: true\r\n};\r\n\r\n@Directive({\r\n  selector: `input[bsDatepicker]`,\r\n  host: {\r\n    '(change)': 'onChange($event)',\r\n    '(keyup.esc)': 'hide()',\r\n    '(blur)': 'onBlur()'\r\n  },\r\n  providers: [BS_DATEPICKER_VALUE_ACCESSOR, BS_DATEPICKER_VALIDATOR]\r\n})\r\nexport class BsDatepickerInputDirective\r\n  implements ControlValueAccessor, Validator {\r\n  private _onChange = Function.prototype;\r\n  private _onTouched = Function.prototype;\r\n  private _validatorChange = Function.prototype;\r\n  private _value: Date;\r\n\r\n  constructor(@Host() private _picker: BsDatepickerDirective,\r\n              private _localeService: BsLocaleService,\r\n              private _renderer: Renderer2,\r\n              private _elRef: ElementRef,\r\n              private changeDetection: ChangeDetectorRef) {\r\n    // update input value on datepicker value update\r\n    this._picker.bsValueChange.subscribe((value: Date) => {\r\n      this._setInputValue(value);\r\n      if (this._value !== value) {\r\n        this._value = value;\r\n        this._onChange(value);\r\n        this._onTouched();\r\n      }\r\n      this.changeDetection.markForCheck();\r\n    });\r\n\r\n    // update input value on locale change\r\n    this._localeService.localeChange.subscribe(() => {\r\n      this._setInputValue(this._value);\r\n    });\r\n  }\r\n\r\n  _setInputValue(value: Date): void {\r\n    const initialDate = !value ? ''\r\n      : formatDate(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);\r\n\r\n    this._renderer.setProperty(this._elRef.nativeElement, 'value', initialDate);\r\n  }\r\n\r\n  onChange(event: any) {\r\n    this.writeValue(event.target.value);\r\n    this._onChange(this._value);\r\n    this._onTouched();\r\n  }\r\n\r\n  validate(c: AbstractControl): ValidationErrors | null {\r\n    const _value: Date | string = c.value;\r\n\r\n    if (_value === null || _value === undefined || _value === '') {\r\n      return null;\r\n    }\r\n\r\n    if (isDate(_value)) {\r\n      const _isDateValid = isDateValid(_value);\r\n      if (!_isDateValid) {\r\n        return { bsDate: { invalid: _value } };\r\n      }\r\n\r\n      if (this._picker && this._picker.minDate && isBefore(_value, this._picker.minDate, 'date')) {\r\n        return { bsDate: { minDate: this._picker.minDate } };\r\n      }\r\n\r\n      if (this._picker && this._picker.maxDate && isAfter(_value, this._picker.maxDate, 'date')) {\r\n        return { bsDate: { maxDate: this._picker.maxDate } };\r\n      }\r\n    }\r\n  }\r\n\r\n  registerOnValidatorChange(fn: () => void): void {\r\n    this._validatorChange = fn;\r\n  }\r\n\r\n  writeValue(value: Date | string) {\r\n    if (!value) {\r\n      this._value = null;\r\n    } else {\r\n      const _localeKey = this._localeService.currentLocale;\r\n      const _locale = getLocale(_localeKey);\r\n      if (!_locale) {\r\n        throw new Error(\r\n          `Locale \"${_localeKey}\" is not defined, please add it with \"defineLocale(...)\"`\r\n        );\r\n      }\r\n      this._value = parseDate(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);\r\n    }\r\n\r\n    this._picker.bsValue = this._value;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this._picker.isDisabled = isDisabled;\r\n    if (isDisabled) {\r\n      this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');\r\n\r\n      return;\r\n    }\r\n    this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');\r\n  }\r\n\r\n  registerOnChange(fn: (value: any) => any): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => any): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  onBlur() {\r\n    this._onTouched();\r\n  }\r\n\r\n  hide() {\r\n    this._picker.hide();\r\n  }\r\n}\r\n","// datepicker container component\r\n/* tslint:disable:no-empty */\r\nimport { BsCustomDates } from '../themes/bs/bs-custom-dates-view.component';\r\nimport { BsDatepickerEffects } from '../reducer/bs-datepicker.effects';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationEvent,\r\n  CalendarCellViewModel,\r\n  CellHoverEvent,\r\n  DatepickerRenderOptions,\r\n  DaysCalendarViewModel,\r\n  DayViewModel,\r\n  MonthsCalendarViewModel,\r\n  YearsCalendarViewModel\r\n} from '../models/index';\r\n\r\nexport abstract class BsDatepickerAbstractComponent {\r\n  containerClass: string;\r\n\r\n  _effects: BsDatepickerEffects;\r\n  _customRangesFish: BsCustomDates[] = [];\r\n\r\n  set minDate(value: Date) {\r\n    this._effects.setMinDate(value);\r\n  }\r\n\r\n  set maxDate(value: Date) {\r\n    this._effects.setMaxDate(value);\r\n  }\r\n\r\n  set isDisabled(value: boolean) {\r\n    this._effects.setDisabled(value);\r\n  }\r\n\r\n  viewMode: Observable<BsDatepickerViewMode>;\r\n  daysCalendar: Observable<DaysCalendarViewModel[]>;\r\n  monthsCalendar: Observable<MonthsCalendarViewModel[]>;\r\n  yearsCalendar: Observable<YearsCalendarViewModel[]>;\r\n  options: Observable<DatepickerRenderOptions>;\r\n\r\n  setViewMode(event: BsDatepickerViewMode): void {}\r\n\r\n  navigateTo(event: BsNavigationEvent): void {}\r\n\r\n  dayHoverHandler(event: CellHoverEvent): void {}\r\n\r\n  monthHoverHandler(event: CellHoverEvent): void {}\r\n\r\n  yearHoverHandler(event: CellHoverEvent): void {}\r\n\r\n  daySelectHandler(day: DayViewModel): void {}\r\n\r\n  monthSelectHandler(event: CalendarCellViewModel): void {}\r\n\r\n  yearSelectHandler(event: CalendarCellViewModel): void {}\r\n\r\n  _stopPropagation(event: any): void {\r\n    event.stopPropagation();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { getFullYear, getMonth } from '../../chronos/utils/date-getters';\r\nimport { BsDatepickerAbstractComponent } from '../base/bs-datepicker-container';\r\nimport { BsDatepickerConfig } from '../bs-datepicker.config';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationEvent,\r\n  CalendarCellViewModel,\r\n  CellHoverEvent,\r\n  DatepickerRenderOptions,\r\n  DaysCalendarViewModel,\r\n  DayViewModel,\r\n  MonthsCalendarViewModel,\r\n  YearsCalendarViewModel\r\n} from '../models/index';\r\nimport { BsDatepickerActions } from './bs-datepicker.actions';\r\nimport { BsDatepickerStore } from './bs-datepicker.store';\r\nimport { BsLocaleService } from '../bs-locale.service';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class BsDatepickerEffects {\r\n  viewMode: Observable<BsDatepickerViewMode>;\r\n  daysCalendar: Observable<DaysCalendarViewModel[]>;\r\n  monthsCalendar: Observable<MonthsCalendarViewModel[]>;\r\n  yearsCalendar: Observable<YearsCalendarViewModel[]>;\r\n  options: Observable<DatepickerRenderOptions>;\r\n\r\n  private _store: BsDatepickerStore;\r\n  private _subs: Subscription[] = [];\r\n\r\n  constructor(private _actions: BsDatepickerActions,\r\n              private _localeService: BsLocaleService) {}\r\n\r\n  init(_bsDatepickerStore: BsDatepickerStore): BsDatepickerEffects {\r\n    this._store = _bsDatepickerStore;\r\n\r\n    return this;\r\n  }\r\n\r\n  /** setters */\r\n\r\n  setValue(value: Date): void {\r\n    this._store.dispatch(this._actions.select(value));\r\n  }\r\n\r\n  setRangeValue(value: Date[]): void {\r\n    this._store.dispatch(this._actions.selectRange(value));\r\n  }\r\n\r\n  setMinDate(value: Date): BsDatepickerEffects {\r\n    this._store.dispatch(this._actions.minDate(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  setMaxDate(value: Date): BsDatepickerEffects {\r\n    this._store.dispatch(this._actions.maxDate(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  setDisabled(value: boolean): BsDatepickerEffects {\r\n    this._store.dispatch(this._actions.isDisabled(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  /* Set rendering options */\r\n  setOptions(_config: BsDatepickerConfig): BsDatepickerEffects {\r\n    const _options = Object.assign({locale: this._localeService.currentLocale}, _config);\r\n    this._store.dispatch(this._actions.setOptions(_options));\r\n\r\n    return this;\r\n  }\r\n\r\n  /** view to mode bindings */\r\n  setBindings(container: BsDatepickerAbstractComponent): BsDatepickerEffects {\r\n    container.daysCalendar = this._store\r\n      .select(state => state.flaggedMonths)\r\n      .pipe(\r\n        filter(months => !!months)\r\n      );\r\n\r\n    // month calendar\r\n    container.monthsCalendar = this._store\r\n      .select(state => state.flaggedMonthsCalendar)\r\n      .pipe(\r\n        filter(months => !!months)\r\n      );\r\n\r\n    // year calendar\r\n    container.yearsCalendar = this._store\r\n      .select(state => state.yearsCalendarFlagged)\r\n      .pipe(\r\n        filter(years => !!years)\r\n      );\r\n\r\n    container.viewMode = this._store.select(state => state.view.mode);\r\n\r\n    container.options = this._store\r\n      .select(state => state.showWeekNumbers)\r\n      .pipe(\r\n        map(showWeekNumbers => ({showWeekNumbers}))\r\n      );\r\n\r\n    return this;\r\n  }\r\n\r\n  /** event handlers */\r\n  setEventHandlers(container: BsDatepickerAbstractComponent): BsDatepickerEffects {\r\n    container.setViewMode = (event: BsDatepickerViewMode): void => {\r\n      this._store.dispatch(this._actions.changeViewMode(event));\r\n    };\r\n\r\n    container.navigateTo = (event: BsNavigationEvent): void => {\r\n      this._store.dispatch(this._actions.navigateStep(event.step));\r\n    };\r\n\r\n    container.dayHoverHandler = (event: CellHoverEvent): void => {\r\n      const _cell = event.cell as DayViewModel;\r\n      if (_cell.isOtherMonth || _cell.isDisabled) {\r\n        return;\r\n      }\r\n\r\n      this._store.dispatch(this._actions.hoverDay(event));\r\n      _cell.isHovered = event.isHovered;\r\n    };\r\n\r\n    container.monthHoverHandler = (event: CellHoverEvent): void => {\r\n      event.cell.isHovered = event.isHovered;\r\n    };\r\n\r\n    container.yearHoverHandler = (event: CellHoverEvent): void => {\r\n      event.cell.isHovered = event.isHovered;\r\n    };\r\n\r\n    /** select handlers */\r\n    // container.daySelectHandler = (day: DayViewModel): void => {\r\n    //   if (day.isOtherMonth || day.isDisabled) {\r\n    //     return;\r\n    //   }\r\n    //   this._store.dispatch(this._actions.select(day.date));\r\n    // };\r\n\r\n    container.monthSelectHandler = (event: CalendarCellViewModel): void => {\r\n      if (event.isDisabled) {\r\n        return;\r\n      }\r\n      this._store.dispatch(\r\n        this._actions.navigateTo({\r\n          unit: {month: getMonth(event.date)},\r\n          viewMode: 'day'\r\n        })\r\n      );\r\n    };\r\n\r\n    container.yearSelectHandler = (event: CalendarCellViewModel): void => {\r\n      if (event.isDisabled) {\r\n        return;\r\n      }\r\n      this._store.dispatch(\r\n        this._actions.navigateTo({\r\n          unit: {year: getFullYear(event.date)},\r\n          viewMode: 'month'\r\n        })\r\n      );\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  registerDatepickerSideEffects(): BsDatepickerEffects {\r\n    this._subs.push(\r\n      this._store.select(state => state.view).subscribe(view => {\r\n        this._store.dispatch(this._actions.calculate());\r\n      })\r\n    );\r\n\r\n    // format calendar values on month model change\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.monthsModel)\r\n        .pipe(\r\n          filter(monthModel => !!monthModel)\r\n        )\r\n        .subscribe(month => this._store.dispatch(this._actions.format()))\r\n    );\r\n\r\n    // flag day values\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.formattedMonths)\r\n        .pipe(\r\n          filter(month => !!month)\r\n        )\r\n        .subscribe(month => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // flag day values\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.selectedDate)\r\n        .pipe(\r\n          filter(selectedDate => !!selectedDate)\r\n        )\r\n        .subscribe(selectedDate => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // flag for date range picker\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.selectedRange)\r\n        .pipe(\r\n          filter(selectedRange => !!selectedRange)\r\n        )\r\n        .subscribe(selectedRange => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // monthsCalendar\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.monthsCalendar)\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // years calendar\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.yearsCalendarModel)\r\n        .pipe(\r\n          filter(state => !!state)\r\n        )\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // on hover\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.hoveredDate)\r\n        .pipe(\r\n          filter(hoveredDate => !!hoveredDate)\r\n        )\r\n        .subscribe(hoveredDate => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // on locale change\r\n    this._subs.push(\r\n      this._localeService.localeChange\r\n        .subscribe(locale => this._store.dispatch(this._actions.setLocale(locale)))\r\n    );\r\n\r\n    return this;\r\n  }\r\n\r\n  destroy(): void {\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\n/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\nexport var config = {\n    /**\n     * The promise constructor used by default for methods such as\n     * {@link toPromise} and {@link forEach}\n     */\n    Promise: undefined,\n    /**\n     * If true, turns on synchronous error rethrowing, which is a deprecated behavior\n     * in v6 and higher. This behavior enables bad patterns like wrapping a subscribe\n     * call in a try/catch block. It also enables producer interference, a nasty bug\n     * where a multicast can be broken for all observers by a downstream consumer with\n     * an unhandled error. DO NOT USE THIS FLAG UNLESS IT'S NEEDED TO BY TIME\n     * FOR MIGRATION REASONS.\n     */\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n","/**\n * Throws an error on another job so that it's picked up by the runtime's\n * uncaught error handling mechanism.\n * @param err the error to throw\n */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function hostReportError(err) {\n    setTimeout(function () { throw err; });\n}\n//# sourceMappingURL=hostReportError.js.map\n","/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x != null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","// typeof any so that it we don't have to cast when comparing a result to the error object\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map\n","/** PURE_IMPORTS_START _errorObject PURE_IMPORTS_END */\nimport { errorObject } from './errorObject';\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject.e = e;\n        return errorObject;\n    }\n}\nexport function tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n//# sourceMappingURL=tryCatch.js.map\n","/** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nvar UnsubscriptionError = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        var _this = _super.call(this, errors ?\n            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '') || this;\n        _this.errors = errors;\n        _this.name = 'UnsubscriptionError';\n        Object.setPrototypeOf(_this, UnsubscriptionError.prototype);\n        return _this;\n    }\n    return UnsubscriptionError;\n}(Error));\nexport { UnsubscriptionError };\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_tryCatch,_util_errorObject,_util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { tryCatch } from './util/tryCatch';\nimport { errorObject } from './util/errorObject';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = /*@__PURE__*/ (function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        /** @internal */\n        this._parent = null;\n        /** @internal */\n        this._parents = null;\n        /** @internal */\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parent = null;\n        this._parents = null;\n        // null out _subscriptions first so any child subscriptions that attempt\n        // to remove themselves from this subscription will noop\n        this._subscriptions = null;\n        var index = -1;\n        var len = _parents ? _parents.length : 0;\n        // if this._parent is null, then so is this._parents, and we\n        // don't have to remove ourselves from any parent subscriptions.\n        while (_parent) {\n            _parent.remove(this);\n            // if this._parents is null or index >= len,\n            // then _parent is set to null, and the loop exits\n            _parent = ++index < len && _parents[index] || null;\n        }\n        if (isFunction(_unsubscribe)) {\n            var trial = tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject) {\n                hasErrors = true;\n                errors = errors || (errorObject.e instanceof UnsubscriptionError ?\n                    flattenUnsubscriptionErrors(errorObject.e.errors) : [errorObject.e]);\n            }\n        }\n        if (isArray(_subscriptions)) {\n            index = -1;\n            len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    var trial = tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject.e;\n                        if (err instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var subscription = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        subscriptions.push(subscription);\n        subscription._addParent(this);\n        return subscription;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    /** @internal */\n    Subscription.prototype._addParent = function (parent) {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        if (!_parent || _parent === parent) {\n            // If we don't have a parent, or the new parent is the same as the\n            // current parent, then set this._parent to the new parent.\n            this._parent = parent;\n        }\n        else if (!_parents) {\n            // If there's already one parent, but not multiple, allocate an Array to\n            // store the rest of the parent Subscriptions.\n            this._parents = [parent];\n        }\n        else if (_parents.indexOf(parent) === -1) {\n            // Only add the new parent to the _parents list if it's not already there.\n            _parents.push(parent);\n        }\n    };\n    /** @nocollapse */\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function')\n    ? /*@__PURE__*/ Symbol.for('rxSubscriber')\n    : '@@rxSubscriber';\n/**\n * @deprecated use rxSubscriber instead\n */\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        /** @internal */ _this.syncErrorValue = null;\n        /** @internal */ _this.syncErrorThrown = false;\n        /** @internal */ _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    // HACK(benlesh): For situations where Node has multiple copies of rxjs in\n                    // node_modules, we cannot rely on `instanceof` checks\n                    if (isTrustedSubscriber(destinationOrNext)) {\n                        var trustedSubscriber = destinationOrNext[rxSubscriberSymbol]();\n                        _this.syncErrorThrowable = trustedSubscriber.syncErrorThrowable;\n                        _this.destination = trustedSubscriber;\n                        trustedSubscriber.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     * @nocollapse\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    /** @deprecated This is an internal implementation detail, do not use. */\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        this._parent = null;\n        this._parents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parent = _parent;\n        this._parents = _parents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    /** @deprecated This is an internal implementation detail, do not use. */\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nfunction isTrustedSubscriber(obj) {\n    return obj instanceof Subscriber || ('syncErrorThrowable' in obj && obj[rxSubscriberSymbol]);\n}\n//# sourceMappingURL=Subscriber.js.map\n","/** Symbol.observable or a string \"@@observable\". Used for interop */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var observable = typeof Symbol === 'function' && Symbol.observable || '@@observable';\n//# sourceMappingURL=observable.js.map\n","/* tslint:disable:no-empty */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function noop() { }\n//# sourceMappingURL=noop.js.map\n","/** PURE_IMPORTS_START _noop PURE_IMPORTS_END */\nimport { noop } from './noop';\n/* tslint:enable:max-line-length */\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\n/* @internal */\nexport function pipeFromArray(fns) {\n    if (!fns) {\n        return noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/** PURE_IMPORTS_START _util_toSubscriber,_internal_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from '../internal/symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = /*@__PURE__*/ (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        /** Internal implementation detail, do not use directly. */\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n     *\n     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n     *\n     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n     * thought.\n     *\n     * Apart from starting the execution of an Observable, this method allows you to listen for values\n     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n     * following ways.\n     *\n     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n     * be left uncaught.\n     *\n     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n     *\n     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n     *\n     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n     * by default emits all its values synchronously. Always check documentation for how given Observable\n     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n     *\n     * @example <caption>Subscribe with an Observer</caption>\n     * const sumObserver = {\n     *   sum: 0,\n     *   next(value) {\n     *     console.log('Adding: ' + value);\n     *     this.sum = this.sum + value;\n     *   },\n     *   error() { // We actually could just remove this method,\n     *   },        // since we do not really care about errors right now.\n     *   complete() {\n     *     console.log('Sum equals: ' + this.sum);\n     *   }\n     * };\n     *\n     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n     * .subscribe(sumObserver);\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Subscribe with functions</caption>\n     * let sum = 0;\n     *\n     * Rx.Observable.of(1, 2, 3)\n     * .subscribe(\n     *   function(value) {\n     *     console.log('Adding: ' + value);\n     *     sum = sum + value;\n     *   },\n     *   undefined,\n     *   function() {\n     *     console.log('Sum equals: ' + sum);\n     *   }\n     * );\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Cancel a subscription</caption>\n     * const subscription = Rx.Observable.interval(1000).subscribe(\n     *   num => console.log(num),\n     *   undefined,\n     *   () => console.log('completed!') // Will not be called, even\n     * );                                // when cancelling subscription\n     *\n     *\n     * setTimeout(() => {\n     *   subscription.unsubscribe();\n     *   console.log('unsubscribed!');\n     * }, 2500);\n     *\n     * // Logs:\n     * // 0 after 1s\n     * // 1 after 2s\n     * // \"unsubscribed!\" after 2.5s\n     *\n     *\n     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n     *  Observable.\n     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled.\n     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     * @method subscribe\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this.source);\n        }\n        else {\n            sink.add(this.source || !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    /** @deprecated This is an internal implementation detail, do not use. */\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            sink.error(err);\n        }\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            // Must be declared in a separate statement to avoid a RefernceError when\n            // accessing subscription below in the closure due to Temporal Dead Zone.\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    /** @deprecated This is an internal implementation detail, do not use. */\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    /* tslint:enable:max-line-length */\n    /**\n     * Used to stitch together functional operators into a chain.\n     * @method pipe\n     * @return {Observable} the Observable result of all of the operators having\n     * been called in the order they were passed in.\n     *\n     * @example\n     *\n     * import { map, filter, scan } from 'rxjs/operators';\n     *\n     * Rx.Observable.interval(1000)\n     *   .pipe(\n     *     filter(x => x % 2 === 0),\n     *     map(x => x + x),\n     *     scan((acc, x) => acc + x)\n     *   )\n     *   .subscribe(x => console.log(x))\n     */\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    /* tslint:enable:max-line-length */\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     * @nocollapse\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/**\r\n * @copyright ngrx\r\n */\r\nimport { Observable, Observer, Operator } from 'rxjs';\r\nimport { distinctUntilChanged, map } from 'rxjs/operators';\r\nimport { Action, ActionReducer } from './index';\r\n\r\nexport class MiniStore<T> extends Observable<T> implements Observer<Action> {\r\n  constructor(\r\n    private _dispatcher: Observer<Action>,\r\n    private _reducer: ActionReducer<any>,\r\n    state$: Observable<any>\r\n  ) {\r\n    super();\r\n\r\n    this.source = state$;\r\n  }\r\n\r\n  select<R>(pathOrMapFn: (state: T) => R): Observable<R> {\r\n    const mapped$: Observable<R> = this.source.pipe(map(pathOrMapFn));\r\n\r\n    return mapped$.pipe(distinctUntilChanged());\r\n  }\r\n\r\n  lift<R>(operator: Operator<T, R>): MiniStore<R> {\r\n    const store = new MiniStore<R>(this._dispatcher, this._reducer, this);\r\n    store.operator = operator;\r\n\r\n    return store;\r\n  }\r\n\r\n  dispatch(action: Action) {\r\n    this._dispatcher.next(action);\r\n  }\r\n\r\n  next(action: Action) {\r\n    this._dispatcher.next(action);\r\n  }\r\n\r\n  error(err: any) {\r\n    this._dispatcher.error(err);\r\n  }\r\n\r\n  complete() {\r\n    /*noop*/\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  DatepickerRenderOptions\r\n} from './models/index';\r\n\r\n\r\n/**\r\n * For date range picker there are `BsDaterangepickerConfig` which inherits all properties,\r\n * except `displayMonths`, for range picker it default to `2`\r\n */\r\n@Injectable()\r\nexport class BsDatepickerConfig\r\n  implements DatepickerRenderOptions {\r\n  value?: Date | Date[];\r\n  isDisabled?: boolean;\r\n  /**\r\n   * Default min date for all date/range pickers\r\n   */\r\n  minDate?: Date;\r\n  /**\r\n   * Default max date for all date/range pickers\r\n   */\r\n  maxDate?: Date;\r\n\r\n  /** CSS class which will be applied to datepicker container,\r\n   * usually used to set color theme\r\n   */\r\n  containerClass = 'theme-green';\r\n\r\n  // DatepickerRenderOptions\r\n  displayMonths = 1;\r\n  /**\r\n   * Allows to hide week numbers in datepicker\r\n   */\r\n  showWeekNumbers = true;\r\n\r\n  dateInputFormat = 'L';\r\n  // range picker\r\n  rangeSeparator = ' - ';\r\n  /**\r\n   * Date format for date range input field\r\n   */\r\n  rangeInputFormat = 'L';\r\n\r\n  // DatepickerFormatOptions\r\n  monthTitle = 'MMMM';\r\n  yearTitle = 'YYYY';\r\n  dayLabel = 'D';\r\n  monthLabel = 'MMMM';\r\n  yearLabel = 'YYYY';\r\n  weekNumbers = 'w';\r\n}\r\n","import {\r\n  BsDatepickerViewMode,\r\n  DatepickerFormatOptions,\r\n  DatepickerRenderOptions,\r\n  DaysCalendarModel,\r\n  DaysCalendarViewModel,\r\n  MonthsCalendarViewModel,\r\n  MonthViewOptions,\r\n  YearsCalendarViewModel\r\n} from '../models/index';\r\nimport { defaultMonthOptions } from './_defaults';\r\nimport { BsDatepickerConfig } from '../bs-datepicker.config';\r\n\r\nexport interface BsDatepickerViewState {\r\n  date: Date;\r\n  mode: BsDatepickerViewMode;\r\n}\r\n\r\nexport class BsDatepickerState\r\n  implements DatepickerRenderOptions, DatepickerFormatOptions {\r\n  // date picker\r\n  selectedDate?: Date;\r\n  // daterange picker\r\n  selectedRange?: Date[];\r\n\r\n  // initial date of calendar, today by default\r\n  view: BsDatepickerViewState;\r\n\r\n  isDisabled?: boolean;\r\n  // bounds\r\n  minDate?: Date;\r\n  maxDate?: Date;\r\n\r\n  hoveredDate?: Date;\r\n  hoveredMonth?: Date;\r\n  hoveredYear?: Date;\r\n\r\n  // days calendar\r\n  monthsModel?: DaysCalendarModel[];\r\n  formattedMonths?: DaysCalendarViewModel[];\r\n  flaggedMonths?: DaysCalendarViewModel[];\r\n\r\n  // months calendar\r\n  monthsCalendar?: MonthsCalendarViewModel[];\r\n  flaggedMonthsCalendar?: MonthsCalendarViewModel[];\r\n\r\n  // years calendar\r\n  yearsCalendarModel?: YearsCalendarViewModel[];\r\n  yearsCalendarFlagged?: YearsCalendarViewModel[];\r\n\r\n  // options\r\n  monthViewOptions: MonthViewOptions;\r\n\r\n  // DatepickerRenderOptions\r\n  showWeekNumbers?: boolean;\r\n  displayMonths?: number;\r\n\r\n  // DatepickerFormatOptions\r\n  locale: string;\r\n\r\n  monthTitle: string;\r\n  yearTitle: string;\r\n\r\n  dayLabel: string;\r\n  monthLabel: string;\r\n  yearLabel: string;\r\n\r\n  weekNumbers: string;\r\n}\r\n\r\nconst _initialView: BsDatepickerViewState = { date: new Date(), mode: 'day' };\r\n\r\nexport const initialDatepickerState: BsDatepickerState = Object.assign(\r\n  new BsDatepickerConfig(),\r\n  {\r\n    locale: 'en',\r\n    view: _initialView,\r\n    selectedRange: [],\r\n    monthViewOptions: defaultMonthOptions\r\n  }\r\n);\r\n","import {\r\n  MonthViewOptions\r\n} from '../models/index';\r\n\r\nexport const defaultMonthOptions: MonthViewOptions = {\r\n  width: 7,\r\n  height: 6\r\n};\r\n","/** PURE_IMPORTS_START tslib PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var _this = _super.call(this, 'object unsubscribed') || this;\n        _this.name = 'ObjectUnsubscribedError';\n        Object.setPrototypeOf(_this, ObjectUnsubscribedError.prototype);\n        return _this;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexport { ObjectUnsubscribedError };\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\n/**\n * @class Subject<T>\n */\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    /** @deprecated This is an internal implementation detail, do not use. */\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    /** @deprecated This is an internal implementation detail, do not use. */\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    /**@nocollapse */\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    /** @deprecated This is an internal implementation detail, do not use. */\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_util_ObjectUnsubscribedError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /** @deprecated This is an internal implementation detail, do not use. */\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar QueueAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Otherwise flush the scheduler starting with this action.\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction));\nexport { QueueAction };\n//# sourceMappingURL=QueueAction.js.map\n","/** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Action } from './Action';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsyncAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (this.closed) {\n            return this;\n        }\n        // Always replace the current state with the new state.\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        //\n        // Important implementation note:\n        //\n        // Actions only execute once by default, unless rescheduled from within the\n        // scheduled callback. This allows us to implement single and repeat\n        // actions via the same code path, without adding API surface area, as well\n        // as mimic traditional recursion but across asynchronous boundaries.\n        //\n        // However, JS runtimes and timers distinguish between intervals achieved by\n        // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n        // serial `setTimeout` calls can be individually delayed, which delays\n        // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n        // guarantee the interval callback will be invoked more precisely to the\n        // interval period, regardless of load.\n        //\n        // Therefore, we use `setInterval` to schedule single and repeat actions.\n        // If the action reschedules itself with the same delay, the interval is not\n        // canceled. If the action doesn't reschedule, or reschedules with a\n        // different delay, the interval will be canceled after scheduled callback\n        // execution.\n        //\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        // Set the pending flag indicating that this action has been scheduled, or\n        // has recursively rescheduled itself.\n        this.pending = true;\n        this.delay = delay;\n        // If this action has already an async Id, don't request a new one.\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        // If this action is rescheduled with the same delay time, don't clear the interval id.\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        // Otherwise, if the action's delay time is different from the current delay,\n        // or the action has been rescheduled before it's executed, clear the interval id\n        return clearInterval(id) && undefined || undefined;\n    };\n    /**\n     * Immediately executes this action and the `work` it contains.\n     * @return {any}\n     */\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            // Dequeue if the action didn't reschedule itself. Don't call\n            // unsubscribe(), because the action could reschedule later.\n            // For example:\n            // ```\n            // scheduler.schedule(function doWork(counter) {\n            //   /* ... I'm a busy worker bee ... */\n            //   var originalAction = this;\n            //   /* wait 100ms before rescheduling the action */\n            //   setTimeout(function () {\n            //     originalAction.schedule(counter + 1);\n            //   }, 100);\n            // }, 1000);\n            // ```\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    /** @deprecated This is an internal implementation detail, do not use. */\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nvar Action = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    /**\n     * Schedules this action on its parent Scheduler for execution. May be passed\n     * some context object, `state`. May happen at some point in the future,\n     * according to the `delay` parameter, if specified.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler.\n     * @return {void}\n     */\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map\n","/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n * @deprecated Scheduler is an internal implementation detail of RxJS, and\n * should not be used directly. Rather, create your own class and implement\n * {@link SchedulerLike}\n */\nvar Scheduler = /*@__PURE__*/ (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    /**\n     * Schedules a function, `work`, for execution. May happen at some point in\n     * the future, according to the `delay` parameter, if specified. May be passed\n     * some context object, `state`, which will be passed to the `work` function.\n     *\n     * The given arguments will be processed an stored as an Action object in a\n     * queue of actions.\n     *\n     * @param {function(state: ?T): ?Subscription} work A function representing a\n     * task, or some unit of work to be executed by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler itself.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @return {Subscription} A subscription in order to be able to unsubscribe\n     * the scheduled work.\n     */\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    /** @nocollapse */\n    Scheduler.now = Date.now ? Date.now : function () { return +new Date(); };\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map\n","/** PURE_IMPORTS_START _QueueAction,_QueueScheduler PURE_IMPORTS_END */\nimport { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link async} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * @examples <caption>Schedule recursively first, then do something</caption>\n *\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n *\n *\n * @example <caption>Reschedule itself recursively</caption>\n *\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n *\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\nexport var queue = /*@__PURE__*/ new QueueScheduler(QueueAction);\n//# sourceMappingURL=queue.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar QueueScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return QueueScheduler;\n}(AsyncScheduler));\nexport { QueueScheduler };\n//# sourceMappingURL=QueueScheduler.js.map\n","/** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        var _this = _super.call(this, SchedulerAction, function () {\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                return AsyncScheduler.delegate.now();\n            }\n            else {\n                return now();\n            }\n        }) || this;\n        _this.actions = [];\n        /**\n         * A flag to indicate whether the Scheduler is currently executing a batch of\n         * queued actions.\n         * @type {boolean}\n         * @deprecated internal use only\n         */\n        _this.active = false;\n        /**\n         * An internal ID used to track the latest asynchronous task such as those\n         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n         * others.\n         * @type {any}\n         * @deprecated internal use only\n         */\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n            return AsyncScheduler.delegate.schedule(work, delay, state);\n        }\n        else {\n            return _super.prototype.schedule.call(this, work, delay, state);\n        }\n    };\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift()); // exhaust the scheduler queue\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map\n","/**\r\n * @copyright ngrx\r\n */\r\nimport { Action, ActionReducer } from './index';\r\nimport { BehaviorSubject, Observable, queueScheduler } from 'rxjs';\r\nimport { observeOn, scan } from 'rxjs/operators';\r\n\r\n\r\nexport class MiniState<T> extends BehaviorSubject<T> {\r\n  constructor(\r\n    _initialState: T,\r\n    actionsDispatcher$: Observable<Action>,\r\n    reducer: ActionReducer<T>\r\n  ) {\r\n    super(_initialState);\r\n\r\n    const actionInQueue$ = actionsDispatcher$.pipe(\r\n      observeOn(queueScheduler)\r\n    );\r\n    const state$ = actionInQueue$.pipe(\r\n      scan((state: T, action: Action) => {\r\n        if (!action) {\r\n          return state;\r\n        }\r\n\r\n        return reducer(state, action);\r\n      },\r\n      _initialState\r\n    ));\r\n\r\n    state$.subscribe((value: T) => this.next(value));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { TimeUnit } from '../../chronos/types';\r\nimport { Action } from '../../mini-ngrx/index';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsViewNavigationEvent,\r\n  CellHoverEvent,\r\n  DatepickerRenderOptions\r\n} from '../models/index';\r\n\r\n@Injectable()\r\nexport class BsDatepickerActions {\r\n  static readonly CALCULATE = '[datepicker] calculate dates matrix';\r\n  static readonly FORMAT = '[datepicker] format datepicker values';\r\n  static readonly FLAG = '[datepicker] set flags';\r\n  static readonly SELECT = '[datepicker] select date';\r\n  static readonly NAVIGATE_OFFSET = '[datepicker] shift view date';\r\n  static readonly NAVIGATE_TO = '[datepicker] change view date';\r\n  static readonly SET_OPTIONS = '[datepicker] update render options';\r\n  static readonly HOVER = '[datepicker] hover date';\r\n  static readonly CHANGE_VIEWMODE = '[datepicker] switch view mode';\r\n\r\n  static readonly SET_MIN_DATE = '[datepicker] set min date';\r\n  static readonly SET_MAX_DATE = '[datepicker] set max date';\r\n  static readonly SET_IS_DISABLED = '[datepicker] set is disabled';\r\n\r\n  static readonly SET_LOCALE = '[datepicker] set datepicker locale';\r\n\r\n  static readonly SELECT_RANGE = '[daterangepicker] select dates range';\r\n\r\n  calculate(): Action {\r\n    return { type: BsDatepickerActions.CALCULATE };\r\n  }\r\n\r\n  format(): Action {\r\n    return { type: BsDatepickerActions.FORMAT };\r\n  }\r\n\r\n  flag(): Action {\r\n    return { type: BsDatepickerActions.FLAG };\r\n  }\r\n\r\n  select(date: Date): Action {\r\n    return {\r\n      type: BsDatepickerActions.SELECT,\r\n      payload: date\r\n    };\r\n  }\r\n\r\n  changeViewMode(event: BsDatepickerViewMode): Action {\r\n    return {\r\n      type: BsDatepickerActions.CHANGE_VIEWMODE,\r\n      payload: event\r\n    };\r\n  }\r\n\r\n  navigateTo(event: BsViewNavigationEvent): Action {\r\n    return {\r\n      type: BsDatepickerActions.NAVIGATE_TO,\r\n      payload: event\r\n    };\r\n  }\r\n\r\n  navigateStep(step: TimeUnit): Action {\r\n    return {\r\n      type: BsDatepickerActions.NAVIGATE_OFFSET,\r\n      payload: step\r\n    };\r\n  }\r\n\r\n  setOptions(options: DatepickerRenderOptions): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_OPTIONS,\r\n      payload: options\r\n    };\r\n  }\r\n\r\n  // date range picker\r\n  selectRange(value: Date[]): Action {\r\n    return {\r\n      type: BsDatepickerActions.SELECT_RANGE,\r\n      payload: value\r\n    };\r\n  }\r\n\r\n  hoverDay(event: CellHoverEvent): Action {\r\n    return {\r\n      type: BsDatepickerActions.HOVER,\r\n      payload: event.isHovered ? event.cell.date : null\r\n    };\r\n  }\r\n\r\n  minDate(date: Date): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_MIN_DATE,\r\n      payload: date\r\n    };\r\n  }\r\n\r\n  maxDate(date: Date): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_MAX_DATE,\r\n      payload: date\r\n    };\r\n  }\r\n\r\n  isDisabled(value: boolean): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_IS_DISABLED,\r\n      payload: value\r\n    };\r\n  }\r\n\r\n  setLocale(locale: string): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_LOCALE,\r\n      payload: locale\r\n    };\r\n  }\r\n}\r\n","import {\r\n  getDay,\r\n  isFirstDayOfWeek\r\n} from '../../chronos/utils/date-getters';\r\nimport { shiftDate } from '../../chronos/utils/date-setters';\r\nimport {\r\n  isAfter,\r\n  isBefore\r\n} from '../../chronos/utils/date-compare';\r\nimport { endOf, startOf } from '../../chronos/utils/start-end-of';\r\n\r\nexport function getStartingDayOfCalendar(date: Date,\r\n                                         options: { firstDayOfWeek?: number }): Date {\r\n  if (isFirstDayOfWeek(date, options.firstDayOfWeek)) {\r\n    return date;\r\n  }\r\n\r\n  const weekDay = getDay(date);\r\n  const offset = calculateDateOffset(weekDay, options.firstDayOfWeek);\r\n\r\n  return shiftDate(date, {day: -offset});\r\n}\r\n\r\nexport function calculateDateOffset(weekday: number, startingDayOffset: number): number {\r\n  if (startingDayOffset === 0) {\r\n    return weekday;\r\n  }\r\n\r\n  const offset = weekday - startingDayOffset % 7;\r\n\r\n  return offset < 0 ? offset + 7 : offset;\r\n}\r\n\r\nexport function isMonthDisabled(date: Date, min: Date, max: Date): boolean {\r\n  const minBound = min && isBefore(endOf(date, 'month'), min, 'day');\r\n  const maxBound = max && isAfter(startOf(date, 'month'), max, 'day');\r\n\r\n  return minBound || maxBound;\r\n}\r\n\r\nexport function isYearDisabled(date: Date, min: Date, max: Date): boolean {\r\n  const minBound = min && isBefore(endOf(date, 'year'), min, 'day');\r\n  const maxBound = max && isAfter(startOf(date, 'year'), max, 'day');\r\n\r\n  return minBound || maxBound;\r\n}\r\n","import { TimeUnit } from '../../chronos/types';\r\nimport { shiftDate } from '../../chronos/utils/date-setters';\r\n\r\nexport type CreateMatrixCb<T> = (date: Date) => T;\r\n\r\nexport interface MatrixOptions {\r\n  height: number;\r\n  width: number;\r\n  initialDate: Date;\r\n  shift: TimeUnit;\r\n}\r\n\r\nexport function createMatrix<T>(\r\n  options: MatrixOptions,\r\n  fn: CreateMatrixCb<T>\r\n): T[][] {\r\n  let prevValue = options.initialDate;\r\n  const matrix: T[][] = new Array(options.height);\r\n  for (let i = 0; i < options.height; i++) {\r\n    matrix[i] = new Array(options.width);\r\n    for (let j = 0; j < options.width; j++) {\r\n      matrix[i][j] = fn(prevValue);\r\n      prevValue = shiftDate(prevValue, options.shift);\r\n    }\r\n  }\r\n\r\n  return matrix;\r\n}\r\n","// user and model input should handle parsing and validating input values\r\n// should accept some options\r\n// todo: split out formatting\r\nimport { DaysCalendarModel, MonthViewOptions } from '../models/index';\r\nimport { getFirstDayOfMonth } from '../../chronos/utils/date-getters';\r\nimport { getStartingDayOfCalendar } from '../utils/bs-calendar-utils';\r\nimport { createMatrix } from '../utils/matrix-utils';\r\n\r\nexport function calcDaysCalendar(\r\n  startingDate: Date,\r\n  options: MonthViewOptions\r\n): DaysCalendarModel {\r\n  const firstDay = getFirstDayOfMonth(startingDate);\r\n  const initialDate = getStartingDayOfCalendar(firstDay, options);\r\n\r\n  const matrixOptions = {\r\n    width: options.width,\r\n    height: options.height,\r\n    initialDate,\r\n    shift: { day: 1 }\r\n  };\r\n  const daysMatrix = createMatrix<Date>(matrixOptions, date => date);\r\n\r\n  return {\r\n    daysMatrix,\r\n    month: firstDay\r\n  };\r\n}\r\n","import {\r\n  DatepickerFormatOptions,\r\n  DaysCalendarModel,\r\n  DaysCalendarViewModel\r\n} from '../models/index';\r\nimport { formatDate } from '../../chronos/format';\r\nimport { getLocale } from '../../chronos/locale/locales';\r\n\r\nexport function formatDaysCalendar(daysCalendar: DaysCalendarModel,\r\n                                   formatOptions: DatepickerFormatOptions,\r\n                                   monthIndex: number): DaysCalendarViewModel {\r\n  return {\r\n    month: daysCalendar.month,\r\n    monthTitle: formatDate(\r\n      daysCalendar.month,\r\n      formatOptions.monthTitle,\r\n      formatOptions.locale\r\n    ),\r\n    yearTitle: formatDate(\r\n      daysCalendar.month,\r\n      formatOptions.yearTitle,\r\n      formatOptions.locale\r\n    ),\r\n    weekNumbers: getWeekNumbers(\r\n      daysCalendar.daysMatrix,\r\n      formatOptions.weekNumbers,\r\n      formatOptions.locale\r\n    ),\r\n    weekdays: getShiftedWeekdays(formatOptions.locale),\r\n    weeks: daysCalendar.daysMatrix.map((week: Date[], weekIndex: number) => ({\r\n      days: week.map((date: Date, dayIndex: number) => ({\r\n        date,\r\n        label: formatDate(date, formatOptions.dayLabel, formatOptions.locale),\r\n        monthIndex,\r\n        weekIndex,\r\n        dayIndex\r\n      }))\r\n    }))\r\n  };\r\n}\r\n\r\nexport function getWeekNumbers(daysMatrix: Date[][],\r\n                               format: string,\r\n                               locale: string): string[] {\r\n  return daysMatrix.map(\r\n    (days: Date[]) => (days[0] ? formatDate(days[0], format, locale) : '')\r\n  );\r\n}\r\n\r\nexport function getShiftedWeekdays(locale: string): string[] {\r\n  const _locale = getLocale(locale);\r\n  const weekdays = _locale.weekdaysShort() as string[];\r\n  const firstDayOfWeek = _locale.firstDayOfWeek();\r\n\r\n  return [...weekdays.slice(firstDayOfWeek), ...weekdays.slice(0, firstDayOfWeek)];\r\n}\r\n","import {\r\n  DatepickerFormatOptions,\r\n  MonthsCalendarViewModel,\r\n  CalendarCellViewModel\r\n} from '../models/index';\r\nimport { startOf } from '../../chronos/utils/start-end-of';\r\nimport { formatDate } from '../../chronos/format';\r\nimport { createMatrix } from '../utils/matrix-utils';\r\n\r\nconst height = 4;\r\nconst width = 3;\r\nconst shift = { month: 1 };\r\n\r\nexport function formatMonthsCalendar(\r\n  viewDate: Date,\r\n  formatOptions: DatepickerFormatOptions\r\n): MonthsCalendarViewModel {\r\n  const initialDate = startOf(viewDate, 'year');\r\n  const matrixOptions = { width, height, initialDate, shift };\r\n  const monthMatrix = createMatrix<\r\n    CalendarCellViewModel\r\n  >(matrixOptions, date => ({\r\n    date,\r\n    label: formatDate(date, formatOptions.monthLabel, formatOptions.locale)\r\n  }));\r\n\r\n  return {\r\n    months: monthMatrix,\r\n    monthTitle: '',\r\n    yearTitle: formatDate(\r\n      viewDate,\r\n      formatOptions.yearTitle,\r\n      formatOptions.locale\r\n    )\r\n  };\r\n}\r\n","import {\r\n  DatepickerFormatOptions,\r\n  YearsCalendarViewModel,\r\n  CalendarCellViewModel\r\n} from '../models/index';\r\nimport { shiftDate } from '../../chronos/utils/date-setters';\r\nimport { formatDate } from '../../chronos/format';\r\nimport { createMatrix } from '../utils/matrix-utils';\r\n\r\nconst height = 4;\r\nconst width = 4;\r\nexport const yearsPerCalendar = height * width;\r\nconst initialShift = (Math.floor(yearsPerCalendar / 2) - 1) * -1;\r\nconst shift = { year: 1 };\r\n\r\nexport function formatYearsCalendar(\r\n  viewDate: Date,\r\n  formatOptions: DatepickerFormatOptions\r\n): YearsCalendarViewModel {\r\n  const initialDate = shiftDate(viewDate, { year: initialShift });\r\n  const matrixOptions = { width, height, initialDate, shift };\r\n  const yearsMatrix = createMatrix<\r\n    CalendarCellViewModel\r\n  >(matrixOptions, date => ({\r\n    date,\r\n    label: formatDate(date, formatOptions.yearLabel, formatOptions.locale)\r\n  }));\r\n  const yearTitle = formatYearRangeTitle(yearsMatrix, formatOptions);\r\n\r\n  return {\r\n    years: yearsMatrix,\r\n    monthTitle: '',\r\n    yearTitle\r\n  };\r\n}\r\n\r\nfunction formatYearRangeTitle(\r\n  yearsMatrix: CalendarCellViewModel[][],\r\n  formatOptions: DatepickerFormatOptions\r\n): string {\r\n  const from = formatDate(\r\n    yearsMatrix[0][0].date,\r\n    formatOptions.yearTitle,\r\n    formatOptions.locale\r\n  );\r\n  const to = formatDate(\r\n    yearsMatrix[height - 1][width - 1].date,\r\n    formatOptions.yearTitle,\r\n    formatOptions.locale\r\n  );\r\n\r\n  return `${from} - ${to}`;\r\n}\r\n","// tslint:disable:max-file-line-count\r\nimport { BsDatepickerState, initialDatepickerState } from './bs-datepicker.state';\r\nimport { Action } from '../../mini-ngrx/index';\r\nimport { BsDatepickerActions } from './bs-datepicker.actions';\r\nimport { calcDaysCalendar } from '../engine/calc-days-calendar';\r\nimport { formatDaysCalendar } from '../engine/format-days-calendar';\r\nimport { flagDaysCalendar } from '../engine/flag-days-calendar';\r\nimport { setFullDate, shiftDate } from '../../chronos/utils/date-setters';\r\nimport { canSwitchMode } from '../engine/view-mode';\r\nimport { formatMonthsCalendar } from '../engine/format-months-calendar';\r\nimport { flagMonthsCalendar } from '../engine/flag-months-calendar';\r\nimport { formatYearsCalendar, yearsPerCalendar } from '../engine/format-years-calendar';\r\nimport { flagYearsCalendar } from '../engine/flag-years-calendar';\r\nimport { BsViewNavigationEvent, DatepickerFormatOptions } from '../models/index';\r\nimport { isArray, isDateValid } from '../../chronos/utils/type-checks';\r\nimport { startOf } from '../../chronos/utils/start-end-of';\r\nimport { getLocale } from '../../chronos/locale/locales';\r\nimport { isAfter, isBefore } from '../../chronos/utils/date-compare';\r\n\r\nexport function bsDatepickerReducer(state = initialDatepickerState,\r\n                                    action: Action): BsDatepickerState {\r\n  switch (action.type) {\r\n    case BsDatepickerActions.CALCULATE: {\r\n      return calculateReducer(state);\r\n    }\r\n\r\n    case BsDatepickerActions.FORMAT: {\r\n      return formatReducer(state, action);\r\n    }\r\n\r\n    case BsDatepickerActions.FLAG: {\r\n      return flagReducer(state, action);\r\n    }\r\n\r\n    case BsDatepickerActions.NAVIGATE_OFFSET: {\r\n      const date = shiftDate(startOf(state.view.date, 'month'), action.payload);\r\n      const newState = {\r\n        view: {\r\n          mode: state.view.mode,\r\n          date\r\n        }\r\n      };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.NAVIGATE_TO: {\r\n      const payload: BsViewNavigationEvent = action.payload;\r\n\r\n      const date = setFullDate(state.view.date, payload.unit);\r\n      const mode = payload.viewMode;\r\n      const newState = { view: { date, mode } };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.CHANGE_VIEWMODE: {\r\n      if (!canSwitchMode(action.payload)) {\r\n        return state;\r\n      }\r\n      const date = state.view.date;\r\n      const mode = action.payload;\r\n      const newState = { view: { date, mode } };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.HOVER: {\r\n      return Object.assign({}, state, { hoveredDate: action.payload });\r\n    }\r\n\r\n    case BsDatepickerActions.SELECT: {\r\n      const newState = {\r\n        selectedDate: action.payload,\r\n        view: state.view\r\n      };\r\n\r\n      const mode = state.view.mode;\r\n      const _date = action.payload || state.view.date;\r\n      const date = getViewDate(_date, state.minDate, state.maxDate);\r\n      newState.view = { mode, date };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.SET_OPTIONS: {\r\n      const newState = action.payload;\r\n      // preserve view mode\r\n      const mode = state.view.mode;\r\n      const _viewDate = isDateValid(newState.value) && newState.value\r\n        || isArray(newState.value) && isDateValid(newState.value[0]) && newState.value[0]\r\n        || state.view.date;\r\n      const date = getViewDate(_viewDate, newState.minDate, newState.maxDate);\r\n      newState.view = { mode, date };\r\n      // update selected value\r\n      if (newState.value) {\r\n        // if new value is array we work with date range\r\n        if (isArray(newState.value)) {\r\n          newState.selectedRange = newState.value;\r\n        }\r\n\r\n        // if new value is a date -> datepicker\r\n        if (newState.value instanceof Date) {\r\n          newState.selectedDate = newState.value;\r\n        }\r\n\r\n        // provided value is not supported :)\r\n        // need to report it somehow\r\n      }\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    // date range picker\r\n    case BsDatepickerActions.SELECT_RANGE: {\r\n      const newState = {\r\n        selectedRange: action.payload,\r\n        view: state.view\r\n      };\r\n\r\n      const mode = state.view.mode;\r\n      const _date = action.payload && action.payload[0] || state.view.date;\r\n      const date = getViewDate(_date, state.minDate, state.maxDate);\r\n      newState.view = { mode, date };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.SET_MIN_DATE: {\r\n      return Object.assign({}, state, {\r\n        minDate: action.payload\r\n      });\r\n    }\r\n    case BsDatepickerActions.SET_MAX_DATE: {\r\n      return Object.assign({}, state, {\r\n        maxDate: action.payload\r\n      });\r\n    }\r\n    case BsDatepickerActions.SET_IS_DISABLED: {\r\n      return Object.assign({}, state, {\r\n        isDisabled: action.payload\r\n      });\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction calculateReducer(state: BsDatepickerState): BsDatepickerState {\r\n  // how many calendars\r\n  const displayMonths = state.displayMonths;\r\n  // use selected date on initial rendering if set\r\n  let viewDate = state.view.date;\r\n\r\n  if (state.view.mode === 'day') {\r\n    state.monthViewOptions.firstDayOfWeek = getLocale(state.locale).firstDayOfWeek();\r\n    const monthsModel = new Array(displayMonths);\r\n    for (let monthIndex = 0; monthIndex < displayMonths; monthIndex++) {\r\n      // todo: for unlinked calendars it will be harder\r\n      monthsModel[monthIndex] = calcDaysCalendar(\r\n        viewDate,\r\n        state.monthViewOptions\r\n      );\r\n      viewDate = shiftDate(viewDate, { month: 1 });\r\n    }\r\n\r\n    return Object.assign({}, state, { monthsModel });\r\n  }\r\n\r\n  if (state.view.mode === 'month') {\r\n    const monthsCalendar = new Array(displayMonths);\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      monthsCalendar[calendarIndex] = formatMonthsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: 1 });\r\n    }\r\n\r\n    return Object.assign({}, state, { monthsCalendar });\r\n  }\r\n\r\n  if (state.view.mode === 'year') {\r\n    const yearsCalendarModel = new Array(displayMonths);\r\n\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      yearsCalendarModel[calendarIndex] = formatYearsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: yearsPerCalendar });\r\n    }\r\n\r\n    return Object.assign({}, state, { yearsCalendarModel });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction formatReducer(state: BsDatepickerState,\r\n                       action: Action): BsDatepickerState {\r\n  if (state.view.mode === 'day') {\r\n    const formattedMonths = state.monthsModel.map((month, monthIndex) =>\r\n      formatDaysCalendar(month, getFormatOptions(state), monthIndex)\r\n    );\r\n\r\n    return Object.assign({}, state, { formattedMonths });\r\n  }\r\n\r\n  // how many calendars\r\n  const displayMonths = state.displayMonths;\r\n  // check initial rendering\r\n  // use selected date on initial rendering if set\r\n  let viewDate = state.view.date;\r\n\r\n  if (state.view.mode === 'month') {\r\n    const monthsCalendar = new Array(displayMonths);\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      monthsCalendar[calendarIndex] = formatMonthsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: 1 });\r\n    }\r\n\r\n    return Object.assign({}, state, { monthsCalendar });\r\n  }\r\n\r\n  if (state.view.mode === 'year') {\r\n    const yearsCalendarModel = new Array(displayMonths);\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      yearsCalendarModel[calendarIndex] = formatYearsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: 16 });\r\n    }\r\n\r\n    return Object.assign({}, state, { yearsCalendarModel });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction flagReducer(state: BsDatepickerState,\r\n                     action: Action): BsDatepickerState {\r\n  if (state.view.mode === 'day') {\r\n    const flaggedMonths = state.formattedMonths.map(\r\n      (formattedMonth, monthIndex) =>\r\n        flagDaysCalendar(formattedMonth, {\r\n          isDisabled: state.isDisabled,\r\n          minDate: state.minDate,\r\n          maxDate: state.maxDate,\r\n          hoveredDate: state.hoveredDate,\r\n          selectedDate: state.selectedDate,\r\n          selectedRange: state.selectedRange,\r\n          displayMonths: state.displayMonths,\r\n          monthIndex\r\n        })\r\n    );\r\n\r\n    return Object.assign({}, state, { flaggedMonths });\r\n  }\r\n\r\n  if (state.view.mode === 'month') {\r\n    const flaggedMonthsCalendar = state.monthsCalendar.map(\r\n      (formattedMonth, monthIndex) =>\r\n        flagMonthsCalendar(formattedMonth, {\r\n          isDisabled: state.isDisabled,\r\n          minDate: state.minDate,\r\n          maxDate: state.maxDate,\r\n          hoveredMonth: state.hoveredMonth,\r\n          displayMonths: state.displayMonths,\r\n          monthIndex\r\n        })\r\n    );\r\n\r\n    return Object.assign({}, state, { flaggedMonthsCalendar });\r\n  }\r\n\r\n  if (state.view.mode === 'year') {\r\n    const yearsCalendarFlagged = state.yearsCalendarModel.map(\r\n      (formattedMonth, yearIndex) =>\r\n        flagYearsCalendar(formattedMonth, {\r\n          isDisabled: state.isDisabled,\r\n          minDate: state.minDate,\r\n          maxDate: state.maxDate,\r\n          hoveredYear: state.hoveredYear,\r\n          displayMonths: state.displayMonths,\r\n          yearIndex\r\n        })\r\n    );\r\n\r\n    return Object.assign({}, state, { yearsCalendarFlagged });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction getFormatOptions(state: BsDatepickerState): DatepickerFormatOptions {\r\n  return {\r\n    locale: state.locale,\r\n\r\n    monthTitle: state.monthTitle,\r\n    yearTitle: state.yearTitle,\r\n\r\n    dayLabel: state.dayLabel,\r\n    monthLabel: state.monthLabel,\r\n    yearLabel: state.yearLabel,\r\n\r\n    weekNumbers: state.weekNumbers\r\n  };\r\n}\r\n\r\n/**\r\n * if view date is provided (bsValue|ngModel) it should be shown\r\n * if view date is not provider:\r\n * if minDate>currentDate (default view value), show minDate\r\n * if maxDate<currentDate(default view value) show maxDate\r\n */\r\nfunction getViewDate(viewDate: Date | Date[], minDate: Date, maxDate: Date) {\r\n  const _date = Array.isArray(viewDate) ? viewDate[0] : viewDate;\r\n\r\n  if (minDate && isAfter(minDate, _date, 'day')) {\r\n    return minDate;\r\n  }\r\n\r\n  if (maxDate && isBefore(maxDate, _date, 'day')) {\r\n    return maxDate;\r\n  }\r\n\r\n  return _date;\r\n}\r\n","import {\r\n  DaysCalendarViewModel,\r\n  DayViewModel,\r\n  WeekViewModel\r\n} from '../models/index';\r\nimport { isSameDay, isSameMonth } from '../../chronos/utils/date-getters';\r\nimport { isAfter, isBefore } from '../../chronos/utils/date-compare';\r\nimport { isMonthDisabled } from '../utils/bs-calendar-utils';\r\nimport { shiftDate } from '../../chronos/utils/date-setters';\r\nimport { endOf, startOf } from '../../chronos/utils/start-end-of';\r\n\r\nexport interface FlagDaysCalendarOptions {\r\n  isDisabled: boolean;\r\n  minDate: Date;\r\n  maxDate: Date;\r\n  hoveredDate: Date;\r\n  selectedDate: Date;\r\n  selectedRange: Date[];\r\n  displayMonths: number;\r\n  monthIndex: number;\r\n}\r\n\r\nexport function flagDaysCalendar(\r\n  formattedMonth: DaysCalendarViewModel,\r\n  options: FlagDaysCalendarOptions\r\n): DaysCalendarViewModel {\r\n  formattedMonth.weeks.forEach((week: WeekViewModel, weekIndex: number) => {\r\n    week.days.forEach((day: DayViewModel, dayIndex: number) => {\r\n      // datepicker\r\n      const isOtherMonth = !isSameMonth(day.date, formattedMonth.month);\r\n\r\n      const isHovered =\r\n        !isOtherMonth && isSameDay(day.date, options.hoveredDate);\r\n      // date range picker\r\n      const isSelectionStart =\r\n        !isOtherMonth &&\r\n        options.selectedRange &&\r\n        isSameDay(day.date, options.selectedRange[0]);\r\n      const isSelectionEnd =\r\n        !isOtherMonth &&\r\n        options.selectedRange &&\r\n        isSameDay(day.date, options.selectedRange[1]);\r\n\r\n      const isSelected =\r\n        (!isOtherMonth && isSameDay(day.date, options.selectedDate)) ||\r\n        isSelectionStart ||\r\n        isSelectionEnd;\r\n\r\n      const isInRange =\r\n        !isOtherMonth &&\r\n        options.selectedRange &&\r\n        isDateInRange(day.date, options.selectedRange, options.hoveredDate);\r\n\r\n      const isDisabled =\r\n        options.isDisabled ||\r\n        isBefore(day.date, options.minDate, 'day') ||\r\n        isAfter(day.date, options.maxDate, 'day');\r\n\r\n      // decide update or not\r\n      const newDay = Object.assign({}, day, {\r\n        isOtherMonth,\r\n        isHovered,\r\n        isSelected,\r\n        isSelectionStart,\r\n        isSelectionEnd,\r\n        isInRange,\r\n        isDisabled\r\n      });\r\n\r\n      if (\r\n        day.isOtherMonth !== newDay.isOtherMonth ||\r\n        day.isHovered !== newDay.isHovered ||\r\n        day.isSelected !== newDay.isSelected ||\r\n        day.isSelectionStart !== newDay.isSelectionStart ||\r\n        day.isSelectionEnd !== newDay.isSelectionEnd ||\r\n        day.isDisabled !== newDay.isDisabled ||\r\n        day.isInRange !== newDay.isInRange\r\n      ) {\r\n        week.days[dayIndex] = newDay;\r\n      }\r\n    });\r\n  });\r\n\r\n  // todo: add check for linked calendars\r\n  formattedMonth.hideLeftArrow =\r\n    options.isDisabled ||\r\n    (options.monthIndex > 0 && options.monthIndex !== options.displayMonths);\r\n  formattedMonth.hideRightArrow =\r\n    options.isDisabled ||\r\n    (options.monthIndex < options.displayMonths &&\r\n      options.monthIndex + 1 !== options.displayMonths);\r\n\r\n  formattedMonth.disableLeftArrow = isMonthDisabled(\r\n    shiftDate(formattedMonth.month, { month: -1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n  formattedMonth.disableRightArrow = isMonthDisabled(\r\n    shiftDate(formattedMonth.month, { month: 1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n\r\n  return formattedMonth;\r\n}\r\n\r\nfunction isDateInRange(\r\n  date: Date,\r\n  selectedRange: Date[],\r\n  hoveredDate: Date\r\n): boolean {\r\n  if (!date || !selectedRange[0]) {\r\n    return false;\r\n  }\r\n\r\n  if (selectedRange[1]) {\r\n    return date > selectedRange[0] && date <= selectedRange[1];\r\n  }\r\n\r\n  if (hoveredDate) {\r\n    return date > selectedRange[0] && date <= hoveredDate;\r\n  }\r\n\r\n  return false;\r\n}\r\n","import { isSameMonth } from '../../chronos/utils/date-getters';\r\nimport {\r\n  MonthsCalendarViewModel,\r\n  CalendarCellViewModel\r\n} from '../models/index';\r\nimport { isMonthDisabled, isYearDisabled } from '../utils/bs-calendar-utils';\r\nimport { shiftDate } from '../../chronos/utils/date-setters';\r\n\r\nexport interface FlagMonthCalendarOptions {\r\n  isDisabled: boolean;\r\n  minDate: Date;\r\n  maxDate: Date;\r\n  hoveredMonth: Date;\r\n  displayMonths: number;\r\n  monthIndex: number;\r\n}\r\n\r\nexport function flagMonthsCalendar(\r\n  monthCalendar: MonthsCalendarViewModel,\r\n  options: FlagMonthCalendarOptions\r\n): MonthsCalendarViewModel {\r\n  monthCalendar.months.forEach(\r\n    (months: CalendarCellViewModel[], rowIndex: number) => {\r\n      months.forEach((month: CalendarCellViewModel, monthIndex: number) => {\r\n        const isHovered = isSameMonth(month.date, options.hoveredMonth);\r\n        const isDisabled =\r\n          options.isDisabled ||\r\n          isMonthDisabled(month.date, options.minDate, options.maxDate);\r\n        const newMonth = Object.assign(/*{},*/ month, {\r\n          isHovered,\r\n          isDisabled\r\n        });\r\n        if (\r\n          month.isHovered !== newMonth.isHovered ||\r\n          month.isDisabled !== newMonth.isDisabled\r\n        ) {\r\n          monthCalendar.months[rowIndex][monthIndex] = newMonth;\r\n        }\r\n      });\r\n    }\r\n  );\r\n\r\n  // todo: add check for linked calendars\r\n  monthCalendar.hideLeftArrow =\r\n    options.monthIndex > 0 && options.monthIndex !== options.displayMonths;\r\n  monthCalendar.hideRightArrow =\r\n    options.monthIndex < options.displayMonths &&\r\n    options.monthIndex + 1 !== options.displayMonths;\r\n\r\n  monthCalendar.disableLeftArrow = isYearDisabled(\r\n    shiftDate(monthCalendar.months[0][0].date, { year: -1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n  monthCalendar.disableRightArrow = isYearDisabled(\r\n    shiftDate(monthCalendar.months[0][0].date, { year: 1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n\r\n  return monthCalendar;\r\n}\r\n","import { isSameYear } from '../../chronos/utils/date-getters';\r\nimport { YearsCalendarViewModel, CalendarCellViewModel } from '../models/index';\r\nimport { isYearDisabled } from '../utils/bs-calendar-utils';\r\nimport { shiftDate } from '../../chronos/utils/date-setters';\r\n\r\nexport interface FlagYearsCalendarOptions {\r\n  isDisabled: boolean;\r\n  minDate: Date;\r\n  maxDate: Date;\r\n  hoveredYear: Date;\r\n  displayMonths: number;\r\n  yearIndex: number;\r\n}\r\n\r\nexport function flagYearsCalendar(\r\n  yearsCalendar: YearsCalendarViewModel,\r\n  options: FlagYearsCalendarOptions\r\n): YearsCalendarViewModel {\r\n  yearsCalendar.years.forEach(\r\n    (years: CalendarCellViewModel[], rowIndex: number) => {\r\n      years.forEach((year: CalendarCellViewModel, yearIndex: number) => {\r\n        const isHovered = isSameYear(year.date, options.hoveredYear);\r\n        const isDisabled =\r\n          options.isDisabled ||\r\n          isYearDisabled(year.date, options.minDate, options.maxDate);\r\n\r\n        const newMonth = Object.assign(/*{},*/ year, { isHovered, isDisabled });\r\n        if (\r\n          year.isHovered !== newMonth.isHovered ||\r\n          year.isDisabled !== newMonth.isDisabled\r\n        ) {\r\n          yearsCalendar.years[rowIndex][yearIndex] = newMonth;\r\n        }\r\n      });\r\n    }\r\n  );\r\n\r\n  // todo: add check for linked calendars\r\n  yearsCalendar.hideLeftArrow =\r\n    options.yearIndex > 0 && options.yearIndex !== options.displayMonths;\r\n  yearsCalendar.hideRightArrow =\r\n    options.yearIndex < options.displayMonths &&\r\n    options.yearIndex + 1 !== options.displayMonths;\r\n\r\n  yearsCalendar.disableLeftArrow = isYearDisabled(\r\n    shiftDate(yearsCalendar.years[0][0].date, { year: -1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n  const i = yearsCalendar.years.length - 1;\r\n  const j = yearsCalendar.years[i].length - 1;\r\n  yearsCalendar.disableRightArrow = isYearDisabled(\r\n    shiftDate(yearsCalendar.years[i][j].date, { year: 1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n\r\n  return yearsCalendar;\r\n}\r\n","import { BsDatepickerViewMode } from '../models/index';\r\n\r\nexport function canSwitchMode(mode: BsDatepickerViewMode): boolean {\r\n  return true;\r\n}\r\n","import { TimeUnit } from '../../chronos/types';\r\n\r\nexport type BsDatepickerViewMode = 'day' | 'month' | 'year';\r\n\r\n/** *************** */\r\n// navigation bar settings\r\nexport interface NavigationViewModel {\r\n  monthTitle: string;\r\n  yearTitle: string;\r\n  hideLeftArrow?: boolean;\r\n  hideRightArrow?: boolean;\r\n  disableLeftArrow?: boolean;\r\n  disableRightArrow?: boolean;\r\n}\r\n\r\nexport interface CalendarCellViewModel {\r\n  date: Date;\r\n  label: string;\r\n  isDisabled?: boolean;\r\n  isHovered?: boolean;\r\n}\r\n\r\n/** *************** */\r\n// days matrix: day cell view model\r\nexport interface DayViewModel extends CalendarCellViewModel {\r\n  isOtherMonth?: boolean;\r\n  isInRange?: boolean;\r\n  isSelectionStart?: boolean;\r\n  isSelectionEnd?: boolean;\r\n  isSelected?: boolean;\r\n  // day index\r\n  monthIndex?: number;\r\n  weekIndex?: number;\r\n  dayIndex?: number;\r\n}\r\n\r\nexport interface WeekViewModel {\r\n  days: DayViewModel[];\r\n}\r\n\r\n// todo: split navigation settings\r\nexport interface DaysCalendarViewModel extends NavigationViewModel {\r\n  weeks: WeekViewModel[];\r\n  // additional information\r\n  month: Date;\r\n  weekNumbers: string[];\r\n  weekdays: string[];\r\n}\r\n\r\n/** *************** */\r\n// months calendar\r\nexport interface MonthsCalendarViewModel extends NavigationViewModel {\r\n  months: CalendarCellViewModel[][];\r\n}\r\n\r\n/** *************** */\r\n// years calendar\r\nexport interface YearsCalendarViewModel extends NavigationViewModel {\r\n  years: CalendarCellViewModel[][];\r\n}\r\n\r\n/** *************** */\r\n\r\n// math model\r\n/** *************** */\r\n\r\n// days Date's array\r\nexport interface DaysCalendarModel {\r\n  daysMatrix: Date[][];\r\n  month: Date;\r\n}\r\n\r\n/** *************** */\r\n// some func options\r\nexport interface MonthViewOptions {\r\n  width?: number;\r\n  height?: number;\r\n  firstDayOfWeek?: number;\r\n}\r\n\r\n/** *************** */\r\n// rendering options\r\nexport interface DatepickerFormatOptions {\r\n  locale: string;\r\n\r\n  monthTitle: string;\r\n  yearTitle: string;\r\n\r\n  dayLabel: string;\r\n  monthLabel: string;\r\n  yearLabel: string;\r\n\r\n  weekNumbers: string;\r\n}\r\n\r\nexport interface DatepickerRenderOptions {\r\n  showWeekNumbers?: boolean;\r\n  displayMonths?: number;\r\n}\r\n\r\n/** *************** */\r\n// events\r\n/** *************** */\r\nexport enum BsNavigationDirection {\r\n  UP,\r\n  DOWN\r\n}\r\n\r\n// used for navigation events, to change view date in state\r\nexport interface BsNavigationEvent {\r\n  direction?: BsNavigationDirection;\r\n  step?: TimeUnit;\r\n}\r\n\r\nexport interface BsViewNavigationEvent {\r\n  unit?: TimeUnit;\r\n  viewMode: BsDatepickerViewMode;\r\n}\r\n\r\nexport interface CellHoverEvent {\r\n  cell: CalendarCellViewModel;\r\n  isHovered: boolean;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { MiniStore } from '../../mini-ngrx/store.class';\r\nimport { BsDatepickerState, initialDatepickerState } from './bs-datepicker.state';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Action } from '../../mini-ngrx/index';\r\nimport { MiniState } from '../../mini-ngrx/state.class';\r\nimport { bsDatepickerReducer } from './bs-datepicker.reducer';\r\n\r\n@Injectable()\r\nexport class BsDatepickerStore extends MiniStore<BsDatepickerState> {\r\n  constructor() {\r\n    const _dispatcher = new BehaviorSubject<Action>({\r\n      type: '[datepicker] dispatcher init'\r\n    });\r\n    const state = new MiniState<BsDatepickerState>(\r\n      initialDatepickerState,\r\n      _dispatcher,\r\n      bsDatepickerReducer\r\n    );\r\n    super(_dispatcher, bsDatepickerReducer, state);\r\n  }\r\n}\r\n","import { Component, EventEmitter, OnDestroy, OnInit } from '@angular/core';\r\nimport { BsDatepickerAbstractComponent } from '../../base/bs-datepicker-container';\r\n\r\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\r\nimport { DayViewModel } from '../../models/index';\r\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\r\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\r\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'bs-datepicker-container',\r\n  providers: [BsDatepickerStore, BsDatepickerEffects],\r\n  template: \"<!-- days calendar view mode --> <div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\"> <div class=\\\"bs-datepicker-container\\\"> <!--calendars--> <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\"> <!--days calendar--> <div *ngSwitchCase=\\\"'day'\\\"> <bs-days-calendar-view *ngFor=\\\"let calendar of (daysCalendar | async)\\\" [class.bs-datepicker-multiple]=\\\"(daysCalendar | async)?.length > 1\\\" [calendar]=\\\"calendar\\\" [options]=\\\"options | async\\\" (onNavigate)=\\\"navigateTo($event)\\\" (onViewMode)=\\\"setViewMode($event)\\\" (onHover)=\\\"dayHoverHandler($event)\\\" (onSelect)=\\\"daySelectHandler($event)\\\" ></bs-days-calendar-view> </div> <!--months calendar--> <div *ngSwitchCase=\\\"'month'\\\"> <bs-month-calendar-view *ngFor=\\\"let calendar of (monthsCalendar | async)\\\" [class.bs-datepicker-multiple]=\\\"(daysCalendar | async)?.length > 1\\\" [calendar]=\\\"calendar\\\" (onNavigate)=\\\"navigateTo($event)\\\" (onViewMode)=\\\"setViewMode($event)\\\" (onHover)=\\\"monthHoverHandler($event)\\\" (onSelect)=\\\"monthSelectHandler($event)\\\" ></bs-month-calendar-view> </div> <!--years calendar--> <div *ngSwitchCase=\\\"'year'\\\"> <bs-years-calendar-view *ngFor=\\\"let calendar of (yearsCalendar | async)\\\" [class.bs-datepicker-multiple]=\\\"(daysCalendar | async)?.length > 1\\\" [calendar]=\\\"calendar\\\" (onNavigate)=\\\"navigateTo($event)\\\" (onViewMode)=\\\"setViewMode($event)\\\" (onHover)=\\\"yearHoverHandler($event)\\\" (onSelect)=\\\"yearSelectHandler($event)\\\" ></bs-years-calendar-view> </div> </div> <!--applycancel buttons--> <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\"> <button class=\\\"btn btn-success\\\">Apply</button> <button class=\\\"btn btn-default\\\">Cancel</button> </div> </div> <!--custom dates or date ranges picker--> <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"false\\\"> <bs-custom-date-view [ranges]=\\\"_customRangesFish\\\"></bs-custom-date-view> </div> </div> \",\r\n  host: {\r\n    '(click)': '_stopPropagation($event)',\r\n    style: 'position: absolute; display: block;',\r\n    role: 'dialog',\r\n    'aria-label': 'calendar'\r\n  }\r\n})\r\nexport class BsDatepickerContainerComponent extends BsDatepickerAbstractComponent\r\n  implements OnInit, OnDestroy {\r\n  set value(value: Date) {\r\n    this._effects.setValue(value);\r\n  }\r\n  valueChange: EventEmitter<Date> = new EventEmitter<Date>();\r\n\r\n  _subs: Subscription[] = [];\r\n  constructor(\r\n    private _config: BsDatepickerConfig,\r\n    private _store: BsDatepickerStore,\r\n    private _actions: BsDatepickerActions,\r\n    _effects: BsDatepickerEffects\r\n  ) {\r\n    super();\r\n    this._effects = _effects;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.containerClass = this._config.containerClass;\r\n    this._effects\r\n      .init(this._store)\r\n      // intial state options\r\n      .setOptions(this._config)\r\n      // data binding view --> model\r\n      .setBindings(this)\r\n      // set event handlers\r\n      .setEventHandlers(this)\r\n      .registerDatepickerSideEffects();\r\n\r\n    // todo: move it somewhere else\r\n    // on selected date change\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.selectedDate)\r\n        .subscribe(date => this.valueChange.emit(date))\r\n    );\r\n  }\r\n\r\n  daySelectHandler(day: DayViewModel): void {\r\n    if (day.isOtherMonth || day.isDisabled) {\r\n      return;\r\n    }\r\n    this._store.dispatch(this._actions.select(day.date));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n    this._effects.destroy();\r\n  }\r\n}\r\n","import {\r\n  ComponentRef, Directive, ElementRef, EventEmitter, Input, OnChanges,\r\n  OnDestroy, OnInit, Output, Renderer2, SimpleChanges, ViewContainerRef\r\n} from '@angular/core';\r\nimport { ComponentLoader } from '../component-loader/component-loader.class';\r\nimport { ComponentLoaderFactory } from '../component-loader/component-loader.factory';\r\nimport { BsDatepickerContainerComponent } from './themes/bs/bs-datepicker-container.component';\r\nimport { Subscription } from 'rxjs';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\n\r\n@Directive({\r\n  selector: '[bsDatepicker]',\r\n  exportAs: 'bsDatepicker'\r\n})\r\nexport class BsDatepickerDirective implements OnInit, OnDestroy, OnChanges {\r\n  /**\r\n   * Placement of a datepicker. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  @Input() placement: 'top' | 'bottom' | 'left' | 'right' = 'bottom';\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  @Input() triggers = 'click';\r\n  /**\r\n   * Close datepicker on outside click\r\n   */\r\n  @Input() outsideClick = true;\r\n  /**\r\n   * A selector specifying the element the datepicker should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  @Input() container = 'body';\r\n\r\n  /**\r\n   * Returns whether or not the datepicker is currently being shown\r\n   */\r\n  @Input()\r\n  get isOpen(): boolean {\r\n    return this._datepicker.isShown;\r\n  }\r\n\r\n  set isOpen(value: boolean) {\r\n    if (value) {\r\n      this.show();\r\n    } else {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emits an event when the datepicker is shown\r\n   */\r\n  @Output() onShown: EventEmitter<any>;\r\n  /**\r\n   * Emits an event when the datepicker is hidden\r\n   */\r\n  @Output() onHidden: EventEmitter<any>;\r\n\r\n  _bsValue: Date;\r\n  /**\r\n   * Initial value of datepicker\r\n   */\r\n  @Input()\r\n  set bsValue(value: Date) {\r\n    if (this._bsValue === value) {\r\n      return;\r\n    }\r\n    this._bsValue = value;\r\n    this.bsValueChange.emit(value);\r\n  }\r\n\r\n  /**\r\n   * Config object for datepicker\r\n   */\r\n  @Input() bsConfig: Partial<BsDatepickerConfig>;\r\n  /**\r\n   * Indicates whether datepicker's content is enabled or not\r\n   */\r\n  @Input() isDisabled: boolean;\r\n  /**\r\n   * Minimum date which is available for selection\r\n   */\r\n  @Input() minDate: Date;\r\n  /**\r\n   * Maximum date which is available for selection\r\n   */\r\n  @Input() maxDate: Date;\r\n  /**\r\n   * Emits when datepicker value has been changed\r\n   */\r\n  @Output() bsValueChange: EventEmitter<Date> = new EventEmitter();\r\n\r\n  protected _subs: Subscription[] = [];\r\n\r\n  private _datepicker: ComponentLoader<BsDatepickerContainerComponent>;\r\n  private _datepickerRef: ComponentRef<BsDatepickerContainerComponent>;\r\n\r\n  constructor(public _config: BsDatepickerConfig,\r\n              _elementRef: ElementRef,\r\n              _renderer: Renderer2,\r\n              _viewContainerRef: ViewContainerRef,\r\n              cis: ComponentLoaderFactory) {\r\n    // todo: assign only subset of fields\r\n    Object.assign(this, this._config);\r\n    this._datepicker = cis.createLoader<BsDatepickerContainerComponent>(\r\n      _elementRef,\r\n      _viewContainerRef,\r\n      _renderer\r\n    );\r\n    this.onShown = this._datepicker.onShown;\r\n    this.onHidden = this._datepicker.onHidden;\r\n  }\r\n\r\n  ngOnInit(): any {\r\n    this._datepicker.listen({\r\n      outsideClick: this.outsideClick,\r\n      triggers: this.triggers,\r\n      show: () => this.show()\r\n    });\r\n    this.setConfig();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (!this._datepickerRef || !this._datepickerRef.instance) {\r\n      return;\r\n    }\r\n\r\n    if (changes.minDate) {\r\n      this._datepickerRef.instance.minDate = this.minDate;\r\n    }\r\n\r\n    if (changes.maxDate) {\r\n      this._datepickerRef.instance.maxDate = this.maxDate;\r\n    }\r\n\r\n    if (changes.isDisabled) {\r\n      this._datepickerRef.instance.isDisabled = this.isDisabled;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Opens an element’s datepicker. This is considered a “manual” triggering of\r\n   * the datepicker.\r\n   */\r\n  show(): void {\r\n    if (this._datepicker.isShown) {\r\n      return;\r\n    }\r\n\r\n    this.setConfig();\r\n\r\n    this._datepickerRef = this._datepicker\r\n      .provide({provide: BsDatepickerConfig, useValue: this._config})\r\n      .attach(BsDatepickerContainerComponent)\r\n      .to(this.container)\r\n      .position({attachment: this.placement})\r\n      .show({placement: this.placement});\r\n\r\n    // if date changes from external source (model -> view)\r\n    this._subs.push(\r\n      this.bsValueChange.subscribe((value: Date) => {\r\n        this._datepickerRef.instance.value = value;\r\n      })\r\n    );\r\n\r\n    // if date changes from picker (view -> model)\r\n    this._subs.push(\r\n      this._datepickerRef.instance.valueChange.subscribe((value: Date) => {\r\n        this.bsValue = value;\r\n        this.hide();\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Closes an element’s datepicker. This is considered a “manual” triggering of\r\n   * the datepicker.\r\n   */\r\n  hide(): void {\r\n    if (this.isOpen) {\r\n      this._datepicker.hide();\r\n    }\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles an element’s datepicker. This is considered a “manual” triggering\r\n   * of the datepicker.\r\n   */\r\n  toggle(): void {\r\n    if (this.isOpen) {\r\n      return this.hide();\r\n    }\r\n\r\n    this.show();\r\n  }\r\n\r\n  /**\r\n   * Set config for datepicker\r\n   */\r\n  setConfig(): void {\r\n    this._config = Object.assign({}, this._config, this.bsConfig, {\r\n      value: this._bsValue,\r\n      isDisabled: this.isDisabled,\r\n      minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\r\n      maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): any {\r\n    this._datepicker.dispose();\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Directive, ElementRef, forwardRef, Host, Renderer2 } from '@angular/core';\r\nimport {\r\n  AbstractControl, ControlValueAccessor, NG_VALIDATORS, NG_VALUE_ACCESSOR, ValidationErrors,\r\n  Validator\r\n} from '@angular/forms';\r\nimport { parseDate } from '../chronos/create/local';\r\nimport { formatDate } from '../chronos/format';\r\nimport { getLocale } from '../chronos/locale/locales';\r\nimport { isAfter, isBefore } from '../chronos/utils/date-compare';\r\nimport { isArray, isDateValid } from '../chronos/utils/type-checks';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\nimport { BsDaterangepickerDirective } from './bs-daterangepicker.component';\r\nimport { BsLocaleService } from './bs-locale.service';\r\n\r\nconst BS_DATERANGEPICKER_VALUE_ACCESSOR = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  // tslint:disable-next-line\r\n  useExisting: forwardRef(() => BsDaterangepickerInputDirective),\r\n  multi: true\r\n};\r\n\r\n\r\nconst BS_DATERANGEPICKER_VALIDATOR = {\r\n  provide: NG_VALIDATORS,\r\n  useExisting: forwardRef(() => BsDaterangepickerInputDirective),\r\n  multi: true\r\n};\r\n\r\n\r\n@Directive({\r\n  selector: `input[bsDaterangepicker]`,\r\n  host: {\r\n    '(change)': 'onChange($event)',\r\n    '(keyup.esc)': 'hide()',\r\n    '(blur)': 'onBlur()'\r\n  },\r\n  providers: [BS_DATERANGEPICKER_VALUE_ACCESSOR, BS_DATERANGEPICKER_VALIDATOR]\r\n})\r\nexport class BsDaterangepickerInputDirective\r\n  implements ControlValueAccessor, Validator {\r\n  private _onChange = Function.prototype;\r\n  private _onTouched = Function.prototype;\r\n  private _validatorChange = Function.prototype;\r\n  private _value: Date[];\r\n\r\n  constructor(@Host() private _picker: BsDaterangepickerDirective,\r\n              private _localeService: BsLocaleService,\r\n              private _renderer: Renderer2,\r\n              private _elRef: ElementRef,\r\n              private changeDetection: ChangeDetectorRef) {\r\n    // update input value on datepicker value update\r\n    this._picker.bsValueChange.subscribe((value: Date[]) => {\r\n      this._setInputValue(value);\r\n      if (this._value !== value) {\r\n        this._value = value;\r\n        this._onChange(value);\r\n        this._onTouched();\r\n      }\r\n      this.changeDetection.markForCheck();\r\n    });\r\n\r\n    // update input value on locale change\r\n    this._localeService.localeChange.subscribe(() => {\r\n      this._setInputValue(this._value);\r\n    });\r\n  }\r\n\r\n  _setInputValue(date: Date[]): void {\r\n    let range = '';\r\n    if (date) {\r\n      const start = !date[0] ? ''\r\n        : formatDate(date[0],\r\n          this._picker._config.rangeInputFormat,\r\n          this._localeService.currentLocale\r\n        );\r\n      const end = !date[1] ? ''\r\n        : formatDate(\r\n          date[1],\r\n          this._picker._config.rangeInputFormat,\r\n          this._localeService.currentLocale\r\n        );\r\n      range = (start && end) ? start + this._picker._config.rangeSeparator + end : '';\r\n    }\r\n    this._renderer.setProperty(this._elRef.nativeElement, 'value', range);\r\n  }\r\n\r\n  onChange(event: any) {\r\n    this.writeValue(event.target.value);\r\n    this._onChange(this._value);\r\n    this._onTouched();\r\n  }\r\n\r\n  validate(c: AbstractControl): ValidationErrors | null {\r\n    const _value: [Date, Date] = c.value;\r\n\r\n    if (_value === null || _value === undefined || !isArray(_value)) {\r\n      return null;\r\n    }\r\n\r\n\r\n    const _isDateValid = isDateValid(_value[0]) && isDateValid(_value[0]);\r\n\r\n    if (!_isDateValid) {\r\n      return { bsDate: { invalid: _value } };\r\n    }\r\n\r\n    if (this._picker && this._picker.minDate && isBefore(_value[0], this._picker.minDate, 'date')) {\r\n      return { bsDate: { minDate: this._picker.minDate } };\r\n    }\r\n\r\n    if (this._picker && this._picker.maxDate && isAfter(_value[1], this._picker.maxDate, 'date')) {\r\n      return { bsDate: { maxDate: this._picker.maxDate } };\r\n    }\r\n  }\r\n\r\n  registerOnValidatorChange(fn: () => void): void {\r\n    this._validatorChange = fn;\r\n  }\r\n\r\n  writeValue(value: Date[] | string) {\r\n    if (!value) {\r\n      this._value = null;\r\n    } else {\r\n      const _localeKey = this._localeService.currentLocale;\r\n      const _locale = getLocale(_localeKey);\r\n      if (!_locale) {\r\n        throw new Error(\r\n          `Locale \"${_localeKey}\" is not defined, please add it with \"defineLocale(...)\"`\r\n        );\r\n      }\r\n\r\n      let _input: (string[] | Date[]) = [];\r\n      if (typeof value === 'string') {\r\n        _input = value.split(this._picker._config.rangeSeparator);\r\n      }\r\n\r\n      if (Array.isArray(value)) {\r\n        _input = value;\r\n      }\r\n\r\n\r\n      this._value = (_input as string[])\r\n        .map((_val: string): Date =>\r\n          parseDate(_val, this._picker._config.dateInputFormat, this._localeService.currentLocale))\r\n        .map((date: Date) => (isNaN(date.valueOf()) ? null : date));\r\n    }\r\n\r\n    this._picker.bsValue = this._value;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this._picker.isDisabled = isDisabled;\r\n    if (isDisabled) {\r\n      this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');\r\n\r\n      return;\r\n    }\r\n    this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');\r\n  }\r\n\r\n  registerOnChange(fn: (value: any) => any): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => any): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  onBlur() {\r\n    this._onTouched();\r\n  }\r\n\r\n  hide() {\r\n    this._picker.hide();\r\n  }\r\n}\r\n","import { Component, EventEmitter, OnDestroy, OnInit } from '@angular/core';\r\nimport { BsDatepickerAbstractComponent } from '../../base/bs-datepicker-container';\r\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\r\nimport { DayViewModel } from '../../models/index';\r\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\r\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\r\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'bs-daterangepicker-container',\r\n  providers: [BsDatepickerStore, BsDatepickerEffects],\r\n  template: \"<!-- days calendar view mode --> <div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\"> <div class=\\\"bs-datepicker-container\\\"> <!--calendars--> <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\"> <!--days calendar--> <div *ngSwitchCase=\\\"'day'\\\"> <bs-days-calendar-view *ngFor=\\\"let calendar of (daysCalendar | async)\\\" [class.bs-datepicker-multiple]=\\\"(daysCalendar | async)?.length > 1\\\" [calendar]=\\\"calendar\\\" [options]=\\\"options | async\\\" (onNavigate)=\\\"navigateTo($event)\\\" (onViewMode)=\\\"setViewMode($event)\\\" (onHover)=\\\"dayHoverHandler($event)\\\" (onSelect)=\\\"daySelectHandler($event)\\\" ></bs-days-calendar-view> </div> <!--months calendar--> <div *ngSwitchCase=\\\"'month'\\\"> <bs-month-calendar-view *ngFor=\\\"let calendar of (monthsCalendar | async)\\\" [class.bs-datepicker-multiple]=\\\"(daysCalendar | async)?.length > 1\\\" [calendar]=\\\"calendar\\\" (onNavigate)=\\\"navigateTo($event)\\\" (onViewMode)=\\\"setViewMode($event)\\\" (onHover)=\\\"monthHoverHandler($event)\\\" (onSelect)=\\\"monthSelectHandler($event)\\\" ></bs-month-calendar-view> </div> <!--years calendar--> <div *ngSwitchCase=\\\"'year'\\\"> <bs-years-calendar-view *ngFor=\\\"let calendar of (yearsCalendar | async)\\\" [class.bs-datepicker-multiple]=\\\"(daysCalendar | async)?.length > 1\\\" [calendar]=\\\"calendar\\\" (onNavigate)=\\\"navigateTo($event)\\\" (onViewMode)=\\\"setViewMode($event)\\\" (onHover)=\\\"yearHoverHandler($event)\\\" (onSelect)=\\\"yearSelectHandler($event)\\\" ></bs-years-calendar-view> </div> </div> <!--applycancel buttons--> <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\"> <button class=\\\"btn btn-success\\\">Apply</button> <button class=\\\"btn btn-default\\\">Cancel</button> </div> </div> <!--custom dates or date ranges picker--> <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"false\\\"> <bs-custom-date-view [ranges]=\\\"_customRangesFish\\\"></bs-custom-date-view> </div> </div> \",\r\n  host: {\r\n    '(click)': '_stopPropagation($event)',\r\n    style: 'position: absolute; display: block;',\r\n    role: 'dialog',\r\n    'aria-label': 'calendar'\r\n  }\r\n})\r\nexport class BsDaterangepickerContainerComponent extends BsDatepickerAbstractComponent\r\n  implements OnInit, OnDestroy {\r\n  set value(value: Date[]) {\r\n    this._effects.setRangeValue(value);\r\n  }\r\n\r\n  valueChange = new EventEmitter<Date[]>();\r\n\r\n  _rangeStack: Date[] = [];\r\n  _subs: Subscription[] = [];\r\n  constructor(\r\n    private _config: BsDatepickerConfig,\r\n    private _store: BsDatepickerStore,\r\n    private _actions: BsDatepickerActions,\r\n    _effects: BsDatepickerEffects\r\n  ) {\r\n    super();\r\n    this._effects = _effects;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.containerClass = this._config.containerClass;\r\n    this._effects\r\n      .init(this._store)\r\n      // intial state options\r\n      // todo: fix this, split configs\r\n      .setOptions(this._config)\r\n      // data binding view --> model\r\n      .setBindings(this)\r\n      // set event handlers\r\n      .setEventHandlers(this)\r\n      .registerDatepickerSideEffects();\r\n\r\n    // todo: move it somewhere else\r\n    // on selected date change\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.selectedRange)\r\n        .subscribe(date => this.valueChange.emit(date))\r\n    );\r\n  }\r\n\r\n  daySelectHandler(day: DayViewModel): void {\r\n    if (day.isOtherMonth || day.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    // if only one date is already selected\r\n    // and user clicks on previous date\r\n    // start selection from new date\r\n    // but if new date is after initial one\r\n    // than finish selection\r\n    if (this._rangeStack.length === 1) {\r\n      this._rangeStack =\r\n        day.date >= this._rangeStack[0]\r\n          ? [this._rangeStack[0], day.date]\r\n          : [day.date];\r\n    }\r\n\r\n    if (this._rangeStack.length === 0) {\r\n      this._rangeStack = [day.date];\r\n    }\r\n\r\n    this._store.dispatch(this._actions.selectRange(this._rangeStack));\r\n\r\n    if (this._rangeStack.length === 2) {\r\n      this._rangeStack = [];\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n    this._effects.destroy();\r\n  }\r\n}\r\n","import {\r\n  ComponentRef,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { BsDaterangepickerConfig } from './bs-daterangepicker.config';\r\nimport { BsDaterangepickerContainerComponent } from './themes/bs/bs-daterangepicker-container.component';\r\nimport { Subscription } from 'rxjs';\r\nimport { ComponentLoaderFactory } from '../component-loader/component-loader.factory';\r\nimport { ComponentLoader } from '../component-loader/component-loader.class';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\nimport { filter } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[bsDaterangepicker]',\r\n  exportAs: 'bsDaterangepicker'\r\n})\r\nexport class BsDaterangepickerDirective\r\n  implements OnInit, OnDestroy, OnChanges {\r\n  /**\r\n   * Placement of a daterangepicker. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  @Input() placement: 'top' | 'bottom' | 'left' | 'right' = 'bottom';\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  @Input() triggers = 'click';\r\n  /**\r\n   * Close daterangepicker on outside click\r\n   */\r\n  @Input() outsideClick = true;\r\n  /**\r\n   * A selector specifying the element the daterangepicker should be appended\r\n   * to. Currently only supports \"body\".\r\n   */\r\n  @Input() container = 'body';\r\n\r\n  /**\r\n   * Returns whether or not the daterangepicker is currently being shown\r\n   */\r\n  @Input()\r\n  get isOpen(): boolean {\r\n    return this._datepicker.isShown;\r\n  }\r\n\r\n  set isOpen(value: boolean) {\r\n    if (value) {\r\n      this.show();\r\n    } else {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emits an event when the daterangepicker is shown\r\n   */\r\n  @Output() onShown: EventEmitter<any>;\r\n  /**\r\n   * Emits an event when the daterangepicker is hidden\r\n   */\r\n  @Output() onHidden: EventEmitter<any>;\r\n\r\n  _bsValue: Date[];\r\n  /**\r\n   * Initial value of daterangepicker\r\n   */\r\n  @Input()\r\n  set bsValue(value: Date[]) {\r\n    if (this._bsValue === value) {\r\n      return;\r\n    }\r\n    this._bsValue = value;\r\n    this.bsValueChange.emit(value);\r\n  }\r\n\r\n  /**\r\n   * Config object for daterangepicker\r\n   */\r\n  @Input() bsConfig: Partial<BsDaterangepickerConfig>;\r\n  /**\r\n   * Indicates whether daterangepicker's content is enabled or not\r\n   */\r\n  @Input() isDisabled: boolean;\r\n  /**\r\n   * Minimum date which is available for selection\r\n   */\r\n  @Input() minDate: Date;\r\n  /**\r\n   * Maximum date which is available for selection\r\n   */\r\n  @Input() maxDate: Date;\r\n  /**\r\n   * Emits when daterangepicker value has been changed\r\n   */\r\n  @Output() bsValueChange: EventEmitter<Date[]> = new EventEmitter();\r\n\r\n  protected _subs: Subscription[] = [];\r\n\r\n  private _datepicker: ComponentLoader<BsDaterangepickerContainerComponent>;\r\n  private _datepickerRef: ComponentRef<BsDaterangepickerContainerComponent>;\r\n\r\n  constructor(public _config: BsDaterangepickerConfig,\r\n              _elementRef: ElementRef,\r\n              _renderer: Renderer2,\r\n              _viewContainerRef: ViewContainerRef,\r\n              cis: ComponentLoaderFactory) {\r\n    this._datepicker = cis.createLoader<BsDaterangepickerContainerComponent>(\r\n      _elementRef,\r\n      _viewContainerRef,\r\n      _renderer\r\n    );\r\n    Object.assign(this, _config);\r\n    this.onShown = this._datepicker.onShown;\r\n    this.onHidden = this._datepicker.onHidden;\r\n  }\r\n\r\n  ngOnInit(): any {\r\n    this._datepicker.listen({\r\n      outsideClick: this.outsideClick,\r\n      triggers: this.triggers,\r\n      show: () => this.show()\r\n    });\r\n    this.setConfig();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (!this._datepickerRef || !this._datepickerRef.instance) {\r\n      return;\r\n    }\r\n\r\n    if (changes.minDate) {\r\n      this._datepickerRef.instance.minDate = this.minDate;\r\n    }\r\n\r\n    if (changes.maxDate) {\r\n      this._datepickerRef.instance.maxDate = this.maxDate;\r\n    }\r\n\r\n    if (changes.isDisabled) {\r\n      this._datepickerRef.instance.isDisabled = this.isDisabled;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Opens an element’s datepicker. This is considered a “manual” triggering of\r\n   * the datepicker.\r\n   */\r\n  show(): void {\r\n    if (this._datepicker.isShown) {\r\n      return;\r\n    }\r\n\r\n    this.setConfig();\r\n\r\n    this._datepickerRef = this._datepicker\r\n      .provide({provide: BsDatepickerConfig, useValue: this._config})\r\n      .attach(BsDaterangepickerContainerComponent)\r\n      .to(this.container)\r\n      .position({attachment: this.placement})\r\n      .show({placement: this.placement});\r\n\r\n    // if date changes from external source (model -> view)\r\n    this._subs.push(\r\n      this.bsValueChange.subscribe((value: Date[]) => {\r\n        this._datepickerRef.instance.value = value;\r\n      })\r\n    );\r\n\r\n    // if date changes from picker (view -> model)\r\n    this._subs.push(\r\n      this._datepickerRef.instance.valueChange\r\n        .pipe(\r\n          filter((range: Date[]) => range && range[0] && !!range[1])\r\n        )\r\n        .subscribe((value: Date[]) => {\r\n          this.bsValue = value;\r\n          this.hide();\r\n        })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Set config for daterangepicker\r\n   */\r\n  setConfig() {\r\n    this._config = Object.assign(\r\n      {},\r\n      this._config,\r\n      this.bsConfig,\r\n      {\r\n        value: this._bsValue,\r\n        isDisabled: this.isDisabled,\r\n        minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\r\n        maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Closes an element’s datepicker. This is considered a “manual” triggering of\r\n   * the datepicker.\r\n   */\r\n  hide(): void {\r\n    if (this.isOpen) {\r\n      this._datepicker.hide();\r\n    }\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles an element’s datepicker. This is considered a “manual” triggering\r\n   * of the datepicker.\r\n   */\r\n  toggle(): void {\r\n    if (this.isOpen) {\r\n      return this.hide();\r\n    }\r\n\r\n    this.show();\r\n  }\r\n\r\n  ngOnDestroy(): any {\r\n    this._datepicker.dispose();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\n\r\n@Injectable()\r\nexport class BsDaterangepickerConfig extends BsDatepickerConfig {\r\n  // DatepickerRenderOptions\r\n  displayMonths = 2;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class BsLocaleService {\r\n  private _defaultLocale = 'en';\r\n  private _locale = new BehaviorSubject<string>(this._defaultLocale);\r\n  private _localeChange: Observable<string> = this._locale.asObservable();\r\n\r\n  get locale(): BehaviorSubject<string> {\r\n    return this._locale;\r\n  }\r\n\r\n  get localeChange(): Observable<string> {\r\n    return this._localeChange;\r\n  }\r\n\r\n  get currentLocale(): string {\r\n    return this._locale.getValue();\r\n  }\r\n\r\n  use(locale: string): void {\r\n    if (locale === this.currentLocale) {\r\n      return;\r\n    }\r\n\r\n    this._locale.next(locale);\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-calendar-layout',\r\n  template: `\r\n    <!-- current date, will be added in nearest releases -->\r\n    <bs-current-date title=\"hey there\" *ngIf=\"false\"></bs-current-date>\r\n\r\n    <!--navigation-->\r\n    <div class=\"bs-datepicker-head\">\r\n      <ng-content select=\"bs-datepicker-navigation-view\"></ng-content>\r\n    </div>\r\n\r\n    <div class=\"bs-datepicker-body\">\r\n      <ng-content></ng-content>\r\n    </div>\r\n\r\n    <!--timepicker-->\r\n    <bs-timepicker *ngIf=\"false\"></bs-timepicker>\r\n  `\r\n})\r\nexport class BsCalendarLayoutComponent {}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-current-date',\r\n  template: `<div class=\"current-timedate\"><span>{{ title }}</span></div>`\r\n})\r\nexport class BsCurrentDateViewComponent {\r\n  @Input() title: string;\r\n}\r\n","import { Component, ChangeDetectionStrategy, Input } from '@angular/core';\r\n\r\nexport interface BsCustomDates {\r\n  label: string;\r\n  value: Date | Date[];\r\n}\r\n\r\n@Component({\r\n  selector: 'bs-custom-date-view',\r\n  template: `\r\n    <div class=\"bs-datepicker-predefined-btns\">\r\n      <button *ngFor=\"let range of ranges\">{{ range.label }}</button>\r\n      <button *ngIf=\"isCustomRangeShown\">Custom Range</button>\r\n    </div>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class BsCustomDatesViewComponent {\r\n  @Input() isCustomRangeShown: true;\r\n  @Input() ranges: BsCustomDates[];\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\nimport { DayViewModel } from '../../models/index';\r\n\r\n@Component({\r\n  selector: '[bsDatepickerDayDecorator]',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    '[class.disabled]': 'day.isDisabled',\r\n    '[class.is-highlighted]': 'day.isHovered',\r\n    '[class.is-other-month]': 'day.isOtherMonth',\r\n    '[class.in-range]': 'day.isInRange',\r\n    '[class.select-start]': 'day.isSelectionStart',\r\n    '[class.select-end]': 'day.isSelectionEnd',\r\n    '[class.selected]': 'day.isSelected'\r\n  },\r\n  template: `{{ day.label }}`\r\n})\r\nexport class BsDatepickerDayDecoratorComponent {\r\n  @Input() day: DayViewModel;\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output\r\n} from '@angular/core';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationDirection,\r\n  DaysCalendarViewModel\r\n} from '../../models/index';\r\n\r\n@Component({\r\n  selector: 'bs-datepicker-navigation-view',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <button class=\"previous\"\r\n            [disabled]=\"calendar.disableLeftArrow\"\r\n            [style.visibility]=\"calendar.hideLeftArrow ? 'hidden' : 'visible'\"\r\n            (click)=\"navTo(true)\"><span>&lsaquo;</span>\r\n    </button>\r\n\r\n    <button class=\"current\"\r\n            *ngIf=\"calendar.monthTitle\"\r\n            (click)=\"view('month')\"\r\n    ><span>{{ calendar.monthTitle }}</span>\r\n    </button>\r\n\r\n    <button class=\"current\" (click)=\"view('year')\"\r\n    ><span>{{ calendar.yearTitle }}</span></button>\r\n\r\n    <button class=\"next\"\r\n            [disabled]=\"calendar.disableRightArrow\"\r\n            [style.visibility]=\"calendar.hideRightArrow ? 'hidden' : 'visible'\"\r\n            (click)=\"navTo(false)\"><span>&rsaquo;</span>\r\n    </button>\r\n  `\r\n})\r\nexport class BsDatepickerNavigationViewComponent {\r\n  @Input() calendar: DaysCalendarViewModel;\r\n\r\n  @Output() onNavigate = new EventEmitter<BsNavigationDirection>();\r\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\r\n\r\n  navTo(down: boolean): void {\r\n    this.onNavigate.emit(\r\n      down ? BsNavigationDirection.DOWN : BsNavigationDirection.UP\r\n    );\r\n  }\r\n\r\n  view(viewMode: BsDatepickerViewMode): void {\r\n    this.onViewMode.emit(viewMode);\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output\r\n} from '@angular/core';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationDirection,\r\n  BsNavigationEvent,\r\n  CellHoverEvent,\r\n  DatepickerRenderOptions,\r\n  DaysCalendarViewModel,\r\n  DayViewModel\r\n} from '../../models/index';\r\n\r\n@Component({\r\n  selector: 'bs-days-calendar-view',\r\n  // changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <bs-calendar-layout>\r\n      <bs-datepicker-navigation-view\r\n        [calendar]=\"calendar\"\r\n        (onNavigate)=\"navigateTo($event)\"\r\n        (onViewMode)=\"changeViewMode($event)\"\r\n      ></bs-datepicker-navigation-view>\r\n\r\n      <!--days matrix-->\r\n      <table role=\"grid\" class=\"days weeks\">\r\n        <thead>\r\n        <tr>\r\n          <!--if show weeks-->\r\n          <th *ngIf=\"options.showWeekNumbers\"></th>\r\n          <th *ngFor=\"let weekday of calendar.weekdays; let i = index\"\r\n              aria-label=\"weekday\">{{ calendar.weekdays[i] }}\r\n          </th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr *ngFor=\"let week of calendar.weeks; let i = index\">\r\n          <td class=\"week\" *ngIf=\"options.showWeekNumbers\">\r\n            <span>{{ calendar.weekNumbers[i] }}</span>\r\n          </td>\r\n          <td *ngFor=\"let day of week.days\" role=\"gridcell\">\r\n          <span bsDatepickerDayDecorator\r\n                [day]=\"day\"\r\n                (click)=\"selectDay(day)\"\r\n                (mouseenter)=\"hoverDay(day, true)\"\r\n                (mouseleave)=\"hoverDay(day, false)\">{{ day.label }}</span>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n    </bs-calendar-layout>\r\n  `\r\n})\r\nexport class BsDaysCalendarViewComponent {\r\n  @Input() calendar: DaysCalendarViewModel;\r\n  @Input() options: DatepickerRenderOptions;\r\n\r\n  @Output() onNavigate = new EventEmitter<BsNavigationEvent>();\r\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\r\n\r\n  @Output() onSelect = new EventEmitter<DayViewModel>();\r\n  @Output() onHover = new EventEmitter<CellHoverEvent>();\r\n\r\n  navigateTo(event: BsNavigationDirection): void {\r\n    const step = BsNavigationDirection.DOWN === event ? -1 : 1;\r\n    this.onNavigate.emit({ step: { month: step } });\r\n  }\r\n\r\n  changeViewMode(event: BsDatepickerViewMode): void {\r\n    this.onViewMode.emit(event);\r\n  }\r\n\r\n  selectDay(event: DayViewModel): void {\r\n    this.onSelect.emit(event);\r\n  }\r\n\r\n  hoverDay(cell: DayViewModel, isHovered: boolean): void {\r\n    this.onHover.emit({ cell, isHovered });\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationDirection,\r\n  BsNavigationEvent,\r\n  CellHoverEvent,\r\n  MonthsCalendarViewModel,\r\n  CalendarCellViewModel\r\n} from '../../models/index';\r\n\r\n@Component({\r\n  selector: 'bs-month-calendar-view',\r\n  template: `\r\n    <bs-calendar-layout>\r\n      <bs-datepicker-navigation-view\r\n        [calendar]=\"calendar\"\r\n        (onNavigate)=\"navigateTo($event)\"\r\n        (onViewMode)=\"changeViewMode($event)\"\r\n      ></bs-datepicker-navigation-view>\r\n\r\n      <table role=\"grid\" class=\"months\">\r\n        <tbody>\r\n        <tr *ngFor=\"let row of calendar.months\">\r\n          <td *ngFor=\"let month of row\" role=\"gridcell\"\r\n              (click)=\"viewMonth(month)\"\r\n              (mouseenter)=\"hoverMonth(month, true)\"\r\n              (mouseleave)=\"hoverMonth(month, false)\"\r\n              [class.disabled]=\"month.isDisabled\"\r\n              [class.is-highlighted]=\"month.isHovered\">\r\n            <span>{{ month.label }}</span>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </bs-calendar-layout>\r\n  `\r\n})\r\nexport class BsMonthCalendarViewComponent {\r\n  @Input() calendar: MonthsCalendarViewModel;\r\n\r\n  @Output() onNavigate = new EventEmitter<BsNavigationEvent>();\r\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\r\n\r\n  @Output() onSelect = new EventEmitter<CalendarCellViewModel>();\r\n  @Output() onHover = new EventEmitter<CellHoverEvent>();\r\n\r\n  navigateTo(event: BsNavigationDirection): void {\r\n    const step = BsNavigationDirection.DOWN === event ? -1 : 1;\r\n    this.onNavigate.emit({ step: { year: step } });\r\n  }\r\n\r\n  viewMonth(month: CalendarCellViewModel) {\r\n    this.onSelect.emit(month);\r\n  }\r\n\r\n  hoverMonth(cell: CalendarCellViewModel, isHovered: boolean) {\r\n    this.onHover.emit({ cell, isHovered });\r\n  }\r\n\r\n  changeViewMode(event: BsDatepickerViewMode): void {\r\n    this.onViewMode.emit(event);\r\n  }\r\n}\r\n","// tslint:disable:max-line-length\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-timepicker',\r\n  template: `\r\n    <div class=\"bs-timepicker-container\">\r\n      <div class=\"bs-timepicker-controls\">\r\n        <button class=\"bs-decrease\">-</button>\r\n        <input type=\"text\" [value]=\"hours\" placeholder=\"00\">\r\n        <button class=\"bs-increase\">+</button>\r\n      </div>\r\n      <div class=\"bs-timepicker-controls\">\r\n        <button class=\"bs-decrease\">-</button>\r\n        <input type=\"text\" [value]=\"minutes\" placeholder=\"00\">\r\n        <button class=\"bs-increase\">+</button>\r\n      </div>\r\n      <button class=\"switch-time-format\">{{ ampm }}\r\n        <img\r\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==\"\r\n          alt=\"\">\r\n      </button>\r\n    </div>\r\n  `\r\n})\r\nexport class BsTimepickerViewComponent {\r\n  ampm = 'ok';\r\n  hours = 0;\r\n  minutes = 0;\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { yearsPerCalendar } from '../../engine/format-years-calendar';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationDirection,\r\n  BsNavigationEvent,\r\n  CalendarCellViewModel,\r\n  CellHoverEvent,\r\n  YearsCalendarViewModel\r\n} from '../../models/index';\r\n\r\n@Component({\r\n  selector: 'bs-years-calendar-view',\r\n  template: `\r\n    <bs-calendar-layout>\r\n      <bs-datepicker-navigation-view\r\n        [calendar]=\"calendar\"\r\n        (onNavigate)=\"navigateTo($event)\"\r\n        (onViewMode)=\"changeViewMode($event)\"\r\n      ></bs-datepicker-navigation-view>\r\n\r\n      <table role=\"grid\" class=\"years\">\r\n        <tbody>\r\n        <tr *ngFor=\"let row of calendar.years\">\r\n          <td *ngFor=\"let year of row\" role=\"gridcell\"\r\n              (click)=\"viewYear(year)\"\r\n              (mouseenter)=\"hoverYear(year, true)\"\r\n              (mouseleave)=\"hoverYear(year, false)\"\r\n              [class.disabled]=\"year.isDisabled\"\r\n              [class.is-highlighted]=\"year.isHovered\">\r\n            <span>{{ year.label }}</span>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </bs-calendar-layout>\r\n  `\r\n})\r\nexport class BsYearsCalendarViewComponent {\r\n  @Input() calendar: YearsCalendarViewModel;\r\n\r\n  @Output() onNavigate = new EventEmitter<BsNavigationEvent>();\r\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\r\n\r\n  @Output() onSelect = new EventEmitter<CalendarCellViewModel>();\r\n  @Output() onHover = new EventEmitter<CellHoverEvent>();\r\n\r\n  navigateTo(event: BsNavigationDirection): void {\r\n    const step = BsNavigationDirection.DOWN === event ? -1 : 1;\r\n    this.onNavigate.emit({ step: { year: step * yearsPerCalendar } });\r\n  }\r\n\r\n  viewYear(year: CalendarCellViewModel) {\r\n    this.onSelect.emit(year);\r\n  }\r\n\r\n  hoverYear(cell: CalendarCellViewModel, isHovered: boolean) {\r\n    this.onHover.emit({ cell, isHovered });\r\n  }\r\n\r\n  changeViewMode(event: BsDatepickerViewMode): void {\r\n    this.onViewMode.emit(event);\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { ComponentLoaderFactory } from '../component-loader/component-loader.factory';\r\nimport { PositioningService } from '../positioning/positioning.service';\r\n\r\nimport { warnOnce } from '../utils/warn-once';\r\nimport { BsDatepickerInputDirective } from './bs-datepicker-input.directive';\r\nimport { BsDatepickerDirective } from './bs-datepicker.component';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\nimport { BsDaterangepickerInputDirective } from './bs-daterangepicker-input.directive';\r\nimport { BsDaterangepickerDirective } from './bs-daterangepicker.component';\r\nimport { BsDaterangepickerConfig } from './bs-daterangepicker.config';\r\n\r\nimport { BsLocaleService } from './bs-locale.service';\r\nimport { BsDatepickerActions } from './reducer/bs-datepicker.actions';\r\nimport { BsDatepickerEffects } from './reducer/bs-datepicker.effects';\r\nimport { BsDatepickerStore } from './reducer/bs-datepicker.store';\r\nimport { BsCalendarLayoutComponent } from './themes/bs/bs-calendar-layout.component';\r\nimport { BsCurrentDateViewComponent } from './themes/bs/bs-current-date-view.component';\r\nimport { BsCustomDatesViewComponent } from './themes/bs/bs-custom-dates-view.component';\r\nimport { BsDatepickerContainerComponent } from './themes/bs/bs-datepicker-container.component';\r\nimport { BsDatepickerDayDecoratorComponent } from './themes/bs/bs-datepicker-day-decorator.directive';\r\nimport { BsDatepickerNavigationViewComponent } from './themes/bs/bs-datepicker-navigation-view.component';\r\nimport { BsDaterangepickerContainerComponent } from './themes/bs/bs-daterangepicker-container.component';\r\nimport { BsDaysCalendarViewComponent } from './themes/bs/bs-days-calendar-view.component';\r\nimport { BsMonthCalendarViewComponent } from './themes/bs/bs-months-calendar-view.component';\r\nimport { BsTimepickerViewComponent } from './themes/bs/bs-timepicker-view.component';\r\nimport { BsYearsCalendarViewComponent } from './themes/bs/bs-years-calendar-view.component';\r\n\r\nconst _exports = [\r\n  BsDatepickerContainerComponent,\r\n  BsDaterangepickerContainerComponent,\r\n\r\n  BsDatepickerDirective,\r\n  BsDatepickerInputDirective,\r\n\r\n  BsDaterangepickerInputDirective,\r\n  BsDaterangepickerDirective\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [\r\n    BsDatepickerDayDecoratorComponent,\r\n    BsCurrentDateViewComponent,\r\n    BsDatepickerNavigationViewComponent,\r\n    BsTimepickerViewComponent,\r\n\r\n    BsCalendarLayoutComponent,\r\n    BsDaysCalendarViewComponent,\r\n    BsMonthCalendarViewComponent,\r\n    BsYearsCalendarViewComponent,\r\n\r\n    BsCustomDatesViewComponent,\r\n\r\n    ..._exports\r\n  ],\r\n  entryComponents: [\r\n    BsDatepickerContainerComponent,\r\n    BsDaterangepickerContainerComponent\r\n  ],\r\n  exports: _exports\r\n})\r\nexport class BsDatepickerModule {\r\n  constructor() {\r\n    warnOnce(`BsDatepickerModule is under development,\r\n      BREAKING CHANGES are possible,\r\n      PLEASE, read changelog`);\r\n  }\r\n\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: BsDatepickerModule,\r\n      providers: [\r\n        ComponentLoaderFactory,\r\n        PositioningService,\r\n        BsDatepickerStore,\r\n        BsDatepickerActions,\r\n        BsDatepickerConfig,\r\n        BsDaterangepickerConfig,\r\n        BsDatepickerEffects,\r\n        BsLocaleService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class BsModalRef {\r\n  /**\r\n   * Reference to a component inside the modal. Null if modal's been created with TemplateRef\r\n   */\r\n  content?: any | null;\r\n\r\n  /**\r\n   * Hides the modal\r\n   */\r\n  hide: () => void = Function;\r\n}\r\n","export class ModalBackdropOptions {\r\n  animate = true;\r\n\r\n  constructor(options: ModalBackdropOptions) {\r\n    Object.assign(this, options);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ModalOptions {\r\n  /**\r\n   *  Includes a modal-backdrop element. Alternatively,\r\n   *  specify static for a backdrop which doesn't close the modal on click.\r\n   */\r\n  backdrop?: boolean | 'static';\r\n  /**\r\n   * Closes the modal when escape key is pressed.\r\n   */\r\n  keyboard?: boolean;\r\n\r\n  focus?: boolean;\r\n  /**\r\n   * Shows the modal when initialized.\r\n   */\r\n  show?: boolean;\r\n  /**\r\n   * Ignore the backdrop click\r\n   */\r\n  ignoreBackdropClick?: boolean;\r\n  /**\r\n   * Css class for opened modal\r\n   */\r\n  class?: string;\r\n  /**\r\n   * Toggle animation\r\n   */\r\n  animated?: boolean;\r\n  /**\r\n   * Modal data\r\n   */\r\n  initialState?: Object;\r\n}\r\n\r\n\r\nexport const modalConfigDefaults: ModalOptions = {\r\n  backdrop: true,\r\n  keyboard: true,\r\n  focus: true,\r\n  show: false,\r\n  ignoreBackdropClick: false,\r\n  class: '',\r\n  animated: true,\r\n  initialState: {}\r\n};\r\n\r\nexport const CLASS_NAME: any = {\r\n  SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\r\n  BACKDROP: 'modal-backdrop',\r\n  OPEN: 'modal-open',\r\n  FADE: 'fade',\r\n  IN: 'in', // bs3\r\n  SHOW: 'show' // bs4\r\n};\r\n\r\nexport const SELECTOR: any = {\r\n  DIALOG: '.modal-dialog',\r\n  DATA_TOGGLE: '[data-toggle=\"modal\"]',\r\n  DATA_DISMISS: '[data-dismiss=\"modal\"]',\r\n  FIXED_CONTENT: '.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed'\r\n};\r\n\r\nexport const TRANSITION_DURATIONS: any = {\r\n  MODAL: 300,\r\n  BACKDROP: 150\r\n};\r\n\r\nexport const DISMISS_REASONS = {\r\n  BACKRDOP: 'backdrop-click',\r\n  ESC: 'esc'\r\n};\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2\r\n} from '@angular/core';\r\nimport {\r\n  CLASS_NAME,\r\n  DISMISS_REASONS,\r\n  ModalOptions,\r\n  TRANSITION_DURATIONS\r\n} from './modal-options.class';\r\nimport { BsModalService } from './bs-modal.service';\r\nimport { isBs3 } from '../utils/theme-provider';\r\n\r\n@Component({\r\n  selector: 'modal-container',\r\n  template: `\r\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <ng-content></ng-content>\r\n      </div>\r\n    </div>\r\n  `,\r\n  host: {\r\n    class: 'modal',\r\n    role: 'dialog',\r\n    tabindex: '-1',\r\n    '[attr.aria-modal]': 'true'\r\n  }\r\n})\r\nexport class ModalContainerComponent implements OnInit, OnDestroy {\r\n  config: ModalOptions;\r\n  isShown = false;\r\n  level: number;\r\n  isAnimated: boolean;\r\n  bsModalService: BsModalService;\r\n  private isModalHiding = false;\r\n\r\n  constructor(options: ModalOptions,\r\n              protected _element: ElementRef,\r\n              private _renderer: Renderer2) {\r\n    this.config = Object.assign({}, options);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.isAnimated) {\r\n      this._renderer.addClass(\r\n        this._element.nativeElement,\r\n        CLASS_NAME.FADE\r\n      );\r\n    }\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'display',\r\n      'block'\r\n    );\r\n    setTimeout(() => {\r\n      this.isShown = true;\r\n      this._renderer.addClass(\r\n        this._element.nativeElement,\r\n        isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW\r\n      );\r\n    }, this.isAnimated ? TRANSITION_DURATIONS.BACKDROP : 0);\r\n    if (document && document.body) {\r\n      if (this.bsModalService.getModalsCount() === 1) {\r\n        this.bsModalService.checkScrollbar();\r\n        this.bsModalService.setScrollbar();\r\n      }\r\n      this._renderer.addClass(document.body, CLASS_NAME.OPEN);\r\n    }\r\n    if (this._element.nativeElement) {\r\n      this._element.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: any): void {\r\n    if (\r\n      this.config.ignoreBackdropClick ||\r\n      this.config.backdrop === 'static' ||\r\n      event.target !== this._element.nativeElement\r\n    ) {\r\n      return;\r\n    }\r\n    this.bsModalService.setDismissReason(DISMISS_REASONS.BACKRDOP);\r\n    this.hide();\r\n  }\r\n\r\n  @HostListener('window:keydown.esc', ['$event'])\r\n  onEsc(event: any): void {\r\n    if (!this.isShown) {\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === 27) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (\r\n      this.config.keyboard &&\r\n      this.level === this.bsModalService.getModalsCount()\r\n    ) {\r\n      this.bsModalService.setDismissReason(DISMISS_REASONS.ESC);\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.isShown) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  hide(): void {\r\n    if (this.isModalHiding || !this.isShown) {\r\n      return;\r\n    }\r\n    this.isModalHiding = true;\r\n    this._renderer.removeClass(\r\n      this._element.nativeElement,\r\n      isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW\r\n    );\r\n    setTimeout(() => {\r\n      this.isShown = false;\r\n      if (\r\n        document &&\r\n        document.body &&\r\n        this.bsModalService.getModalsCount() === 1\r\n      ) {\r\n        this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\r\n      }\r\n      this.bsModalService.hide(this.level);\r\n      this.isModalHiding = false;\r\n    }, this.isAnimated ? TRANSITION_DURATIONS.MODAL : 0);\r\n  }\r\n}\r\n","import { window } from './facade/browser';\r\n\r\nexport class Utils {\r\n  static reflow(element: any): void {\r\n    ((bs: any): void => bs)(element.offsetHeight);\r\n  }\r\n\r\n  // source: https://github.com/jquery/jquery/blob/master/src/css/var/getStyles.js\r\n  static getStyles(elem: any): any {\r\n    // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\r\n    // IE throws on elements created in popups\r\n    // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\r\n    let view = elem.ownerDocument.defaultView;\r\n\r\n    if (!view || !view.opener) {\r\n      view = window;\r\n    }\r\n\r\n    return view.getComputedStyle(elem);\r\n  }\r\n}\r\n","import { Component, ElementRef, OnInit, Renderer2 } from '@angular/core';\r\n\r\nimport { CLASS_NAME } from './modal-options.class';\r\nimport { isBs3 } from '../utils/theme-provider';\r\nimport { Utils } from '../utils/utils.class';\r\n\r\n\r\n/** This component will be added as background layout for modals if enabled */\r\n@Component({\r\n  selector: 'bs-modal-backdrop',\r\n  template: ' ',\r\n  host: { class: CLASS_NAME.BACKDROP }\r\n})\r\nexport class ModalBackdropComponent implements OnInit {\r\n  get isAnimated(): boolean {\r\n    return this._isAnimated;\r\n  }\r\n\r\n  set isAnimated(value: boolean) {\r\n    this._isAnimated = value;\r\n    // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\r\n  }\r\n\r\n  get isShown(): boolean {\r\n    return this._isShown;\r\n  }\r\n\r\n  set isShown(value: boolean) {\r\n    this._isShown = value;\r\n    if (value) {\r\n      this.renderer.addClass(\r\n        this.element.nativeElement,\r\n        `${CLASS_NAME.IN}`\r\n      );\r\n    } else {\r\n      this.renderer.removeClass(\r\n        this.element.nativeElement,\r\n        `${CLASS_NAME.IN}`\r\n      );\r\n    }\r\n    if (!isBs3()) {\r\n      if (value) {\r\n        this.renderer.addClass(\r\n          this.element.nativeElement,\r\n          `${CLASS_NAME.SHOW}`\r\n        );\r\n      } else {\r\n        this.renderer.removeClass(\r\n          this.element.nativeElement,\r\n          `${CLASS_NAME.SHOW}`\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  element: ElementRef;\r\n  renderer: Renderer2;\r\n\r\n  protected _isAnimated: boolean;\r\n  protected _isShown = false;\r\n\r\n  constructor(element: ElementRef, renderer: Renderer2) {\r\n    this.element = element;\r\n    this.renderer = renderer;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.isAnimated) {\r\n      this.renderer.addClass(\r\n        this.element.nativeElement,\r\n        `${CLASS_NAME.FADE}`\r\n      );\r\n      Utils.reflow(this.element.nativeElement);\r\n    }\r\n    this.isShown = true;\r\n  }\r\n}\r\n","/* tslint:disable:max-file-line-count */\r\n// todo: should we support enforce focus in?\r\n// todo: in original bs there are was a way to prevent modal from showing\r\n// todo: original modal had resize events\r\n\r\nimport {\r\n  ComponentRef, Directive, ElementRef, EventEmitter, HostListener, Input,\r\n  OnDestroy, OnInit, Output, Renderer2, ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { document, window } from '../utils/facade/browser';\r\n\r\nimport { isBs3 } from '../utils/theme-provider';\r\nimport { Utils } from '../utils/utils.class';\r\nimport { ModalBackdropComponent } from './modal-backdrop.component';\r\nimport {\r\n  CLASS_NAME, DISMISS_REASONS, modalConfigDefaults, ModalOptions\r\n} from './modal-options.class';\r\nimport { ComponentLoader } from '../component-loader/component-loader.class';\r\nimport { ComponentLoaderFactory } from '../component-loader/component-loader.factory';\r\n\r\nconst TRANSITION_DURATION = 300;\r\nconst BACKDROP_TRANSITION_DURATION = 150;\r\n\r\n/** Mark any code with directive to show it's content in modal */\r\n@Directive({\r\n  selector: '[bsModal]',\r\n  exportAs: 'bs-modal'\r\n})\r\nexport class ModalDirective implements OnDestroy, OnInit {\r\n  /** allows to set modal configuration via element property */\r\n  @Input()\r\n  set config(conf: ModalOptions) {\r\n    this._config = this.getConfig(conf);\r\n  }\r\n\r\n  get config(): ModalOptions {\r\n    return this._config;\r\n  }\r\n\r\n  /** This event fires immediately when the `show` instance method is called. */\r\n  @Output()\r\n  onShow: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n  /** This event is fired when the modal has been made visible to the user\r\n   * (will wait for CSS transitions to complete)\r\n   */\r\n  @Output()\r\n  onShown: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n  /** This event is fired immediately when\r\n   * the hide instance method has been called.\r\n   */\r\n  @Output()\r\n  onHide: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n  /** This event is fired when the modal has finished being\r\n   * hidden from the user (will wait for CSS transitions to complete).\r\n   */\r\n  @Output()\r\n  onHidden: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n\r\n  /** This field contains last dismiss reason.\r\n   * Possible values: `backdrop-click`, `esc` and `null`\r\n   * (if modal was closed by direct call of `.hide()`).\r\n   */\r\n  dismissReason: string;\r\n\r\n  get isShown(): boolean {\r\n    return this._isShown;\r\n  }\r\n\r\n  protected _config: ModalOptions;\r\n  protected _isShown = false;\r\n\r\n  protected isBodyOverflowing = false;\r\n  protected originalBodyPadding = 0;\r\n  protected scrollbarWidth = 0;\r\n\r\n  protected timerHideModal: any = 0;\r\n  protected timerRmBackDrop: any = 0;\r\n\r\n  // reference to backdrop component\r\n  protected backdrop: ComponentRef<ModalBackdropComponent>;\r\n  private _backdrop: ComponentLoader<ModalBackdropComponent>;\r\n\r\n  private isNested = false;\r\n\r\n  constructor(private _element: ElementRef,\r\n              _viewContainerRef: ViewContainerRef,\r\n              private _renderer: Renderer2,\r\n              clf: ComponentLoaderFactory) {\r\n    this._backdrop = clf.createLoader<ModalBackdropComponent>(\r\n      _element,\r\n      _viewContainerRef,\r\n      _renderer\r\n    );\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: any): void {\r\n    if (\r\n      this.config.ignoreBackdropClick ||\r\n      this.config.backdrop === 'static' ||\r\n      event.target !== this._element.nativeElement\r\n    ) {\r\n      return;\r\n    }\r\n    this.dismissReason = DISMISS_REASONS.BACKRDOP;\r\n    this.hide(event);\r\n  }\r\n\r\n  // todo: consider preventing default and stopping propagation\r\n  @HostListener('keydown.esc', ['$event'])\r\n  onEsc(event: any): void {\r\n    if (!this._isShown) {\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === 27) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (this.config.keyboard) {\r\n      this.dismissReason = DISMISS_REASONS.ESC;\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): any {\r\n    this.config = void 0;\r\n    if (this._isShown) {\r\n      this._isShown = false;\r\n      this.hideModal();\r\n      this._backdrop.dispose();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): any {\r\n    this._config = this._config || this.getConfig();\r\n    setTimeout(() => {\r\n      if (this._config.show) {\r\n        this.show();\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  /* Public methods */\r\n\r\n  /** Allows to manually toggle modal visibility */\r\n  toggle(): void {\r\n    return this._isShown ? this.hide() : this.show();\r\n  }\r\n\r\n  /** Allows to manually open modal */\r\n  show(): void {\r\n    this.dismissReason = null;\r\n    this.onShow.emit(this);\r\n    if (this._isShown) {\r\n      return;\r\n    }\r\n    clearTimeout(this.timerHideModal);\r\n    clearTimeout(this.timerRmBackDrop);\r\n\r\n    this._isShown = true;\r\n\r\n    this.checkScrollbar();\r\n    this.setScrollbar();\r\n\r\n    if (document && document.body) {\r\n      if (document.body.classList.contains(CLASS_NAME.OPEN)) {\r\n        this.isNested = true;\r\n      } else {\r\n        this._renderer.addClass(document.body, CLASS_NAME.OPEN);\r\n      }\r\n    }\r\n\r\n    this.showBackdrop(() => {\r\n      this.showElement();\r\n    });\r\n  }\r\n\r\n  /** Allows to manually close modal */\r\n  hide(event?: Event): void {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    this.onHide.emit(this);\r\n\r\n    // todo: add an option to prevent hiding\r\n    if (!this._isShown) {\r\n      return;\r\n    }\r\n\r\n    clearTimeout(this.timerHideModal);\r\n    clearTimeout(this.timerRmBackDrop);\r\n\r\n    this._isShown = false;\r\n    this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.IN);\r\n    if (!isBs3()) {\r\n      this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.SHOW);\r\n    }\r\n    // this._addClassIn = false;\r\n\r\n    if (this._config.animated) {\r\n      this.timerHideModal = setTimeout(\r\n        () => this.hideModal(),\r\n        TRANSITION_DURATION\r\n      );\r\n    } else {\r\n      this.hideModal();\r\n    }\r\n  }\r\n\r\n  /** Private methods @internal */\r\n  protected getConfig(config?: ModalOptions): ModalOptions {\r\n    return Object.assign({}, modalConfigDefaults, config);\r\n  }\r\n\r\n  /**\r\n   *  Show dialog\r\n   *  @internal\r\n   */\r\n  protected showElement(): void {\r\n    // todo: replace this with component loader usage\r\n    if (\r\n      !this._element.nativeElement.parentNode ||\r\n      this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE\r\n    ) {\r\n      // don't move modals dom position\r\n      if (document && document.body) {\r\n        document.body.appendChild(this._element.nativeElement);\r\n      }\r\n    }\r\n\r\n    this._renderer.setAttribute(\r\n      this._element.nativeElement,\r\n      'aria-hidden',\r\n      'false'\r\n    );\r\n    this._renderer.setAttribute(\r\n      this._element.nativeElement,\r\n      'aria-modal',\r\n      'true'\r\n    );\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'display',\r\n      'block'\r\n    );\r\n    this._renderer.setProperty(\r\n      this._element.nativeElement,\r\n      'scrollTop',\r\n      0\r\n    );\r\n\r\n    if (this._config.animated) {\r\n      Utils.reflow(this._element.nativeElement);\r\n    }\r\n\r\n    // this._addClassIn = true;\r\n    this._renderer.addClass(this._element.nativeElement, CLASS_NAME.IN);\r\n    if (!isBs3()) {\r\n      this._renderer.addClass(this._element.nativeElement, CLASS_NAME.SHOW);\r\n    }\r\n\r\n    const transitionComplete = () => {\r\n      if (this._config.focus) {\r\n        this._element.nativeElement.focus();\r\n      }\r\n      this.onShown.emit(this);\r\n    };\r\n\r\n    if (this._config.animated) {\r\n      setTimeout(transitionComplete, TRANSITION_DURATION);\r\n    } else {\r\n      transitionComplete();\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  protected hideModal(): void {\r\n    this._renderer.setAttribute(\r\n      this._element.nativeElement,\r\n      'aria-hidden',\r\n      'true'\r\n    );\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'display',\r\n      'none'\r\n    );\r\n    this.showBackdrop(() => {\r\n      if (!this.isNested) {\r\n        if (document && document.body) {\r\n          this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\r\n        }\r\n        this.resetScrollbar();\r\n      }\r\n      this.resetAdjustments();\r\n      this.focusOtherModal();\r\n      this.onHidden.emit(this);\r\n    });\r\n  }\r\n\r\n  // todo: original show was calling a callback when done, but we can use\r\n  // promise\r\n  /** @internal */\r\n  protected showBackdrop(callback?: Function): void {\r\n    if (\r\n      this._isShown &&\r\n      this.config.backdrop &&\r\n      (!this.backdrop || !this.backdrop.instance.isShown)\r\n    ) {\r\n      this.removeBackdrop();\r\n      this._backdrop\r\n        .attach(ModalBackdropComponent)\r\n        .to('body')\r\n        .show({isAnimated: this._config.animated});\r\n      this.backdrop = this._backdrop._componentRef;\r\n\r\n      if (!callback) {\r\n        return;\r\n      }\r\n\r\n      if (!this._config.animated) {\r\n        callback();\r\n\r\n        return;\r\n      }\r\n\r\n      setTimeout(callback, BACKDROP_TRANSITION_DURATION);\r\n    } else if (!this._isShown && this.backdrop) {\r\n      this.backdrop.instance.isShown = false;\r\n\r\n      const callbackRemove = () => {\r\n        this.removeBackdrop();\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      };\r\n\r\n      if (this.backdrop.instance.isAnimated) {\r\n        this.timerRmBackDrop = setTimeout(\r\n          callbackRemove,\r\n          BACKDROP_TRANSITION_DURATION\r\n        );\r\n      } else {\r\n        callbackRemove();\r\n      }\r\n    } else if (callback) {\r\n      callback();\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  protected removeBackdrop(): void {\r\n    this._backdrop.hide();\r\n  }\r\n\r\n  /** Events tricks */\r\n\r\n  // no need for it\r\n  // protected setEscapeEvent():void {\r\n  //   if (this._isShown && this._config.keyboard) {\r\n  //     $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\r\n  //       if (event.which === 27) {\r\n  //         this.hide()\r\n  //       }\r\n  //     })\r\n  //\r\n  //   } else if (!this._isShown) {\r\n  //     $(this._element).off(Event.KEYDOWN_DISMISS)\r\n  //   }\r\n  // }\r\n\r\n  // protected setResizeEvent():void {\r\n  // console.log(this.renderer.listenGlobal('', Event.RESIZE));\r\n  // if (this._isShown) {\r\n  //   $(window).on(Event.RESIZE, $.proxy(this._handleUpdate, this))\r\n  // } else {\r\n  //   $(window).off(Event.RESIZE)\r\n  // }\r\n  // }\r\n\r\n  protected focusOtherModal() {\r\n    if (this._element.nativeElement.parentElement == null) return;\r\n    const otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[bsModal]');\r\n    if (!otherOpenedModals.length) {\r\n      return;\r\n    }\r\n    otherOpenedModals[otherOpenedModals.length - 1].focus();\r\n  }\r\n\r\n  /** @internal */\r\n  protected resetAdjustments(): void {\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'paddingLeft',\r\n      ''\r\n    );\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'paddingRight',\r\n      ''\r\n    );\r\n  }\r\n\r\n  /** Scroll bar tricks */\r\n  /** @internal */\r\n  protected checkScrollbar(): void {\r\n    this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\r\n    this.scrollbarWidth = this.getScrollbarWidth();\r\n  }\r\n\r\n  protected setScrollbar(): void {\r\n    if (!document) {\r\n      return;\r\n    }\r\n\r\n    this.originalBodyPadding = parseInt(\r\n      window\r\n        .getComputedStyle(document.body)\r\n        .getPropertyValue('padding-right') || 0,\r\n      10\r\n    );\r\n\r\n    if (this.isBodyOverflowing) {\r\n      document.body.style.paddingRight = `${this.originalBodyPadding +\r\n      this.scrollbarWidth}px`;\r\n    }\r\n  }\r\n\r\n  protected resetScrollbar(): void {\r\n    document.body.style.paddingRight = this.originalBodyPadding + 'px';\r\n  }\r\n\r\n  // thx d.walsh\r\n  protected getScrollbarWidth(): number {\r\n    const scrollDiv = this._renderer.createElement('div');\r\n    this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\r\n    this._renderer.appendChild(document.body, scrollDiv);\r\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n    this._renderer.removeChild(document.body, scrollDiv);\r\n\r\n    return scrollbarWidth;\r\n  }\r\n}\r\n","import {\r\n  ComponentRef,\r\n  Injectable,\r\n  TemplateRef,\r\n  EventEmitter, Renderer2, RendererFactory2\r\n} from '@angular/core';\r\n\r\nimport { ComponentLoader } from '../component-loader/component-loader.class';\r\nimport { ComponentLoaderFactory } from '../component-loader/component-loader.factory';\r\nimport { ModalBackdropComponent } from './modal-backdrop.component';\r\nimport { ModalContainerComponent } from './modal-container.component';\r\nimport {\r\n  CLASS_NAME,\r\n  modalConfigDefaults,\r\n  ModalOptions,\r\n  TRANSITION_DURATIONS\r\n} from './modal-options.class';\r\nimport { BsModalRef } from './bs-modal-ref.service';\r\n\r\n@Injectable()\r\nexport class BsModalService {\r\n  // constructor props\r\n  config: ModalOptions = modalConfigDefaults;\r\n\r\n  onShow: EventEmitter<any> = new EventEmitter();\r\n  onShown: EventEmitter<any> = new EventEmitter();\r\n  onHide: EventEmitter<any> = new EventEmitter();\r\n  onHidden: EventEmitter<any> = new EventEmitter();\r\n\r\n  protected isBodyOverflowing = false;\r\n  protected originalBodyPadding = 0;\r\n\r\n  protected scrollbarWidth = 0;\r\n\r\n  protected backdropRef: ComponentRef<ModalBackdropComponent>;\r\n  private _backdropLoader: ComponentLoader<ModalBackdropComponent>;\r\n  private modalsCount = 0;\r\n  private lastDismissReason = '';\r\n\r\n  private loaders: ComponentLoader<ModalContainerComponent>[] = [];\r\n\r\n  private _renderer: Renderer2;\r\n\r\n  constructor(rendererFactory: RendererFactory2, private clf: ComponentLoaderFactory) {\r\n    this._backdropLoader = this.clf.createLoader<ModalBackdropComponent>(\r\n      null,\r\n      null,\r\n      null\r\n    );\r\n    this._renderer = rendererFactory.createRenderer(null, null);\r\n  }\r\n\r\n  /** Shows a modal */\r\n  show(content: string | TemplateRef<any> | any, config?: ModalOptions): BsModalRef {\r\n    this.modalsCount++;\r\n    this._createLoaders();\r\n    this.config = Object.assign({}, modalConfigDefaults, config);\r\n    this._showBackdrop();\r\n    this.lastDismissReason = null;\r\n\r\n    return this._showModal(content);\r\n  }\r\n\r\n  hide(level: number) {\r\n    if (this.modalsCount === 1) {\r\n      this._hideBackdrop();\r\n      this.resetScrollbar();\r\n    }\r\n    this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\r\n    setTimeout(() => {\r\n      this._hideModal(level);\r\n      this.removeLoaders(level);\r\n    }, this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0);\r\n  }\r\n\r\n  _showBackdrop(): void {\r\n    const isBackdropEnabled =\r\n      this.config.backdrop || this.config.backdrop === 'static';\r\n    const isBackdropInDOM =\r\n      !this.backdropRef || !this.backdropRef.instance.isShown;\r\n\r\n    if (this.modalsCount === 1) {\r\n      this.removeBackdrop();\r\n\r\n      if (isBackdropEnabled && isBackdropInDOM) {\r\n        this._backdropLoader\r\n          .attach(ModalBackdropComponent)\r\n          .to('body')\r\n          .show({ isAnimated: this.config.animated });\r\n        this.backdropRef = this._backdropLoader._componentRef;\r\n      }\r\n    }\r\n  }\r\n\r\n  _hideBackdrop(): void {\r\n    if (!this.backdropRef) {\r\n      return;\r\n    }\r\n    this.backdropRef.instance.isShown = false;\r\n    const duration = this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0;\r\n    setTimeout(() => this.removeBackdrop(), duration);\r\n  }\r\n\r\n  _showModal(content: any): BsModalRef {\r\n    const modalLoader = this.loaders[this.loaders.length - 1];\r\n    const bsModalRef = new BsModalRef();\r\n    const modalContainerRef = modalLoader\r\n      .provide({ provide: ModalOptions, useValue: this.config })\r\n      .provide({ provide: BsModalRef, useValue: bsModalRef })\r\n      .attach(ModalContainerComponent)\r\n      .to('body')\r\n      .show({content, isAnimated: this.config.animated, initialState: this.config.initialState, bsModalService: this});\r\n    modalContainerRef.instance.level = this.getModalsCount();\r\n    bsModalRef.hide = () => {\r\n      modalContainerRef.instance.hide();\r\n    };\r\n    bsModalRef.content = modalLoader.getInnerComponent() || null;\r\n\r\n    return bsModalRef;\r\n  }\r\n\r\n  _hideModal(level: number): void {\r\n    const modalLoader = this.loaders[level - 1];\r\n    if (modalLoader) {\r\n      modalLoader.hide();\r\n    }\r\n  }\r\n\r\n  getModalsCount(): number {\r\n    return this.modalsCount;\r\n  }\r\n\r\n  setDismissReason(reason: string) {\r\n    this.lastDismissReason = reason;\r\n  }\r\n\r\n  removeBackdrop(): void {\r\n    this._backdropLoader.hide();\r\n    this.backdropRef = null;\r\n  }\r\n\r\n  /** AFTER PR MERGE MODAL.COMPONENT WILL BE USING THIS CODE */\r\n  /** Scroll bar tricks */\r\n  /** @internal */\r\n  checkScrollbar(): void {\r\n    this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\r\n    this.scrollbarWidth = this.getScrollbarWidth();\r\n  }\r\n\r\n  setScrollbar(): void {\r\n    if (!document) {\r\n      return;\r\n    }\r\n\r\n    this.originalBodyPadding = parseInt(\r\n      window\r\n        .getComputedStyle(document.body)\r\n        .getPropertyValue('padding-right') || '0',\r\n      10\r\n    );\r\n\r\n    if (this.isBodyOverflowing) {\r\n      document.body.style.paddingRight = `${this.originalBodyPadding +\r\n        this.scrollbarWidth}px`;\r\n    }\r\n  }\r\n\r\n  private resetScrollbar(): void {\r\n    document.body.style.paddingRight = `${this.originalBodyPadding}px`;\r\n  }\r\n\r\n  // thx d.walsh\r\n  private getScrollbarWidth(): number {\r\n    const scrollDiv = this._renderer.createElement('div');\r\n    this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\r\n    this._renderer.appendChild(document.body, scrollDiv);\r\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n    this._renderer.removeChild(document.body, scrollDiv);\r\n\r\n    return scrollbarWidth;\r\n  }\r\n\r\n  private _createLoaders(): void {\r\n    const loader = this.clf.createLoader<ModalContainerComponent>(\r\n      null,\r\n      null,\r\n      null\r\n    );\r\n    this.copyEvent(loader.onBeforeShow, this.onShow);\r\n    this.copyEvent(loader.onShown, this.onShown);\r\n    this.copyEvent(loader.onBeforeHide, this.onHide);\r\n    this.copyEvent(loader.onHidden, this.onHidden);\r\n    this.loaders.push(loader);\r\n  }\r\n\r\n  private removeLoaders(level: number): void {\r\n    this.loaders.splice(level - 1, 1);\r\n    this.loaders.forEach(\r\n      (loader: ComponentLoader<ModalContainerComponent>, i: number) => {\r\n        loader.instance.level = i + 1;\r\n      }\r\n    );\r\n  }\r\n\r\n  private copyEvent(from: EventEmitter<any>, to: EventEmitter<any>) {\r\n    from.subscribe(() => {\r\n      to.emit(this.lastDismissReason);\r\n    });\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { ModalBackdropComponent } from './modal-backdrop.component';\r\nimport { ModalDirective } from './modal.directive';\r\nimport { PositioningService } from '../positioning/index';\r\nimport { ComponentLoaderFactory } from '../component-loader/index';\r\nimport { ModalContainerComponent } from './modal-container.component';\r\nimport { BsModalService } from './bs-modal.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ModalBackdropComponent,\r\n    ModalDirective,\r\n    ModalContainerComponent\r\n  ],\r\n  exports: [ModalBackdropComponent, ModalDirective],\r\n  entryComponents: [ModalBackdropComponent, ModalContainerComponent]\r\n})\r\nexport class ModalModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: ModalModule,\r\n      providers: [BsModalService, ComponentLoaderFactory, PositioningService]\r\n    };\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  OnDestroy,\r\n  Renderer2\r\n} from '@angular/core';\r\nimport { BsDropdownState } from './bs-dropdown.state';\r\nimport { isBs3 } from '../utils/theme-provider';\r\n\r\n@Component({\r\n  selector: 'bs-dropdown-container',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    style: 'display:block;position: absolute;'\r\n  },\r\n  template: `\r\n    <div [class.dropup]=\"direction === 'up'\"\r\n         [class.dropdown]=\"direction === 'down'\"\r\n         [class.show]=\"isOpen\"\r\n         [class.open]=\"isOpen\"><ng-content></ng-content></div>\r\n  `\r\n})\r\nexport class BsDropdownContainerComponent implements OnDestroy {\r\n  isOpen = false;\r\n\r\n  get direction(): 'down' | 'up' {\r\n    return this._state.direction;\r\n  }\r\n\r\n  private _subscription: any;\r\n\r\n  constructor(\r\n    private _state: BsDropdownState,\r\n    private cd: ChangeDetectorRef,\r\n    private _renderer: Renderer2,\r\n    _element: ElementRef\r\n  ) {\r\n    this._subscription = _state.isOpenChange.subscribe((value: boolean) => {\r\n      this.isOpen = value;\r\n      const dropdown = _element.nativeElement.querySelector('.dropdown-menu');\r\n      if (dropdown && !isBs3()) {\r\n        this._renderer.addClass(dropdown, 'show');\r\n        if (dropdown.classList.contains('dropdown-menu-right')) {\r\n          this._renderer.setStyle(dropdown, 'left', 'auto');\r\n          this._renderer.setStyle(dropdown, 'right', '0');\r\n        }\r\n        if (this.direction === 'up') {\r\n          this._renderer.setStyle(dropdown, 'top', 'auto');\r\n          this._renderer.setStyle(\r\n            dropdown,\r\n            'transform',\r\n            'translateY(-101%)'\r\n          );\r\n        }\r\n      }\r\n      this.cd.markForCheck();\r\n      this.cd.detectChanges();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._subscription.unsubscribe();\r\n  }\r\n}\r\n","import { EventEmitter, Injectable } from '@angular/core';\r\nimport { BsComponentRef } from '../component-loader/bs-component-ref.class';\r\n\r\n@Injectable()\r\nexport class BsDropdownState {\r\n  direction: 'down' | 'up' = 'down';\r\n  autoClose: boolean;\r\n  isOpenChange = new EventEmitter<boolean>();\r\n  isDisabledChange = new EventEmitter<boolean>();\r\n  toggleClick = new EventEmitter<boolean>();\r\n\r\n  /**\r\n   * Content to be displayed as popover.\r\n   */\r\n  dropdownMenu: Promise<BsComponentRef<any>>;\r\n  resolveDropdownMenu: (componentRef: BsComponentRef<any>) => void;\r\n\r\n  constructor() {\r\n    this.dropdownMenu = new Promise(resolve => {\r\n      this.resolveDropdownMenu = resolve;\r\n    });\r\n  }\r\n}\r\n","// tslint:disable:max-file-line-count\r\nimport {\r\n  Directive,\r\n  ElementRef,\r\n  EmbeddedViewRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { filter } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\nimport { ComponentLoader, ComponentLoaderFactory } from '../component-loader/index';\r\n\r\nimport { BsDropdownConfig } from './bs-dropdown.config';\r\nimport { BsDropdownContainerComponent } from './bs-dropdown-container.component';\r\nimport { BsDropdownState } from './bs-dropdown.state';\r\nimport { BsComponentRef } from '../component-loader/bs-component-ref.class';\r\nimport { BsDropdownMenuDirective } from './';\r\nimport { isBs3 } from '../utils/theme-provider';\r\n\r\n@Directive({\r\n  selector: '[bsDropdown],[dropdown]',\r\n  exportAs: 'bs-dropdown',\r\n  providers: [BsDropdownState],\r\n  host: {\r\n    '[class.dropup]': 'dropup',\r\n    '[class.open]': 'isOpen',\r\n    '[class.show]': 'isOpen && isBs4'\r\n  }\r\n})\r\nexport class BsDropdownDirective implements OnInit, OnDestroy {\r\n  /**\r\n   * Placement of a popover. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  @Input() placement: string;\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  @Input() triggers: string;\r\n  /**\r\n   * A selector specifying the element the popover should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  @Input() container: string;\r\n\r\n  /**\r\n   * This attribute indicates that the dropdown should be opened upwards\r\n   */\r\n  @Input() dropup: boolean;\r\n\r\n  /**\r\n   * Indicates that dropdown will be closed on item or document click,\r\n   * and after pressing ESC\r\n   */\r\n  @Input()\r\n  set autoClose(value: boolean) {\r\n    this._state.autoClose = value;\r\n  }\r\n\r\n  get autoClose(): boolean {\r\n    return this._state.autoClose;\r\n  }\r\n\r\n  /**\r\n   * Disables dropdown toggle and hides dropdown menu if opened\r\n   */\r\n  @Input()\r\n  set isDisabled(value: boolean) {\r\n    this._isDisabled = value;\r\n    this._state.isDisabledChange.emit(value);\r\n    if (value) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  get isDisabled(): boolean {\r\n    return this._isDisabled;\r\n  }\r\n\r\n  /**\r\n   * Returns whether or not the popover is currently being shown\r\n   */\r\n  @Input()\r\n  get isOpen(): boolean {\r\n    if (this._showInline) {\r\n      return this._isInlineOpen;\r\n    }\r\n\r\n    return this._dropdown.isShown;\r\n  }\r\n\r\n  set isOpen(value: boolean) {\r\n    if (value) {\r\n      this.show();\r\n    } else {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emits an event when isOpen change\r\n   */\r\n  @Output() isOpenChange: EventEmitter<any>;\r\n\r\n  /**\r\n   * Emits an event when the popover is shown\r\n   */\r\n  @Output() onShown: EventEmitter<any>;\r\n\r\n  /**\r\n   * Emits an event when the popover is hidden\r\n   */\r\n  @Output() onHidden: EventEmitter<any>;\r\n\r\n  get isBs4(): boolean {\r\n    return !isBs3();\r\n  }\r\n\r\n  // todo: move to component loader\r\n  private _isInlineOpen = false;\r\n\r\n  private get _showInline(): boolean {\r\n    return !this.container;\r\n  }\r\n\r\n  private _inlinedMenu: EmbeddedViewRef<BsDropdownMenuDirective>;\r\n\r\n  private _isDisabled: boolean;\r\n  private _dropdown: ComponentLoader<BsDropdownContainerComponent>;\r\n  private _subscriptions: Subscription[] = [];\r\n  private _isInited = false;\r\n\r\n  constructor(private _elementRef: ElementRef,\r\n              private _renderer: Renderer2,\r\n              private _viewContainerRef: ViewContainerRef,\r\n              private _cis: ComponentLoaderFactory,\r\n              private _config: BsDropdownConfig,\r\n              private _state: BsDropdownState) {\r\n    // set initial dropdown state from config\r\n    this._state.autoClose = this._config.autoClose;\r\n\r\n    // create dropdown component loader\r\n    this._dropdown = this._cis\r\n      .createLoader<BsDropdownContainerComponent>(\r\n        this._elementRef,\r\n        this._viewContainerRef,\r\n        this._renderer\r\n      )\r\n      .provide({provide: BsDropdownState, useValue: this._state});\r\n\r\n    this.onShown = this._dropdown.onShown;\r\n    this.onHidden = this._dropdown.onHidden;\r\n    this.isOpenChange = this._state.isOpenChange;\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // fix: seems there are an issue with `routerLinkActive`\r\n    // which result in duplicated call ngOnInit without call to ngOnDestroy\r\n    // read more: https://github.com/valor-software/ngx-bootstrap/issues/1885\r\n    if (this._isInited) {\r\n      return;\r\n    }\r\n    this._isInited = true;\r\n\r\n    // attach DOM listeners\r\n    this._dropdown.listen({\r\n      // because of dropdown inline mode\r\n      outsideClick: false,\r\n      triggers: this.triggers,\r\n      show: () => this.show()\r\n    });\r\n\r\n    // toggle visibility on toggle element click\r\n    this._subscriptions.push(\r\n      this._state.toggleClick.subscribe((value: boolean) => this.toggle(value))\r\n    );\r\n\r\n    // hide dropdown if set disabled while opened\r\n    this._subscriptions.push(\r\n      this._state.isDisabledChange\r\n        .pipe(\r\n          filter((value: boolean) => value)\r\n        )\r\n        .subscribe((value: boolean) => this.hide())\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Opens an element’s popover. This is considered a “manual” triggering of\r\n   * the popover.\r\n   */\r\n  show(): void {\r\n    if (this.isOpen || this.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    if (this._showInline) {\r\n      if (!this._inlinedMenu) {\r\n        this._state.dropdownMenu.then(\r\n          (dropdownMenu: BsComponentRef<BsDropdownMenuDirective>) => {\r\n            this._dropdown.attachInline(\r\n              dropdownMenu.viewContainer,\r\n              dropdownMenu.templateRef\r\n            );\r\n            this._inlinedMenu = this._dropdown._inlineViewRef;\r\n            this.addBs4Polyfills();\r\n          }\r\n        )\r\n        // swallow errors\r\n          .catch();\r\n      }\r\n      this.addBs4Polyfills();\r\n      this._isInlineOpen = true;\r\n      this.onShown.emit(true);\r\n      this._state.isOpenChange.emit(true);\r\n\r\n      return;\r\n    }\r\n    this._state.dropdownMenu.then(dropdownMenu => {\r\n      // check direction in which dropdown should be opened\r\n      const _dropup =\r\n        this.dropup ||\r\n        (typeof this.dropup !== 'undefined' && this.dropup);\r\n      this._state.direction = _dropup ? 'up' : 'down';\r\n      const _placement =\r\n        this.placement || (_dropup ? 'top left' : 'bottom left');\r\n\r\n      // show dropdown\r\n      this._dropdown\r\n        .attach(BsDropdownContainerComponent)\r\n        .to(this.container)\r\n        .position({attachment: _placement})\r\n        .show({\r\n          content: dropdownMenu.templateRef,\r\n          placement: _placement\r\n        });\r\n\r\n      this._state.isOpenChange.emit(true);\r\n    })\r\n    // swallow error\r\n      .catch();\r\n  }\r\n\r\n  /**\r\n   * Closes an element’s popover. This is considered a “manual” triggering of\r\n   * the popover.\r\n   */\r\n  hide(): void {\r\n    if (!this.isOpen) {\r\n      return;\r\n    }\r\n\r\n    if (this._showInline) {\r\n      this.removeShowClass();\r\n      this.removeDropupStyles();\r\n      this._isInlineOpen = false;\r\n      this.onHidden.emit(true);\r\n    } else {\r\n      this._dropdown.hide();\r\n    }\r\n\r\n    this._state.isOpenChange.emit(false);\r\n  }\r\n\r\n  /**\r\n   * Toggles an element’s popover. This is considered a “manual” triggering of\r\n   * the popover. With parameter <code>true</code> allows toggling, with parameter <code>false</code>\r\n   * only hides opened dropdown. Parameter usage will be removed in ngx-bootstrap v3\r\n   */\r\n  toggle(value?: boolean): void {\r\n    if (this.isOpen || !value) {\r\n      return this.hide();\r\n    }\r\n\r\n    return this.show();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // clean up subscriptions and destroy dropdown\r\n    for (const sub of this._subscriptions) {\r\n      sub.unsubscribe();\r\n    }\r\n    this._dropdown.dispose();\r\n  }\r\n\r\n  private addBs4Polyfills(): void {\r\n    if (!isBs3()) {\r\n      this.addShowClass();\r\n      this.checkRightAlignment();\r\n      this.addDropupStyles();\r\n    }\r\n  }\r\n\r\n  private addShowClass(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      this._renderer.addClass(this._inlinedMenu.rootNodes[0], 'show');\r\n    }\r\n  }\r\n\r\n  private removeShowClass(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      this._renderer.removeClass(this._inlinedMenu.rootNodes[0], 'show');\r\n    }\r\n  }\r\n\r\n  private checkRightAlignment(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      const isRightAligned = this._inlinedMenu.rootNodes[0].classList.contains(\r\n        'dropdown-menu-right'\r\n      );\r\n      this._renderer.setStyle(\r\n        this._inlinedMenu.rootNodes[0],\r\n        'left',\r\n        isRightAligned ? 'auto' : '0'\r\n      );\r\n      this._renderer.setStyle(\r\n        this._inlinedMenu.rootNodes[0],\r\n        'right',\r\n        isRightAligned ? '0' : 'auto'\r\n      );\r\n    }\r\n  }\r\n\r\n  private addDropupStyles(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      // a little hack to not break support of bootstrap 4 beta\r\n      this._renderer.setStyle(\r\n        this._inlinedMenu.rootNodes[0],\r\n        'top',\r\n        this.dropup ? 'auto' : '100%'\r\n      );\r\n      this._renderer.setStyle(\r\n        this._inlinedMenu.rootNodes[0],\r\n        'transform',\r\n        this.dropup ? 'translateY(-101%)' : 'translateY(0)'\r\n      );\r\n    }\r\n  }\r\n\r\n  private removeDropupStyles(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      this._renderer.removeStyle(this._inlinedMenu.rootNodes[0], 'top');\r\n      this._renderer.removeStyle(this._inlinedMenu.rootNodes[0], 'transform');\r\n    }\r\n  }\r\n}\r\n","import { Directive, TemplateRef, ViewContainerRef } from '@angular/core';\r\nimport { BsDropdownState } from './bs-dropdown.state';\r\n\r\n@Directive({\r\n  selector: '[bsDropdownMenu],[dropdownMenu]',\r\n  exportAs: 'bs-dropdown-menu'\r\n})\r\nexport class BsDropdownMenuDirective {\r\n  constructor(\r\n    _state: BsDropdownState,\r\n    _viewContainer: ViewContainerRef,\r\n    _templateRef: TemplateRef<any>\r\n  ) {\r\n    _state.resolveDropdownMenu({\r\n      templateRef: _templateRef,\r\n      viewContainer: _viewContainer\r\n    });\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  HostBinding,\r\n  HostListener,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { BsDropdownState } from './bs-dropdown.state';\r\n\r\n@Directive({\r\n  selector: '[bsDropdownToggle],[dropdownToggle]',\r\n  exportAs: 'bs-dropdown-toggle',\r\n  host: {\r\n    '[attr.aria-haspopup]': 'true'\r\n  }\r\n})\r\nexport class BsDropdownToggleDirective implements OnDestroy {\r\n  @HostBinding('attr.disabled') isDisabled: boolean = null;\r\n\r\n  // @HostBinding('class.active')\r\n  @HostBinding('attr.aria-expanded') isOpen: boolean;\r\n\r\n  private _subscriptions: Subscription[] = [];\r\n\r\n  constructor(private _state: BsDropdownState, private _element: ElementRef) {\r\n    // sync is open value with state\r\n    this._subscriptions.push(\r\n      this._state.isOpenChange.subscribe(\r\n        (value: boolean) => (this.isOpen = value)\r\n      )\r\n    );\r\n    // populate disabled state\r\n    this._subscriptions.push(\r\n      this._state.isDisabledChange.subscribe(\r\n        (value: boolean) => (this.isDisabled = value || null)\r\n      )\r\n    );\r\n  }\r\n\r\n  @HostListener('click', [])\r\n  onClick(): void {\r\n    if (this.isDisabled) {\r\n      return;\r\n    }\r\n    this._state.toggleClick.emit(true);\r\n  }\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  onDocumentClick(event: any): void {\r\n    if (\r\n      this._state.autoClose &&\r\n      event.button !== 2 &&\r\n      !this._element.nativeElement.contains(event.target)\r\n    ) {\r\n      this._state.toggleClick.emit(false);\r\n    }\r\n  }\r\n\r\n  @HostListener('keyup.esc')\r\n  onEsc(): void {\r\n    if (this._state.autoClose) {\r\n      this._state.toggleClick.emit(false);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    for (const sub of this._subscriptions) {\r\n      sub.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/** Default dropdown configuration */\r\n@Injectable()\r\nexport class BsDropdownConfig {\r\n  /** default dropdown auto closing behavior */\r\n  autoClose = true;\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { ComponentLoaderFactory } from '../component-loader/index';\r\n\r\nimport { PositioningService } from '../positioning/index';\r\nimport { BsDropdownContainerComponent } from './bs-dropdown-container.component';\r\nimport { BsDropdownMenuDirective } from './bs-dropdown-menu.directive';\r\nimport { BsDropdownToggleDirective } from './bs-dropdown-toggle.directive';\r\nimport { BsDropdownConfig } from './bs-dropdown.config';\r\n\r\nimport { BsDropdownDirective } from './bs-dropdown.directive';\r\nimport { BsDropdownState } from './bs-dropdown.state';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BsDropdownMenuDirective,\r\n    BsDropdownToggleDirective,\r\n    BsDropdownContainerComponent,\r\n    BsDropdownDirective\r\n  ],\r\n  exports: [\r\n    BsDropdownMenuDirective,\r\n    BsDropdownToggleDirective,\r\n    BsDropdownDirective\r\n  ],\r\n  entryComponents: [BsDropdownContainerComponent]\r\n})\r\nexport class BsDropdownModule {\r\n  static forRoot(config?: any): ModuleWithProviders {\r\n    return {\r\n      ngModule: BsDropdownModule,\r\n      providers: [\r\n        ComponentLoaderFactory,\r\n        PositioningService,\r\n        BsDropdownState,\r\n        {\r\n          provide: BsDropdownConfig,\r\n          useValue: config ? config : { autoClose: true }\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  OnInit,\r\n  Renderer2,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  forwardRef, ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { PageChangedEvent } from './pagination.component';\r\nimport { PaginationConfig } from './pagination.config';\r\n\r\nexport const PAGER_CONTROL_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  // tslint:disable-next-line\r\n  useExisting: forwardRef(() => PagerComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'pager',\r\n  template: \"<ul class=\\\"pager\\\"> <li [class.disabled]=\\\"noPrevious()\\\" [class.previous]=\\\"align\\\" [ngClass]=\\\"{'pull-right': align, 'float-right': align}\\\" class=\\\"{{ pageBtnClass }}\\\"> <a href (click)=\\\"selectPage(page - 1, $event)\\\">{{ getText('previous') }}</a> </li> <li [class.disabled]=\\\"noNext()\\\" [class.next]=\\\"align\\\" [ngClass]=\\\"{'pull-right': align, 'float-right': align}\\\" class=\\\"{{ pageBtnClass }}\\\"> <a href (click)=\\\"selectPage(page + 1, $event)\\\">{{ getText('next') }}</a> </li> </ul> \",\r\n  providers: [PAGER_CONTROL_VALUE_ACCESSOR]\r\n})\r\nexport class PagerComponent implements ControlValueAccessor, OnInit {\r\n  config: any;\r\n  /** if `true` aligns each link to the sides of pager */\r\n  @Input() align: boolean;\r\n  /** limit number for page links in pager */\r\n  @Input() maxSize: number;\r\n  /** if false first and last buttons will be hidden */\r\n  @Input() boundaryLinks: boolean;\r\n  /** if false previous and next buttons will be hidden */\r\n  @Input() directionLinks: boolean;\r\n  // labels\r\n  /** first button text */\r\n  @Input() firstText: string;\r\n  /** previous button text */\r\n  @Input() previousText: string;\r\n  /** next button text */\r\n  @Input() nextText: string;\r\n  /** last button text */\r\n  @Input() lastText: string;\r\n  /** if true current page will in the middle of pages list */\r\n  @Input() rotate: boolean;\r\n  // css\r\n  /** add class to <code><li\\></code> */\r\n  @Input() pageBtnClass: string;\r\n\r\n  /** if true pagination component will be disabled */\r\n  @Input() disabled: boolean;\r\n\r\n  /** fired when total pages count changes, $event:number equals to total pages count */\r\n  @Output() numPages: EventEmitter<number> = new EventEmitter<number>();\r\n  /** fired when page was changed, $event:{page, itemsPerPage} equals to\r\n   * object with current page index and number of items per page\r\n   */\r\n  @Output()\r\n  pageChanged: EventEmitter<PageChangedEvent> = new EventEmitter<PageChangedEvent>();\r\n\r\n  /** maximum number of items per page. If value less than 1 will display all items on one page */\r\n  @Input()\r\n  get itemsPerPage(): number {\r\n    return this._itemsPerPage;\r\n  }\r\n\r\n  set itemsPerPage(v: number) {\r\n    this._itemsPerPage = v;\r\n    this.totalPages = this.calculateTotalPages();\r\n  }\r\n\r\n  /** total number of items in all pages */\r\n  @Input()\r\n  get totalItems(): number {\r\n    return this._totalItems;\r\n  }\r\n\r\n  set totalItems(v: number) {\r\n    this._totalItems = v;\r\n    this.totalPages = this.calculateTotalPages();\r\n  }\r\n\r\n  get totalPages(): number {\r\n    return this._totalPages;\r\n  }\r\n\r\n  set totalPages(v: number) {\r\n    this._totalPages = v;\r\n    this.numPages.emit(v);\r\n    if (this.inited) {\r\n      this.selectPage(this.page);\r\n    }\r\n  }\r\n\r\n  set page(value: number) {\r\n    const _previous = this._page;\r\n    this._page = value > this.totalPages ? this.totalPages : value || 1;\r\n    this.changeDetection.markForCheck();\r\n\r\n    if (_previous === this._page || typeof _previous === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    this.pageChanged.emit({\r\n      page: this._page,\r\n      itemsPerPage: this.itemsPerPage\r\n    });\r\n  }\r\n\r\n  get page(): number {\r\n    return this._page;\r\n  }\r\n\r\n  onChange: any = Function.prototype;\r\n  onTouched: any = Function.prototype;\r\n\r\n  classMap: string;\r\n  pages: any[];\r\n\r\n  protected _itemsPerPage: number;\r\n  protected _totalItems: number;\r\n  protected _totalPages: number;\r\n  protected inited = false;\r\n  protected _page = 1;\r\n\r\n  constructor(private renderer: Renderer2,\r\n              private elementRef: ElementRef,\r\n              paginationConfig: PaginationConfig,\r\n              private changeDetection: ChangeDetectorRef) {\r\n    this.renderer = renderer;\r\n    this.elementRef = elementRef;\r\n    if (!this.config) {\r\n      this.configureOptions(\r\n        Object.assign({}, paginationConfig.main, paginationConfig.pager)\r\n      );\r\n    }\r\n  }\r\n\r\n  configureOptions(config: any): void {\r\n    this.config = Object.assign({}, config);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (typeof window !== 'undefined') {\r\n      this.classMap = this.elementRef.nativeElement.getAttribute('class') || '';\r\n    }\r\n    // watch for maxSize\r\n    this.maxSize =\r\n      typeof this.maxSize !== 'undefined' ? this.maxSize : this.config.maxSize;\r\n    this.rotate =\r\n      typeof this.rotate !== 'undefined' ? this.rotate : this.config.rotate;\r\n    this.boundaryLinks =\r\n      typeof this.boundaryLinks !== 'undefined'\r\n        ? this.boundaryLinks\r\n        : this.config.boundaryLinks;\r\n    this.directionLinks =\r\n      typeof this.directionLinks !== 'undefined'\r\n        ? this.directionLinks\r\n        : this.config.directionLinks;\r\n    this.pageBtnClass =\r\n      typeof this.pageBtnClass !== 'undefined'\r\n        ? this.pageBtnClass\r\n        : this.config.pageBtnClass;\r\n\r\n    // base class\r\n    this.itemsPerPage =\r\n      typeof this.itemsPerPage !== 'undefined'\r\n        ? this.itemsPerPage\r\n        : this.config.itemsPerPage;\r\n    this.totalPages = this.calculateTotalPages();\r\n    // this class\r\n    this.pages = this.getPages(this.page, this.totalPages);\r\n    this.inited = true;\r\n  }\r\n\r\n  writeValue(value: number): void {\r\n    this.page = value;\r\n    this.pages = this.getPages(this.page, this.totalPages);\r\n  }\r\n\r\n  getText(key: string): string {\r\n    return (this as any)[`${key}Text`] || this.config[`${key}Text`];\r\n  }\r\n\r\n  noPrevious(): boolean {\r\n    return this.page === 1;\r\n  }\r\n\r\n  noNext(): boolean {\r\n    return this.page === this.totalPages;\r\n  }\r\n\r\n  registerOnChange(fn: (_: any) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  selectPage(page: number, event?: Event): void {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (!this.disabled) {\r\n      if (event && event.target) {\r\n        const target: any = event.target;\r\n        target.blur();\r\n      }\r\n      this.writeValue(page);\r\n      this.onChange(this.page);\r\n    }\r\n  }\r\n\r\n  // Create page object used in template\r\n  protected makePage(num: number,\r\n                     text: string,\r\n                     active: boolean): { number: number; text: string; active: boolean } {\r\n    return {text, number: num, active};\r\n  }\r\n\r\n  protected getPages(currentPage: number, totalPages: number): any[] {\r\n    const pages: any[] = [];\r\n\r\n    // Default page limits\r\n    let startPage = 1;\r\n    let endPage = totalPages;\r\n    const isMaxSized =\r\n      typeof this.maxSize !== 'undefined' && this.maxSize < totalPages;\r\n\r\n    // recompute if maxSize\r\n    if (isMaxSized) {\r\n      if (this.rotate) {\r\n        // Current page is displayed in the middle of the visible ones\r\n        startPage = Math.max(currentPage - Math.floor(this.maxSize / 2), 1);\r\n        endPage = startPage + this.maxSize - 1;\r\n\r\n        // Adjust if limit is exceeded\r\n        if (endPage > totalPages) {\r\n          endPage = totalPages;\r\n          startPage = endPage - this.maxSize + 1;\r\n        }\r\n      } else {\r\n        // Visible pages are paginated with maxSize\r\n        startPage =\r\n          (Math.ceil(currentPage / this.maxSize) - 1) * this.maxSize + 1;\r\n\r\n        // Adjust last page if limit is exceeded\r\n        endPage = Math.min(startPage + this.maxSize - 1, totalPages);\r\n      }\r\n    }\r\n\r\n    // Add page number links\r\n    for (let num = startPage; num <= endPage; num++) {\r\n      const page = this.makePage(num, num.toString(), num === currentPage);\r\n      pages.push(page);\r\n    }\r\n\r\n    // Add links to move between page sets\r\n    if (isMaxSized && !this.rotate) {\r\n      if (startPage > 1) {\r\n        const previousPageSet = this.makePage(startPage - 1, '...', false);\r\n        pages.unshift(previousPageSet);\r\n      }\r\n\r\n      if (endPage < totalPages) {\r\n        const nextPageSet = this.makePage(endPage + 1, '...', false);\r\n        pages.push(nextPageSet);\r\n      }\r\n    }\r\n\r\n    return pages;\r\n  }\r\n\r\n  // base class\r\n  protected calculateTotalPages(): number {\r\n    const totalPages =\r\n      this.itemsPerPage < 1\r\n        ? 1\r\n        : Math.ceil(this.totalItems / this.itemsPerPage);\r\n\r\n    return Math.max(totalPages || 0, 1);\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  forwardRef, ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { PaginationConfig } from './pagination.config';\r\n\r\nexport interface PageChangedEvent {\r\n  itemsPerPage: number;\r\n  page: number;\r\n}\r\n\r\nexport const PAGINATION_CONTROL_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  // tslint:disable-next-line\r\n  useExisting: forwardRef(() => PaginationComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'pagination',\r\n  template: \"<ul class=\\\"pagination\\\" [ngClass]=\\\"classMap\\\"> <li class=\\\"pagination-first page-item\\\" *ngIf=\\\"boundaryLinks\\\" [class.disabled]=\\\"noPrevious()||disabled\\\"> <a class=\\\"page-link\\\" href (click)=\\\"selectPage(1, $event)\\\" [innerHTML]=\\\"getText('first')\\\"></a> </li> <li class=\\\"pagination-prev page-item\\\" *ngIf=\\\"directionLinks\\\" [class.disabled]=\\\"noPrevious()||disabled\\\"> <a class=\\\"page-link\\\" href (click)=\\\"selectPage(page - 1, $event)\\\" [innerHTML]=\\\"getText('previous')\\\"></a> </li> <li *ngFor=\\\"let pg of pages\\\" [class.active]=\\\"pg.active\\\" [class.disabled]=\\\"disabled&&!pg.active\\\" class=\\\"pagination-page page-item\\\"> <a class=\\\"page-link\\\" href (click)=\\\"selectPage(pg.number, $event)\\\" [innerHTML]=\\\"pg.text\\\"></a> </li> <li class=\\\"pagination-next page-item\\\" *ngIf=\\\"directionLinks\\\" [class.disabled]=\\\"noNext()||disabled\\\"> <a class=\\\"page-link\\\" href (click)=\\\"selectPage(page + 1, $event)\\\" [innerHTML]=\\\"getText('next')\\\"></a></li> <li class=\\\"pagination-last page-item\\\" *ngIf=\\\"boundaryLinks\\\" [class.disabled]=\\\"noNext()||disabled\\\"> <a class=\\\"page-link\\\" href (click)=\\\"selectPage(totalPages, $event)\\\" [innerHTML]=\\\"getText('last')\\\"></a></li> </ul> \",\r\n  providers: [PAGINATION_CONTROL_VALUE_ACCESSOR]\r\n})\r\nexport class PaginationComponent implements ControlValueAccessor, OnInit {\r\n  config: any;\r\n  /** if `true` aligns each link to the sides of pager */\r\n  @Input() align: boolean;\r\n  /** limit number for page links in pager */\r\n  @Input() maxSize: number;\r\n  /** if false first and last buttons will be hidden */\r\n  @Input() boundaryLinks: boolean;\r\n  /** if false previous and next buttons will be hidden */\r\n  @Input() directionLinks: boolean;\r\n  // labels\r\n  /** first button text */\r\n  @Input() firstText: string;\r\n  /** previous button text */\r\n  @Input() previousText: string;\r\n  /** next button text */\r\n  @Input() nextText: string;\r\n  /** last button text */\r\n  @Input() lastText: string;\r\n  /** if true current page will in the middle of pages list */\r\n  @Input() rotate: boolean;\r\n  // css\r\n  /** add class to <code><li\\></code>*/\r\n  @Input() pageBtnClass: string;\r\n\r\n  /** if true pagination component will be disabled */\r\n  @Input() disabled: boolean;\r\n\r\n  /** fired when total pages count changes, $event:number equals to total pages count */\r\n  @Output() numPages: EventEmitter<number> = new EventEmitter<number>();\r\n  /** fired when page was changed, $event:{page, itemsPerPage} equals to object\r\n   * with current page index and number of items per page\r\n   */\r\n  @Output()\r\n  pageChanged = new EventEmitter<PageChangedEvent>();\r\n\r\n  /** maximum number of items per page. If value less than 1 will display all items on one page */\r\n  @Input()\r\n  get itemsPerPage(): number {\r\n    return this._itemsPerPage;\r\n  }\r\n\r\n  set itemsPerPage(v: number) {\r\n    this._itemsPerPage = v;\r\n    this.totalPages = this.calculateTotalPages();\r\n  }\r\n\r\n  /** total number of items in all pages */\r\n  @Input()\r\n  get totalItems(): number {\r\n    return this._totalItems;\r\n  }\r\n\r\n  set totalItems(v: number) {\r\n    this._totalItems = v;\r\n    this.totalPages = this.calculateTotalPages();\r\n  }\r\n\r\n  get totalPages(): number {\r\n    return this._totalPages;\r\n  }\r\n\r\n  set totalPages(v: number) {\r\n    this._totalPages = v;\r\n    this.numPages.emit(v);\r\n    if (this.inited) {\r\n      this.selectPage(this.page);\r\n    }\r\n  }\r\n\r\n  set page(value: number) {\r\n    const _previous = this._page;\r\n    this._page = value > this.totalPages ? this.totalPages : value || 1;\r\n    this.changeDetection.markForCheck();\r\n\r\n    if (_previous === this._page || typeof _previous === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    this.pageChanged.emit({\r\n      page: this._page,\r\n      itemsPerPage: this.itemsPerPage\r\n    });\r\n  }\r\n\r\n  get page(): number {\r\n    return this._page;\r\n  }\r\n\r\n  onChange: any = Function.prototype;\r\n  onTouched: any = Function.prototype;\r\n\r\n  classMap: string;\r\n  pages: any[];\r\n\r\n  protected _itemsPerPage: number;\r\n  protected _totalItems: number;\r\n  protected _totalPages: number;\r\n  protected inited = false;\r\n  protected _page = 1;\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private elementRef: ElementRef,\r\n    paginationConfig: PaginationConfig,\r\n    private changeDetection: ChangeDetectorRef\r\n  ) {\r\n    this.renderer = renderer;\r\n    this.elementRef = elementRef;\r\n    if (!this.config) {\r\n      this.configureOptions(paginationConfig.main);\r\n    }\r\n  }\r\n\r\n  configureOptions(config: any): void {\r\n    this.config = Object.assign({}, config);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (typeof window !== 'undefined') {\r\n      this.classMap = this.elementRef.nativeElement.getAttribute('class') || '';\r\n    }\r\n    // watch for maxSize\r\n    this.maxSize =\r\n      typeof this.maxSize !== 'undefined' ? this.maxSize : this.config.maxSize;\r\n    this.rotate =\r\n      typeof this.rotate !== 'undefined' ? this.rotate : this.config.rotate;\r\n    this.boundaryLinks =\r\n      typeof this.boundaryLinks !== 'undefined'\r\n        ? this.boundaryLinks\r\n        : this.config.boundaryLinks;\r\n    this.directionLinks =\r\n      typeof this.directionLinks !== 'undefined'\r\n        ? this.directionLinks\r\n        : this.config.directionLinks;\r\n    this.pageBtnClass =\r\n      typeof this.pageBtnClass !== 'undefined'\r\n        ? this.pageBtnClass\r\n        : this.config.pageBtnClass;\r\n\r\n    // base class\r\n    this.itemsPerPage =\r\n      typeof this.itemsPerPage !== 'undefined'\r\n        ? this.itemsPerPage\r\n        : this.config.itemsPerPage;\r\n    this.totalPages = this.calculateTotalPages();\r\n    // this class\r\n    this.pages = this.getPages(this.page, this.totalPages);\r\n    this.inited = true;\r\n  }\r\n\r\n  writeValue(value: number): void {\r\n    this.page = value;\r\n    this.pages = this.getPages(this.page, this.totalPages);\r\n  }\r\n\r\n  getText(key: string): string {\r\n    return (this as any)[`${key}Text`] || this.config[`${key}Text`];\r\n  }\r\n\r\n  noPrevious(): boolean {\r\n    return this.page === 1;\r\n  }\r\n\r\n  noNext(): boolean {\r\n    return this.page === this.totalPages;\r\n  }\r\n\r\n  registerOnChange(fn: (_: any) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  selectPage(page: number, event?: Event): void {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (!this.disabled) {\r\n      if (event && event.target) {\r\n        const target: any = event.target;\r\n        target.blur();\r\n      }\r\n      this.writeValue(page);\r\n      this.onChange(this.page);\r\n    }\r\n  }\r\n\r\n  // Create page object used in template\r\n  protected makePage(\r\n    num: number,\r\n    text: string,\r\n    active: boolean\r\n  ): { number: number; text: string; active: boolean } {\r\n    return { text, number: num, active };\r\n  }\r\n\r\n  protected getPages(currentPage: number, totalPages: number): any[] {\r\n    const pages: any[] = [];\r\n\r\n    // Default page limits\r\n    let startPage = 1;\r\n    let endPage = totalPages;\r\n    const isMaxSized =\r\n      typeof this.maxSize !== 'undefined' && this.maxSize < totalPages;\r\n\r\n    // recompute if maxSize\r\n    if (isMaxSized) {\r\n      if (this.rotate) {\r\n        // Current page is displayed in the middle of the visible ones\r\n        startPage = Math.max(currentPage - Math.floor(this.maxSize / 2), 1);\r\n        endPage = startPage + this.maxSize - 1;\r\n\r\n        // Adjust if limit is exceeded\r\n        if (endPage > totalPages) {\r\n          endPage = totalPages;\r\n          startPage = endPage - this.maxSize + 1;\r\n        }\r\n      } else {\r\n        // Visible pages are paginated with maxSize\r\n        startPage =\r\n          (Math.ceil(currentPage / this.maxSize) - 1) * this.maxSize + 1;\r\n\r\n        // Adjust last page if limit is exceeded\r\n        endPage = Math.min(startPage + this.maxSize - 1, totalPages);\r\n      }\r\n    }\r\n\r\n    // Add page number links\r\n    for (let num = startPage; num <= endPage; num++) {\r\n      const page = this.makePage(num, num.toString(), num === currentPage);\r\n      pages.push(page);\r\n    }\r\n\r\n    // Add links to move between page sets\r\n    if (isMaxSized && !this.rotate) {\r\n      if (startPage > 1) {\r\n        const previousPageSet = this.makePage(startPage - 1, '...', false);\r\n        pages.unshift(previousPageSet);\r\n      }\r\n\r\n      if (endPage < totalPages) {\r\n        const nextPageSet = this.makePage(endPage + 1, '...', false);\r\n        pages.push(nextPageSet);\r\n      }\r\n    }\r\n\r\n    return pages;\r\n  }\r\n\r\n  // base class\r\n  protected calculateTotalPages(): number {\r\n    const totalPages =\r\n      this.itemsPerPage < 1\r\n        ? 1\r\n        : Math.ceil(this.totalItems / this.itemsPerPage);\r\n\r\n    return Math.max(totalPages || 0, 1);\r\n  }\r\n}\r\n","// todo: split\r\nimport { Injectable } from '@angular/core';\r\n\r\n/** Provides default values for Pagination and pager components */\r\n@Injectable()\r\nexport class PaginationConfig {\r\n  main: any = {\r\n    maxSize: void 0,\r\n    itemsPerPage: 10,\r\n    boundaryLinks: false,\r\n    directionLinks: true,\r\n    firstText: 'First',\r\n    previousText: 'Previous',\r\n    nextText: 'Next',\r\n    lastText: 'Last',\r\n    pageBtnClass: '',\r\n    rotate: true\r\n  };\r\n  pager: any = {\r\n    itemsPerPage: 15,\r\n    previousText: '« Previous',\r\n    nextText: 'Next »',\r\n    pageBtnClass: '',\r\n    align: true\r\n  };\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { PaginationConfig } from './pagination.config';\r\n\r\nimport { PagerComponent } from './pager.component';\r\nimport { PaginationComponent } from './pagination.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [PagerComponent, PaginationComponent],\r\n  exports: [PagerComponent, PaginationComponent]\r\n})\r\nexport class PaginationModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: PaginationModule, providers: [PaginationConfig] };\r\n  }\r\n}\r\n","import { Time, TimepickerComponentState } from './timepicker.models';\r\n\r\nconst dex = 10;\r\nconst hoursPerDay = 24;\r\nconst hoursPerDayHalf = 12;\r\nconst minutesPerHour = 60;\r\nconst secondsPerMinute = 60;\r\n\r\nexport function isValidDate(value?: string | Date): boolean {\r\n  if (!value) {\r\n    return false;\r\n  }\r\n\r\n  if (value instanceof Date && isNaN(value.getHours())) {\r\n    return false;\r\n  }\r\n\r\n  if (typeof value === 'string') {\r\n    return isValidDate(new Date(value));\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport function isValidLimit(controls: TimepickerComponentState, newDate: Date): boolean {\r\n  if (controls.min && newDate < controls.min) {\r\n    return false;\r\n  }\r\n\r\n  if (controls.max && newDate > controls.max) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport function toNumber(value: string | number): number {\r\n  if (typeof value === 'number') {\r\n    return value;\r\n  }\r\n\r\n  return parseInt(value, dex);\r\n}\r\n\r\nexport function isNumber(value: any): value is number {\r\n  return !isNaN(toNumber(value));\r\n}\r\n\r\nexport function parseHours(\r\n  value: string | number,\r\n  isPM = false\r\n): number {\r\n  const hour = toNumber(value);\r\n  if (\r\n    isNaN(hour) ||\r\n    hour < 0 ||\r\n    hour > (isPM ? hoursPerDayHalf : hoursPerDay)\r\n  ) {\r\n    return NaN;\r\n  }\r\n\r\n  return hour;\r\n}\r\n\r\nexport function parseMinutes(value: string | number): number {\r\n  const minute = toNumber(value);\r\n  if (isNaN(minute) || minute < 0 || minute > minutesPerHour) {\r\n    return NaN;\r\n  }\r\n\r\n  return minute;\r\n}\r\n\r\nexport function parseSeconds(value: string | number): number {\r\n  const seconds = toNumber(value);\r\n  if (isNaN(seconds) || seconds < 0 || seconds > secondsPerMinute) {\r\n    return NaN;\r\n  }\r\n\r\n  return seconds;\r\n}\r\n\r\nexport function parseTime(value: string | Date): Date {\r\n  if (typeof value === 'string') {\r\n    return new Date(value);\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\nexport function changeTime(value: Date, diff: Time): Date {\r\n  if (!value) {\r\n    return changeTime(createDate(new Date(), 0, 0, 0), diff);\r\n  }\r\n\r\n  let hour = value.getHours();\r\n  let minutes = value.getMinutes();\r\n  let seconds = value.getSeconds();\r\n\r\n  if (diff.hour) {\r\n    hour = (hour + toNumber(diff.hour)) % hoursPerDay;\r\n    if (hour < 0) {\r\n      hour += hoursPerDay;\r\n    }\r\n  }\r\n\r\n  if (diff.minute) {\r\n    minutes = minutes + toNumber(diff.minute);\r\n  }\r\n\r\n  if (diff.seconds) {\r\n    seconds = seconds + toNumber(diff.seconds);\r\n  }\r\n\r\n  return createDate(value, hour, minutes, seconds);\r\n}\r\n\r\nexport function setTime(value: Date, opts: Time): Date {\r\n  let hour = parseHours(opts.hour);\r\n  const minute = parseMinutes(opts.minute);\r\n  const seconds = parseSeconds(opts.seconds) || 0;\r\n\r\n  if (opts.isPM) {\r\n    hour += hoursPerDayHalf;\r\n  }\r\n\r\n  if (!value) {\r\n    if (!isNaN(hour) && !isNaN(minute)) {\r\n      return createDate(new Date(), hour, minute, seconds);\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  if (isNaN(hour) || isNaN(minute)) {\r\n    return value;\r\n  }\r\n\r\n  return createDate(value, hour, minute, seconds);\r\n}\r\n\r\nexport function createDate(\r\n  value: Date,\r\n  hours: number,\r\n  minutes: number,\r\n  seconds: number\r\n): Date {\r\n  return new Date(\r\n    value.getFullYear(),\r\n    value.getMonth(),\r\n    value.getDate(),\r\n    hours,\r\n    minutes,\r\n    seconds,\r\n    value.getMilliseconds()\r\n  );\r\n}\r\n\r\nexport function padNumber(value: number): string {\r\n  const _value = value.toString();\r\n  if (_value.length > 1) {\r\n    return _value;\r\n  }\r\n\r\n  return `0${_value}`;\r\n}\r\n\r\nexport function isHourInputValid(hours: string, isPM: boolean): boolean {\r\n  return !isNaN(parseHours(hours, isPM));\r\n}\r\n\r\nexport function isMinuteInputValid(minutes: string): boolean {\r\n  return !isNaN(parseMinutes(minutes));\r\n}\r\n\r\nexport function isSecondInputValid(seconds: string): boolean {\r\n  return !isNaN(parseSeconds(seconds));\r\n}\r\n\r\nexport function isInputLimitValid(diff: Time, max: Date, min: Date): boolean {\r\n  const newDate = changeTime(new Date(), diff);\r\n\r\n  if (max && newDate > max) {\r\n    return false;\r\n  }\r\n\r\n  if (min && newDate < min) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport function isInputValid(\r\n  hours: string,\r\n  minutes = '0',\r\n  seconds = '0',\r\n  isPM: boolean\r\n): boolean {\r\n  return isHourInputValid(hours, isPM)\r\n    && isMinuteInputValid(minutes)\r\n    && isSecondInputValid(seconds);\r\n}\r\n","import { changeTime } from './timepicker.utils';\r\nimport {\r\n  TimeChangeEvent,\r\n  TimepickerComponentState,\r\n  TimepickerControls\r\n} from './timepicker.models';\r\n\r\nexport function canChangeValue(\r\n  state: TimepickerComponentState,\r\n  event?: TimeChangeEvent\r\n): boolean {\r\n  if (state.readonlyInput || state.disabled) {\r\n    return false;\r\n  }\r\n\r\n  if (event) {\r\n    if (event.source === 'wheel' && !state.mousewheel) {\r\n      return false;\r\n    }\r\n\r\n    if (event.source === 'key' && !state.arrowkeys) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport function canChangeHours(\r\n  event: TimeChangeEvent,\r\n  controls: TimepickerControls\r\n): boolean {\r\n  if (!event.step) {\r\n    return false;\r\n  }\r\n\r\n  if (event.step > 0 && !controls.canIncrementHours) {\r\n    return false;\r\n  }\r\n\r\n  if (event.step < 0 && !controls.canDecrementHours) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport function canChangeMinutes(\r\n  event: TimeChangeEvent,\r\n  controls: TimepickerControls\r\n): boolean {\r\n  if (!event.step) {\r\n    return false;\r\n  }\r\n  if (event.step > 0 && !controls.canIncrementMinutes) {\r\n    return false;\r\n  }\r\n  if (event.step < 0 && !controls.canDecrementMinutes) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport function canChangeSeconds(\r\n  event: TimeChangeEvent,\r\n  controls: TimepickerControls\r\n): boolean {\r\n  if (!event.step) {\r\n    return false;\r\n  }\r\n  if (event.step > 0 && !controls.canIncrementSeconds) {\r\n    return false;\r\n  }\r\n  if (event.step < 0 && !controls.canDecrementSeconds) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport function getControlsValue(\r\n  state: TimepickerComponentState\r\n): TimepickerComponentState {\r\n  const {\r\n    hourStep,\r\n    minuteStep,\r\n    secondsStep,\r\n    readonlyInput,\r\n    disabled,\r\n    mousewheel,\r\n    arrowkeys,\r\n    showSpinners,\r\n    showMeridian,\r\n    showSeconds,\r\n    meridians,\r\n    min,\r\n    max\r\n  } = state;\r\n\r\n  return {\r\n    hourStep,\r\n    minuteStep,\r\n    secondsStep,\r\n    readonlyInput,\r\n    disabled,\r\n    mousewheel,\r\n    arrowkeys,\r\n    showSpinners,\r\n    showMeridian,\r\n    showSeconds,\r\n    meridians,\r\n    min,\r\n    max\r\n  };\r\n}\r\n\r\nexport function timepickerControls(\r\n  value: Date,\r\n  state: TimepickerComponentState\r\n): TimepickerControls {\r\n  const hoursPerDayHalf = 12;\r\n  const { min, max, hourStep, minuteStep, secondsStep, showSeconds } = state;\r\n  const res: TimepickerControls = {\r\n    canIncrementHours: true,\r\n    canIncrementMinutes: true,\r\n    canIncrementSeconds: true,\r\n\r\n    canDecrementHours: true,\r\n    canDecrementMinutes: true,\r\n    canDecrementSeconds: true,\r\n\r\n    canToggleMeridian: true\r\n  };\r\n\r\n  if (!value) {\r\n    return res;\r\n  }\r\n\r\n  // compare dates\r\n  if (max) {\r\n    const _newHour = changeTime(value, { hour: hourStep });\r\n    res.canIncrementHours = max > _newHour;\r\n\r\n    if (!res.canIncrementHours) {\r\n      const _newMinutes = changeTime(value, { minute: minuteStep });\r\n      res.canIncrementMinutes = showSeconds\r\n        ? max > _newMinutes\r\n        : max >= _newMinutes;\r\n    }\r\n\r\n    if (!res.canIncrementMinutes) {\r\n      const _newSeconds = changeTime(value, { seconds: secondsStep });\r\n      res.canIncrementSeconds = max >= _newSeconds;\r\n    }\r\n\r\n    if (value.getHours() < hoursPerDayHalf) {\r\n      res.canToggleMeridian = changeTime(value, { hour: hoursPerDayHalf }) < max;\r\n    }\r\n  }\r\n\r\n  if (min) {\r\n    const _newHour = changeTime(value, { hour: -hourStep });\r\n    res.canDecrementHours = min < _newHour;\r\n\r\n    if (!res.canDecrementHours) {\r\n      const _newMinutes = changeTime(value, { minute: -minuteStep });\r\n      res.canDecrementMinutes = showSeconds\r\n        ? min < _newMinutes\r\n        : min <= _newMinutes;\r\n    }\r\n\r\n    if (!res.canDecrementMinutes) {\r\n      const _newSeconds = changeTime(value, { seconds: -secondsStep });\r\n      res.canDecrementSeconds = min <= _newSeconds;\r\n    }\r\n\r\n    if (value.getHours() >= hoursPerDayHalf) {\r\n      res.canToggleMeridian = changeTime(value, { hour: -hoursPerDayHalf }) > min;\r\n    }\r\n  }\r\n\r\n  return res;\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/** Provides default configuration values for timepicker */\r\n@Injectable()\r\nexport class TimepickerConfig {\r\n  /** hours change step */\r\n  hourStep = 1;\r\n  /** hours change step */\r\n  minuteStep = 5;\r\n  /** seconds changes step */\r\n  secondsStep = 10;\r\n  /** if true works in 12H mode and displays AM/PM. If false works in 24H mode and hides AM/PM */\r\n  showMeridian = true;\r\n  /** meridian labels based on locale */\r\n  meridians = ['AM', 'PM'];\r\n  /** if true hours and minutes fields will be readonly */\r\n  readonlyInput = false;\r\n  /** if true hours and minutes fields will be disabled */\r\n  disabled = false;\r\n  /** if true scroll inside hours and minutes inputs will change time */\r\n  mousewheel = true;\r\n  /** if true up/down arrowkeys inside hours and minutes inputs will change time */\r\n  arrowkeys = true;\r\n  /** if true spinner arrows above and below the inputs will be shown */\r\n  showSpinners = true;\r\n  /** show seconds in timepicker */\r\n  showSeconds = false;\r\n  /** show minutes in timepicker */\r\n  showMinutes = true;\r\n  /** minimum time user can select */\r\n  min: Date;\r\n  /** maximum time user can select */\r\n  max: Date;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Action } from '../../mini-ngrx/index';\r\nimport {\r\n  TimeChangeEvent,\r\n  TimepickerComponentState,\r\n  Time\r\n} from '../timepicker.models';\r\n\r\n@Injectable()\r\nexport class TimepickerActions {\r\n  static readonly WRITE_VALUE = '[timepicker] write value from ng model';\r\n  static readonly CHANGE_HOURS = '[timepicker] change hours';\r\n  static readonly CHANGE_MINUTES = '[timepicker] change minutes';\r\n  static readonly CHANGE_SECONDS = '[timepicker] change seconds';\r\n  static readonly SET_TIME_UNIT = '[timepicker] set time unit';\r\n  static readonly UPDATE_CONTROLS = '[timepicker] update controls';\r\n\r\n  writeValue(value: Date | string) {\r\n    return {\r\n      type: TimepickerActions.WRITE_VALUE,\r\n      payload: value\r\n    };\r\n  }\r\n\r\n  changeHours(event: TimeChangeEvent) {\r\n    return {\r\n      type: TimepickerActions.CHANGE_HOURS,\r\n      payload: event\r\n    };\r\n  }\r\n\r\n  changeMinutes(event: TimeChangeEvent) {\r\n    return {\r\n      type: TimepickerActions.CHANGE_MINUTES,\r\n      payload: event\r\n    };\r\n  }\r\n\r\n  changeSeconds(event: TimeChangeEvent): Action {\r\n    return {\r\n      type: TimepickerActions.CHANGE_SECONDS,\r\n      payload: event\r\n    };\r\n  }\r\n\r\n  setTime(value: Time): Action {\r\n    return {\r\n      type: TimepickerActions.SET_TIME_UNIT,\r\n      payload: value\r\n    };\r\n  }\r\n\r\n  updateControls(value: TimepickerComponentState): Action {\r\n    return {\r\n      type: TimepickerActions.UPDATE_CONTROLS,\r\n      payload: value\r\n    };\r\n  }\r\n}\r\n","import { Action } from '../../mini-ngrx/index';\r\nimport {\r\n  canChangeHours,\r\n  canChangeMinutes,\r\n  canChangeSeconds,\r\n  canChangeValue,\r\n  timepickerControls\r\n} from '../timepicker-controls.util';\r\nimport { TimepickerConfig } from '../timepicker.config';\r\nimport {\r\n  TimepickerComponentState,\r\n  TimepickerControls\r\n} from '../timepicker.models';\r\nimport { changeTime, setTime, isValidLimit } from '../timepicker.utils';\r\nimport { TimepickerActions } from './timepicker.actions';\r\n\r\nexport class TimepickerState {\r\n  value: Date;\r\n  config: TimepickerComponentState;\r\n  controls: TimepickerControls;\r\n}\r\n\r\nexport const initialState: TimepickerState = {\r\n  value: null,\r\n  config: new TimepickerConfig(),\r\n  controls: {\r\n    canIncrementHours: true,\r\n    canIncrementMinutes: true,\r\n    canIncrementSeconds: true,\r\n\r\n    canDecrementHours: true,\r\n    canDecrementMinutes: true,\r\n    canDecrementSeconds: true,\r\n\r\n    canToggleMeridian: true\r\n  }\r\n};\r\n\r\nexport function timepickerReducer(state = initialState, action: Action) {\r\n  switch (action.type) {\r\n    case TimepickerActions.WRITE_VALUE: {\r\n      return Object.assign({}, state, { value: action.payload });\r\n    }\r\n\r\n    case TimepickerActions.CHANGE_HOURS: {\r\n      if (\r\n        !canChangeValue(state.config, action.payload) ||\r\n        !canChangeHours(action.payload, state.controls)\r\n      ) {\r\n        return state;\r\n      }\r\n\r\n      const _newTime = changeTime(state.value, { hour: action.payload.step });\r\n\r\n      if ((state.config.max || state.config.min) && !isValidLimit(state.config, _newTime)) {\r\n          return state;\r\n      }\r\n\r\n      return Object.assign({}, state, { value: _newTime });\r\n    }\r\n\r\n    case TimepickerActions.CHANGE_MINUTES: {\r\n      if (\r\n        !canChangeValue(state.config, action.payload) ||\r\n        !canChangeMinutes(action.payload, state.controls)\r\n      ) {\r\n        return state;\r\n      }\r\n\r\n      const _newTime = changeTime(state.value, { minute: action.payload.step });\r\n\r\n      if ((state.config.max || state.config.min) && !isValidLimit(state.config, _newTime)) {\r\n        return state;\r\n      }\r\n\r\n      return Object.assign({}, state, { value: _newTime });\r\n    }\r\n\r\n    case TimepickerActions.CHANGE_SECONDS: {\r\n      if (\r\n        !canChangeValue(state.config, action.payload) ||\r\n        !canChangeSeconds(action.payload, state.controls)\r\n      ) {\r\n        return state;\r\n      }\r\n\r\n      const _newTime = changeTime(state.value, {\r\n        seconds: action.payload.step\r\n      });\r\n\r\n      if ((state.config.max || state.config.min) && !isValidLimit(state.config, _newTime)) {\r\n        return state;\r\n      }\r\n\r\n      return Object.assign({}, state, { value: _newTime });\r\n    }\r\n\r\n    case TimepickerActions.SET_TIME_UNIT: {\r\n      if (!canChangeValue(state.config)) {\r\n        return state;\r\n      }\r\n\r\n      const _newTime = setTime(state.value, action.payload);\r\n\r\n      return Object.assign({}, state, { value: _newTime });\r\n    }\r\n\r\n    case TimepickerActions.UPDATE_CONTROLS: {\r\n      const _newControlsState = timepickerControls(state.value, action.payload);\r\n      const _newState: TimepickerState = {\r\n        value: state.value,\r\n        config: action.payload,\r\n        controls: _newControlsState\r\n      };\r\n\r\n      if (state.config.showMeridian !== _newState.config.showMeridian) {\r\n        if (state.value) {\r\n          _newState.value = new Date(state.value);\r\n        }\r\n      }\r\n\r\n      return Object.assign({}, state, _newState);\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  timepickerReducer,\r\n  TimepickerState,\r\n  initialState\r\n} from './timepicker.reducer';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { Action, MiniStore, MiniState } from '../../mini-ngrx/index';\r\n\r\n@Injectable()\r\nexport class TimepickerStore extends MiniStore<TimepickerState> {\r\n  constructor() {\r\n    const _dispatcher = new BehaviorSubject<Action>({\r\n      type: '[mini-ngrx] dispatcher init'\r\n    });\r\n    const state = new MiniState<TimepickerState>(\r\n      initialState,\r\n      _dispatcher,\r\n      timepickerReducer\r\n    );\r\n    super(_dispatcher, timepickerReducer, state);\r\n  }\r\n}\r\n","/* tslint:disable:no-forward-ref max-file-line-count */\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Output,\r\n  SimpleChanges, ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { TimepickerActions } from './reducer/timepicker.actions';\r\nimport { TimepickerStore } from './reducer/timepicker.store';\r\nimport { getControlsValue } from './timepicker-controls.util';\r\nimport { TimepickerConfig } from './timepicker.config';\r\nimport {\r\n  TimeChangeSource,\r\n  TimepickerComponentState,\r\n  TimepickerControls\r\n} from './timepicker.models';\r\nimport {\r\n  isValidDate,\r\n  padNumber,\r\n  parseTime,\r\n  isInputValid,\r\n  isHourInputValid,\r\n  isMinuteInputValid,\r\n  isSecondInputValid,\r\n  isInputLimitValid\r\n} from './timepicker.utils';\r\nimport { Subscription } from 'rxjs';\r\n\r\nexport const TIMEPICKER_CONTROL_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  // tslint:disable-next-line\r\n  useExisting: forwardRef(() => TimepickerComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'timepicker',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [TIMEPICKER_CONTROL_VALUE_ACCESSOR, TimepickerStore],\r\n  template: \"<table> <tbody> <tr class=\\\"text-center\\\" [hidden]=\\\"!showSpinners\\\"> <!-- increment hours button--> <td> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canIncrementHours || !isEditable\\\" (click)=\\\"changeHours(hourStep)\\\" ><span class=\\\"bs-chevron bs-chevron-up\\\"></span></a> </td> <!-- divider --> <td *ngIf=\\\"showMinutes\\\">&nbsp;&nbsp;&nbsp;</td> <!-- increment minutes button --> <td *ngIf=\\\"showMinutes\\\"> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canIncrementMinutes || !isEditable\\\" (click)=\\\"changeMinutes(minuteStep)\\\" ><span class=\\\"bs-chevron bs-chevron-up\\\"></span></a> </td> <!-- divider --> <td *ngIf=\\\"showSeconds\\\">&nbsp;</td> <!-- increment seconds button --> <td *ngIf=\\\"showSeconds\\\"> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canIncrementSeconds || !isEditable\\\" (click)=\\\"changeSeconds(secondsStep)\\\"> <span class=\\\"bs-chevron bs-chevron-up\\\"></span> </a> </td> <!-- space between --> <td *ngIf=\\\"showMeridian\\\">&nbsp;&nbsp;&nbsp;</td> <!-- meridian placeholder--> <td *ngIf=\\\"showMeridian\\\"></td> </tr> <tr> <!-- hours --> <td class=\\\"form-group\\\" [class.has-error]=\\\"invalidHours\\\"> <input type=\\\"text\\\" [class.is-invalid]=\\\"invalidHours\\\" class=\\\"form-control text-center bs-timepicker-field\\\" placeholder=\\\"HH\\\" maxlength=\\\"2\\\" [readonly]=\\\"readonlyInput\\\" [disabled]=\\\"disabled\\\" [value]=\\\"hours\\\" (wheel)=\\\"prevDef($event);changeHours(hourStep * wheelSign($event), 'wheel')\\\" (keydown.ArrowUp)=\\\"changeHours(hourStep, 'key')\\\" (keydown.ArrowDown)=\\\"changeHours(-hourStep, 'key')\\\" (change)=\\\"updateHours($event.target.value)\\\"></td> <!-- divider --> <td *ngIf=\\\"showMinutes\\\">&nbsp;:&nbsp;</td> <!-- minutes --> <td class=\\\"form-group\\\" *ngIf=\\\"showMinutes\\\" [class.has-error]=\\\"invalidMinutes\\\"> <input type=\\\"text\\\" [class.is-invalid]=\\\"invalidMinutes\\\" class=\\\"form-control text-center bs-timepicker-field\\\" placeholder=\\\"MM\\\" maxlength=\\\"2\\\" [readonly]=\\\"readonlyInput\\\" [disabled]=\\\"disabled\\\" [value]=\\\"minutes\\\" (wheel)=\\\"prevDef($event);changeMinutes(minuteStep * wheelSign($event), 'wheel')\\\" (keydown.ArrowUp)=\\\"changeMinutes(minuteStep, 'key')\\\" (keydown.ArrowDown)=\\\"changeMinutes(-minuteStep, 'key')\\\" (change)=\\\"updateMinutes($event.target.value)\\\"> </td> <!-- divider --> <td *ngIf=\\\"showSeconds\\\">&nbsp;:&nbsp;</td> <!-- seconds --> <td class=\\\"form-group\\\" *ngIf=\\\"showSeconds\\\" [class.has-error]=\\\"invalidSeconds\\\"> <input type=\\\"text\\\" [class.is-invalid]=\\\"invalidSeconds\\\" class=\\\"form-control text-center bs-timepicker-field\\\" placeholder=\\\"SS\\\" maxlength=\\\"2\\\" [readonly]=\\\"readonlyInput\\\" [disabled]=\\\"disabled\\\" [value]=\\\"seconds\\\" (wheel)=\\\"prevDef($event);changeSeconds(secondsStep * wheelSign($event), 'wheel')\\\" (keydown.ArrowUp)=\\\"changeSeconds(secondsStep, 'key')\\\" (keydown.ArrowDown)=\\\"changeSeconds(-secondsStep, 'key')\\\" (change)=\\\"updateSeconds($event.target.value)\\\"> </td> <!-- space between --> <td *ngIf=\\\"showMeridian\\\">&nbsp;&nbsp;&nbsp;</td> <!-- meridian --> <td *ngIf=\\\"showMeridian\\\"> <button type=\\\"button\\\" class=\\\"btn btn-default text-center\\\" [disabled]=\\\"!isEditable || !canToggleMeridian\\\" [class.disabled]=\\\"!isEditable || !canToggleMeridian\\\" (click)=\\\"toggleMeridian()\\\" >{{ meridian }} </button> </td> </tr> <tr class=\\\"text-center\\\" [hidden]=\\\"!showSpinners\\\"> <!-- decrement hours button--> <td> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canDecrementHours || !isEditable\\\" (click)=\\\"changeHours(-hourStep)\\\"> <span class=\\\"bs-chevron bs-chevron-down\\\"></span> </a> </td> <!-- divider --> <td *ngIf=\\\"showMinutes\\\">&nbsp;&nbsp;&nbsp;</td> <!-- decrement minutes button--> <td *ngIf=\\\"showMinutes\\\"> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canDecrementMinutes || !isEditable\\\" (click)=\\\"changeMinutes(-minuteStep)\\\"> <span class=\\\"bs-chevron bs-chevron-down\\\"></span> </a> </td> <!-- divider --> <td *ngIf=\\\"showSeconds\\\">&nbsp;</td> <!-- decrement seconds button--> <td *ngIf=\\\"showSeconds\\\"> <a class=\\\"btn btn-link\\\" [class.disabled]=\\\"!canDecrementSeconds || !isEditable\\\" (click)=\\\"changeSeconds(-secondsStep)\\\"> <span class=\\\"bs-chevron bs-chevron-down\\\"></span> </a> </td> <!-- space between --> <td *ngIf=\\\"showMeridian\\\">&nbsp;&nbsp;&nbsp;</td> <!-- meridian placeholder--> <td *ngIf=\\\"showMeridian\\\"></td> </tr> </tbody> </table> \",\r\n  styles: [`\r\n    .bs-chevron {\r\n      border-style: solid;\r\n      display: block;\r\n      width: 9px;\r\n      height: 9px;\r\n      position: relative;\r\n      border-width: 3px 0px 0 3px;\r\n    }\r\n\r\n    .bs-chevron-up {\r\n      -webkit-transform: rotate(45deg);\r\n      transform: rotate(45deg);\r\n      top: 2px;\r\n    }\r\n\r\n    .bs-chevron-down {\r\n      -webkit-transform: rotate(-135deg);\r\n      transform: rotate(-135deg);\r\n      top: -2px;\r\n    }\r\n\r\n    .bs-timepicker-field {\r\n      width: 50px;\r\n    }\r\n  `],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class TimepickerComponent\r\n  implements ControlValueAccessor,\r\n    TimepickerComponentState,\r\n    TimepickerControls,\r\n    OnChanges,\r\n    OnDestroy {\r\n  /** hours change step */\r\n  @Input() hourStep: number;\r\n  /** hours change step */\r\n  @Input() minuteStep: number;\r\n  /** seconds change step */\r\n  @Input() secondsStep: number;\r\n  /** if true hours and minutes fields will be readonly */\r\n  @Input() readonlyInput: boolean;\r\n  /** if true hours and minutes fields will be disabled */\r\n  @Input() disabled: boolean;\r\n  /** if true scroll inside hours and minutes inputs will change time */\r\n  @Input() mousewheel: boolean;\r\n  /** if true up/down arrowkeys inside hours and minutes inputs will change time */\r\n  @Input() arrowkeys: boolean;\r\n  /** if true spinner arrows above and below the inputs will be shown */\r\n  @Input() showSpinners: boolean;\r\n  /** if true meridian button will be shown */\r\n  @Input() showMeridian: boolean;\r\n  /** show minutes in timepicker */\r\n  @Input() showMinutes: boolean;\r\n  /** show seconds in timepicker */\r\n  @Input() showSeconds: boolean;\r\n  /** meridian labels based on locale */\r\n  @Input() meridians: string[];\r\n  /** minimum time user can select */\r\n  @Input() min: Date;\r\n  /** maximum time user can select */\r\n  @Input() max: Date;\r\n\r\n  /** emits true if value is a valid date */\r\n  @Output() isValid = new EventEmitter<boolean>();\r\n\r\n  // ui variables\r\n  hours: string;\r\n  minutes: string;\r\n  seconds: string;\r\n  meridian: string;\r\n\r\n  /** @deprecated - please use `isEditable` instead */\r\n  get isSpinnersVisible(): boolean {\r\n    return this.showSpinners && !this.readonlyInput;\r\n  }\r\n\r\n  get isEditable(): boolean {\r\n    return !(this.readonlyInput || this.disabled);\r\n  }\r\n\r\n  // min\\max validation for input fields\r\n  invalidHours = false;\r\n  invalidMinutes = false;\r\n  invalidSeconds = false;\r\n\r\n  // time picker controls state\r\n  canIncrementHours: boolean;\r\n  canIncrementMinutes: boolean;\r\n  canIncrementSeconds: boolean;\r\n\r\n  canDecrementHours: boolean;\r\n  canDecrementMinutes: boolean;\r\n  canDecrementSeconds: boolean;\r\n\r\n  canToggleMeridian: boolean;\r\n\r\n  // control value accessor methods\r\n  onChange: any = Function.prototype;\r\n  onTouched: any = Function.prototype;\r\n\r\n  timepickerSub: Subscription;\r\n\r\n  constructor(\r\n    _config: TimepickerConfig,\r\n    _cd: ChangeDetectorRef,\r\n    private _store: TimepickerStore,\r\n    private _timepickerActions: TimepickerActions\r\n  ) {\r\n    Object.assign(this, _config);\r\n\r\n    this.timepickerSub = _store\r\n      .select(state => state.value)\r\n      .subscribe((value: Date) => {\r\n        // update UI values if date changed\r\n        this._renderTime(value);\r\n        this.onChange(value);\r\n\r\n        this._store.dispatch(\r\n          this._timepickerActions.updateControls(getControlsValue(this))\r\n        );\r\n      });\r\n\r\n    _store\r\n      .select(state => state.controls)\r\n      .subscribe((controlsState: TimepickerControls) => {\r\n        this.isValid.emit(isInputValid(this.hours, this.minutes, this.seconds, this.isPM()));\r\n        Object.assign(this, controlsState);\r\n        _cd.markForCheck();\r\n      });\r\n  }\r\n\r\n  resetValidation(): void {\r\n    this.invalidHours = false;\r\n    this.invalidMinutes = false;\r\n    this.invalidSeconds = false;\r\n  }\r\n\r\n  isPM(): boolean {\r\n    return this.showMeridian && this.meridian === this.meridians[1];\r\n  }\r\n\r\n  prevDef($event: any) {\r\n    $event.preventDefault();\r\n  }\r\n\r\n  wheelSign($event: any): number {\r\n    return Math.sign($event.deltaY as number) * -1;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this._store.dispatch(\r\n      this._timepickerActions.updateControls(getControlsValue(this))\r\n    );\r\n  }\r\n\r\n  changeHours(step: number, source: TimeChangeSource = ''): void {\r\n    this.resetValidation();\r\n    this._store.dispatch(this._timepickerActions.changeHours({ step, source }));\r\n  }\r\n\r\n  changeMinutes(step: number, source: TimeChangeSource = ''): void {\r\n    this.resetValidation();\r\n    this._store.dispatch(\r\n      this._timepickerActions.changeMinutes({ step, source })\r\n    );\r\n  }\r\n\r\n  changeSeconds(step: number, source: TimeChangeSource = ''): void {\r\n    this.resetValidation();\r\n    this._store.dispatch(\r\n      this._timepickerActions.changeSeconds({ step, source })\r\n    );\r\n  }\r\n\r\n  updateHours(hours: string): void {\r\n    this.resetValidation();\r\n    this.hours = hours;\r\n\r\n    const isValid = isHourInputValid(this.hours, this.isPM()) && this.isValidLimit();\r\n\r\n    if (!isValid) {\r\n      this.invalidHours = true;\r\n      this.isValid.emit(false);\r\n      this.onChange(null);\r\n\r\n      return;\r\n    }\r\n\r\n    this._updateTime();\r\n  }\r\n\r\n  updateMinutes(minutes: string) {\r\n    this.resetValidation();\r\n    this.minutes = minutes;\r\n\r\n    const isValid = isMinuteInputValid(this.minutes) && this.isValidLimit();\r\n\r\n    if (!isValid) {\r\n      this.invalidMinutes = true;\r\n      this.isValid.emit(false);\r\n      this.onChange(null);\r\n\r\n      return;\r\n    }\r\n\r\n    this._updateTime();\r\n  }\r\n\r\n  updateSeconds(seconds: string) {\r\n    this.resetValidation();\r\n    this.seconds = seconds;\r\n\r\n    const isValid = isSecondInputValid(this.seconds) && this.isValidLimit();\r\n\r\n    if (!isValid) {\r\n      this.invalidSeconds = true;\r\n      this.isValid.emit(false);\r\n      this.onChange(null);\r\n\r\n      return;\r\n    }\r\n\r\n    this._updateTime();\r\n  }\r\n\r\n  isValidLimit(): boolean {\r\n    return isInputLimitValid({\r\n      hour: this.hours,\r\n      minute: this.minutes,\r\n      seconds: this.seconds,\r\n      isPM: this.isPM()\r\n    }, this.max, this.min);\r\n  }\r\n\r\n  _updateTime() {\r\n    const _seconds = this.showSeconds ? this.seconds : void 0;\r\n    const _minutes = this.showMinutes ? this.minutes : void 0;\r\n    if (!isInputValid(this.hours, _minutes, _seconds, this.isPM())) {\r\n      this.isValid.emit(false);\r\n      this.onChange(null);\r\n\r\n      return;\r\n    }\r\n\r\n    this._store.dispatch(\r\n      this._timepickerActions.setTime({\r\n        hour: this.hours,\r\n        minute: this.minutes,\r\n        seconds: this.seconds,\r\n        isPM: this.isPM()\r\n      })\r\n    );\r\n  }\r\n\r\n  toggleMeridian(): void {\r\n    if (!this.showMeridian || !this.isEditable) {\r\n      return;\r\n    }\r\n\r\n    const _hoursPerDayHalf = 12;\r\n    this._store.dispatch(\r\n      this._timepickerActions.changeHours({\r\n        step: _hoursPerDayHalf,\r\n        source: ''\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Write a new value to the element.\r\n   */\r\n  writeValue(obj: any): void {\r\n    if (isValidDate(obj)) {\r\n      this._store.dispatch(this._timepickerActions.writeValue(parseTime(obj)));\r\n    } else if (obj == null) {\r\n      this._store.dispatch(this._timepickerActions.writeValue(null));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the function to be called when the control receives a change event.\r\n   */\r\n  registerOnChange(fn: (_: any) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  /**\r\n   * Set the function to be called when the control receives a touch event.\r\n   */\r\n  registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  /**\r\n   * This function is called when the control status changes to or from \"disabled\".\r\n   * Depending on the value, it will enable or disable the appropriate DOM element.\r\n   *\r\n   * @param isDisabled\r\n   */\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.timepickerSub.unsubscribe();\r\n  }\r\n\r\n  private _renderTime(value: string | Date): void {\r\n    if (!isValidDate(value)) {\r\n      this.hours = '';\r\n      this.minutes = '';\r\n      this.seconds = '';\r\n      this.meridian = this.meridians[0];\r\n\r\n      return;\r\n    }\r\n\r\n    const _value = parseTime(value);\r\n    const _hoursPerDayHalf = 12;\r\n    let _hours = _value.getHours();\r\n\r\n    if (this.showMeridian) {\r\n      this.meridian = this.meridians[_hours >= _hoursPerDayHalf ? 1 : 0];\r\n      _hours = _hours % _hoursPerDayHalf;\r\n      // should be 12 PM, not 00 PM\r\n      if (_hours === 0) {\r\n        _hours = _hoursPerDayHalf;\r\n      }\r\n    }\r\n\r\n    this.hours = padNumber(_hours);\r\n    this.minutes = padNumber(_value.getMinutes());\r\n    this.seconds = padNumber(_value.getUTCSeconds());\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TimepickerComponent } from './timepicker.component';\r\nimport { TimepickerActions } from './reducer/timepicker.actions';\r\nimport { TimepickerConfig } from './timepicker.config';\r\nimport { TimepickerStore } from './reducer/timepicker.store';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [TimepickerComponent],\r\n  exports: [TimepickerComponent]\r\n})\r\nexport class TimepickerModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: TimepickerModule,\r\n      providers: [TimepickerConfig, TimepickerActions, TimepickerStore]\r\n    };\r\n  }\r\n}\r\n","/* tslint:disable */\r\nexport const latinMap: { [key: string]: string } = {\r\n    'Á': 'A',\r\n    'Ă': 'A',\r\n    'Ắ': 'A',\r\n    'Ặ': 'A',\r\n    'Ằ': 'A',\r\n    'Ẳ': 'A',\r\n    'Ẵ': 'A',\r\n    'Ǎ': 'A',\r\n    'Â': 'A',\r\n    'Ấ': 'A',\r\n    'Ậ': 'A',\r\n    'Ầ': 'A',\r\n    'Ẩ': 'A',\r\n    'Ẫ': 'A',\r\n    'Ä': 'A',\r\n    'Ǟ': 'A',\r\n    'Ȧ': 'A',\r\n    'Ǡ': 'A',\r\n    'Ạ': 'A',\r\n    'Ȁ': 'A',\r\n    'À': 'A',\r\n    'Ả': 'A',\r\n    'Ȃ': 'A',\r\n    'Ā': 'A',\r\n    'Ą': 'A',\r\n    'Å': 'A',\r\n    'Ǻ': 'A',\r\n    'Ḁ': 'A',\r\n    'Ⱥ': 'A',\r\n    'Ã': 'A',\r\n    'Ꜳ': 'AA',\r\n    'Æ': 'AE',\r\n    'Ǽ': 'AE',\r\n    'Ǣ': 'AE',\r\n    'Ꜵ': 'AO',\r\n    'Ꜷ': 'AU',\r\n    'Ꜹ': 'AV',\r\n    'Ꜻ': 'AV',\r\n    'Ꜽ': 'AY',\r\n    'Ḃ': 'B',\r\n    'Ḅ': 'B',\r\n    'Ɓ': 'B',\r\n    'Ḇ': 'B',\r\n    'Ƀ': 'B',\r\n    'Ƃ': 'B',\r\n    'Ć': 'C',\r\n    'Č': 'C',\r\n    'Ç': 'C',\r\n    'Ḉ': 'C',\r\n    'Ĉ': 'C',\r\n    'Ċ': 'C',\r\n    'Ƈ': 'C',\r\n    'Ȼ': 'C',\r\n    'Ď': 'D',\r\n    'Ḑ': 'D',\r\n    'Ḓ': 'D',\r\n    'Ḋ': 'D',\r\n    'Ḍ': 'D',\r\n    'Ɗ': 'D',\r\n    'Ḏ': 'D',\r\n    'ǲ': 'D',\r\n    'ǅ': 'D',\r\n    'Đ': 'D',\r\n    'Ƌ': 'D',\r\n    'Ǳ': 'DZ',\r\n    'Ǆ': 'DZ',\r\n    'É': 'E',\r\n    'Ĕ': 'E',\r\n    'Ě': 'E',\r\n    'Ȩ': 'E',\r\n    'Ḝ': 'E',\r\n    'Ê': 'E',\r\n    'Ế': 'E',\r\n    'Ệ': 'E',\r\n    'Ề': 'E',\r\n    'Ể': 'E',\r\n    'Ễ': 'E',\r\n    'Ḙ': 'E',\r\n    'Ë': 'E',\r\n    'Ė': 'E',\r\n    'Ẹ': 'E',\r\n    'Ȅ': 'E',\r\n    'È': 'E',\r\n    'Ẻ': 'E',\r\n    'Ȇ': 'E',\r\n    'Ē': 'E',\r\n    'Ḗ': 'E',\r\n    'Ḕ': 'E',\r\n    'Ę': 'E',\r\n    'Ɇ': 'E',\r\n    'Ẽ': 'E',\r\n    'Ḛ': 'E',\r\n    'Ꝫ': 'ET',\r\n    'Ḟ': 'F',\r\n    'Ƒ': 'F',\r\n    'Ǵ': 'G',\r\n    'Ğ': 'G',\r\n    'Ǧ': 'G',\r\n    'Ģ': 'G',\r\n    'Ĝ': 'G',\r\n    'Ġ': 'G',\r\n    'Ɠ': 'G',\r\n    'Ḡ': 'G',\r\n    'Ǥ': 'G',\r\n    'Ḫ': 'H',\r\n    'Ȟ': 'H',\r\n    'Ḩ': 'H',\r\n    'Ĥ': 'H',\r\n    'Ⱨ': 'H',\r\n    'Ḧ': 'H',\r\n    'Ḣ': 'H',\r\n    'Ḥ': 'H',\r\n    'Ħ': 'H',\r\n    'Í': 'I',\r\n    'Ĭ': 'I',\r\n    'Ǐ': 'I',\r\n    'Î': 'I',\r\n    'Ï': 'I',\r\n    'Ḯ': 'I',\r\n    'İ': 'I',\r\n    'Ị': 'I',\r\n    'Ȉ': 'I',\r\n    'Ì': 'I',\r\n    'Ỉ': 'I',\r\n    'Ȋ': 'I',\r\n    'Ī': 'I',\r\n    'Į': 'I',\r\n    'Ɨ': 'I',\r\n    'Ĩ': 'I',\r\n    'Ḭ': 'I',\r\n    'Ꝺ': 'D',\r\n    'Ꝼ': 'F',\r\n    'Ᵹ': 'G',\r\n    'Ꞃ': 'R',\r\n    'Ꞅ': 'S',\r\n    'Ꞇ': 'T',\r\n    'Ꝭ': 'IS',\r\n    'Ĵ': 'J',\r\n    'Ɉ': 'J',\r\n    'Ḱ': 'K',\r\n    'Ǩ': 'K',\r\n    'Ķ': 'K',\r\n    'Ⱪ': 'K',\r\n    'Ꝃ': 'K',\r\n    'Ḳ': 'K',\r\n    'Ƙ': 'K',\r\n    'Ḵ': 'K',\r\n    'Ꝁ': 'K',\r\n    'Ꝅ': 'K',\r\n    'Ĺ': 'L',\r\n    'Ƚ': 'L',\r\n    'Ľ': 'L',\r\n    'Ļ': 'L',\r\n    'Ḽ': 'L',\r\n    'Ḷ': 'L',\r\n    'Ḹ': 'L',\r\n    'Ⱡ': 'L',\r\n    'Ꝉ': 'L',\r\n    'Ḻ': 'L',\r\n    'Ŀ': 'L',\r\n    'Ɫ': 'L',\r\n    'ǈ': 'L',\r\n    'Ł': 'L',\r\n    'Ǉ': 'LJ',\r\n    'Ḿ': 'M',\r\n    'Ṁ': 'M',\r\n    'Ṃ': 'M',\r\n    'Ɱ': 'M',\r\n    'Ń': 'N',\r\n    'Ň': 'N',\r\n    'Ņ': 'N',\r\n    'Ṋ': 'N',\r\n    'Ṅ': 'N',\r\n    'Ṇ': 'N',\r\n    'Ǹ': 'N',\r\n    'Ɲ': 'N',\r\n    'Ṉ': 'N',\r\n    'Ƞ': 'N',\r\n    'ǋ': 'N',\r\n    'Ñ': 'N',\r\n    'Ǌ': 'NJ',\r\n    'Ó': 'O',\r\n    'Ŏ': 'O',\r\n    'Ǒ': 'O',\r\n    'Ô': 'O',\r\n    'Ố': 'O',\r\n    'Ộ': 'O',\r\n    'Ồ': 'O',\r\n    'Ổ': 'O',\r\n    'Ỗ': 'O',\r\n    'Ö': 'O',\r\n    'Ȫ': 'O',\r\n    'Ȯ': 'O',\r\n    'Ȱ': 'O',\r\n    'Ọ': 'O',\r\n    'Ő': 'O',\r\n    'Ȍ': 'O',\r\n    'Ò': 'O',\r\n    'Ỏ': 'O',\r\n    'Ơ': 'O',\r\n    'Ớ': 'O',\r\n    'Ợ': 'O',\r\n    'Ờ': 'O',\r\n    'Ở': 'O',\r\n    'Ỡ': 'O',\r\n    'Ȏ': 'O',\r\n    'Ꝋ': 'O',\r\n    'Ꝍ': 'O',\r\n    'Ō': 'O',\r\n    'Ṓ': 'O',\r\n    'Ṑ': 'O',\r\n    'Ɵ': 'O',\r\n    'Ǫ': 'O',\r\n    'Ǭ': 'O',\r\n    'Ø': 'O',\r\n    'Ǿ': 'O',\r\n    'Õ': 'O',\r\n    'Ṍ': 'O',\r\n    'Ṏ': 'O',\r\n    'Ȭ': 'O',\r\n    'Ƣ': 'OI',\r\n    'Ꝏ': 'OO',\r\n    'Ɛ': 'E',\r\n    'Ɔ': 'O',\r\n    'Ȣ': 'OU',\r\n    'Ṕ': 'P',\r\n    'Ṗ': 'P',\r\n    'Ꝓ': 'P',\r\n    'Ƥ': 'P',\r\n    'Ꝕ': 'P',\r\n    'Ᵽ': 'P',\r\n    'Ꝑ': 'P',\r\n    'Ꝙ': 'Q',\r\n    'Ꝗ': 'Q',\r\n    'Ŕ': 'R',\r\n    'Ř': 'R',\r\n    'Ŗ': 'R',\r\n    'Ṙ': 'R',\r\n    'Ṛ': 'R',\r\n    'Ṝ': 'R',\r\n    'Ȑ': 'R',\r\n    'Ȓ': 'R',\r\n    'Ṟ': 'R',\r\n    'Ɍ': 'R',\r\n    'Ɽ': 'R',\r\n    'Ꜿ': 'C',\r\n    'Ǝ': 'E',\r\n    'Ś': 'S',\r\n    'Ṥ': 'S',\r\n    'Š': 'S',\r\n    'Ṧ': 'S',\r\n    'Ş': 'S',\r\n    'Ŝ': 'S',\r\n    'Ș': 'S',\r\n    'Ṡ': 'S',\r\n    'Ṣ': 'S',\r\n    'Ṩ': 'S',\r\n    'Ť': 'T',\r\n    'Ţ': 'T',\r\n    'Ṱ': 'T',\r\n    'Ț': 'T',\r\n    'Ⱦ': 'T',\r\n    'Ṫ': 'T',\r\n    'Ṭ': 'T',\r\n    'Ƭ': 'T',\r\n    'Ṯ': 'T',\r\n    'Ʈ': 'T',\r\n    'Ŧ': 'T',\r\n    'Ɐ': 'A',\r\n    'Ꞁ': 'L',\r\n    'Ɯ': 'M',\r\n    'Ʌ': 'V',\r\n    'Ꜩ': 'TZ',\r\n    'Ú': 'U',\r\n    'Ŭ': 'U',\r\n    'Ǔ': 'U',\r\n    'Û': 'U',\r\n    'Ṷ': 'U',\r\n    'Ü': 'U',\r\n    'Ǘ': 'U',\r\n    'Ǚ': 'U',\r\n    'Ǜ': 'U',\r\n    'Ǖ': 'U',\r\n    'Ṳ': 'U',\r\n    'Ụ': 'U',\r\n    'Ű': 'U',\r\n    'Ȕ': 'U',\r\n    'Ù': 'U',\r\n    'Ủ': 'U',\r\n    'Ư': 'U',\r\n    'Ứ': 'U',\r\n    'Ự': 'U',\r\n    'Ừ': 'U',\r\n    'Ử': 'U',\r\n    'Ữ': 'U',\r\n    'Ȗ': 'U',\r\n    'Ū': 'U',\r\n    'Ṻ': 'U',\r\n    'Ų': 'U',\r\n    'Ů': 'U',\r\n    'Ũ': 'U',\r\n    'Ṹ': 'U',\r\n    'Ṵ': 'U',\r\n    'Ꝟ': 'V',\r\n    'Ṿ': 'V',\r\n    'Ʋ': 'V',\r\n    'Ṽ': 'V',\r\n    'Ꝡ': 'VY',\r\n    'Ẃ': 'W',\r\n    'Ŵ': 'W',\r\n    'Ẅ': 'W',\r\n    'Ẇ': 'W',\r\n    'Ẉ': 'W',\r\n    'Ẁ': 'W',\r\n    'Ⱳ': 'W',\r\n    'Ẍ': 'X',\r\n    'Ẋ': 'X',\r\n    'Ý': 'Y',\r\n    'Ŷ': 'Y',\r\n    'Ÿ': 'Y',\r\n    'Ẏ': 'Y',\r\n    'Ỵ': 'Y',\r\n    'Ỳ': 'Y',\r\n    'Ƴ': 'Y',\r\n    'Ỷ': 'Y',\r\n    'Ỿ': 'Y',\r\n    'Ȳ': 'Y',\r\n    'Ɏ': 'Y',\r\n    'Ỹ': 'Y',\r\n    'Ź': 'Z',\r\n    'Ž': 'Z',\r\n    'Ẑ': 'Z',\r\n    'Ⱬ': 'Z',\r\n    'Ż': 'Z',\r\n    'Ẓ': 'Z',\r\n    'Ȥ': 'Z',\r\n    'Ẕ': 'Z',\r\n    'Ƶ': 'Z',\r\n    'Ĳ': 'IJ',\r\n    'Œ': 'OE',\r\n    'ᴀ': 'A',\r\n    'ᴁ': 'AE',\r\n    'ʙ': 'B',\r\n    'ᴃ': 'B',\r\n    'ᴄ': 'C',\r\n    'ᴅ': 'D',\r\n    'ᴇ': 'E',\r\n    'ꜰ': 'F',\r\n    'ɢ': 'G',\r\n    'ʛ': 'G',\r\n    'ʜ': 'H',\r\n    'ɪ': 'I',\r\n    'ʁ': 'R',\r\n    'ᴊ': 'J',\r\n    'ᴋ': 'K',\r\n    'ʟ': 'L',\r\n    'ᴌ': 'L',\r\n    'ᴍ': 'M',\r\n    'ɴ': 'N',\r\n    'ᴏ': 'O',\r\n    'ɶ': 'OE',\r\n    'ᴐ': 'O',\r\n    'ᴕ': 'OU',\r\n    'ᴘ': 'P',\r\n    'ʀ': 'R',\r\n    'ᴎ': 'N',\r\n    'ᴙ': 'R',\r\n    'ꜱ': 'S',\r\n    'ᴛ': 'T',\r\n    'ⱻ': 'E',\r\n    'ᴚ': 'R',\r\n    'ᴜ': 'U',\r\n    'ᴠ': 'V',\r\n    'ᴡ': 'W',\r\n    'ʏ': 'Y',\r\n    'ᴢ': 'Z',\r\n    'á': 'a',\r\n    'ă': 'a',\r\n    'ắ': 'a',\r\n    'ặ': 'a',\r\n    'ằ': 'a',\r\n    'ẳ': 'a',\r\n    'ẵ': 'a',\r\n    'ǎ': 'a',\r\n    'â': 'a',\r\n    'ấ': 'a',\r\n    'ậ': 'a',\r\n    'ầ': 'a',\r\n    'ẩ': 'a',\r\n    'ẫ': 'a',\r\n    'ä': 'a',\r\n    'ǟ': 'a',\r\n    'ȧ': 'a',\r\n    'ǡ': 'a',\r\n    'ạ': 'a',\r\n    'ȁ': 'a',\r\n    'à': 'a',\r\n    'ả': 'a',\r\n    'ȃ': 'a',\r\n    'ā': 'a',\r\n    'ą': 'a',\r\n    'ᶏ': 'a',\r\n    'ẚ': 'a',\r\n    'å': 'a',\r\n    'ǻ': 'a',\r\n    'ḁ': 'a',\r\n    'ⱥ': 'a',\r\n    'ã': 'a',\r\n    'ꜳ': 'aa',\r\n    'æ': 'ae',\r\n    'ǽ': 'ae',\r\n    'ǣ': 'ae',\r\n    'ꜵ': 'ao',\r\n    'ꜷ': 'au',\r\n    'ꜹ': 'av',\r\n    'ꜻ': 'av',\r\n    'ꜽ': 'ay',\r\n    'ḃ': 'b',\r\n    'ḅ': 'b',\r\n    'ɓ': 'b',\r\n    'ḇ': 'b',\r\n    'ᵬ': 'b',\r\n    'ᶀ': 'b',\r\n    'ƀ': 'b',\r\n    'ƃ': 'b',\r\n    'ɵ': 'o',\r\n    'ć': 'c',\r\n    'č': 'c',\r\n    'ç': 'c',\r\n    'ḉ': 'c',\r\n    'ĉ': 'c',\r\n    'ɕ': 'c',\r\n    'ċ': 'c',\r\n    'ƈ': 'c',\r\n    'ȼ': 'c',\r\n    'ď': 'd',\r\n    'ḑ': 'd',\r\n    'ḓ': 'd',\r\n    'ȡ': 'd',\r\n    'ḋ': 'd',\r\n    'ḍ': 'd',\r\n    'ɗ': 'd',\r\n    'ᶑ': 'd',\r\n    'ḏ': 'd',\r\n    'ᵭ': 'd',\r\n    'ᶁ': 'd',\r\n    'đ': 'd',\r\n    'ɖ': 'd',\r\n    'ƌ': 'd',\r\n    'ı': 'i',\r\n    'ȷ': 'j',\r\n    'ɟ': 'j',\r\n    'ʄ': 'j',\r\n    'ǳ': 'dz',\r\n    'ǆ': 'dz',\r\n    'é': 'e',\r\n    'ĕ': 'e',\r\n    'ě': 'e',\r\n    'ȩ': 'e',\r\n    'ḝ': 'e',\r\n    'ê': 'e',\r\n    'ế': 'e',\r\n    'ệ': 'e',\r\n    'ề': 'e',\r\n    'ể': 'e',\r\n    'ễ': 'e',\r\n    'ḙ': 'e',\r\n    'ë': 'e',\r\n    'ė': 'e',\r\n    'ẹ': 'e',\r\n    'ȅ': 'e',\r\n    'è': 'e',\r\n    'ẻ': 'e',\r\n    'ȇ': 'e',\r\n    'ē': 'e',\r\n    'ḗ': 'e',\r\n    'ḕ': 'e',\r\n    'ⱸ': 'e',\r\n    'ę': 'e',\r\n    'ᶒ': 'e',\r\n    'ɇ': 'e',\r\n    'ẽ': 'e',\r\n    'ḛ': 'e',\r\n    'ꝫ': 'et',\r\n    'ḟ': 'f',\r\n    'ƒ': 'f',\r\n    'ᵮ': 'f',\r\n    'ᶂ': 'f',\r\n    'ǵ': 'g',\r\n    'ğ': 'g',\r\n    'ǧ': 'g',\r\n    'ģ': 'g',\r\n    'ĝ': 'g',\r\n    'ġ': 'g',\r\n    'ɠ': 'g',\r\n    'ḡ': 'g',\r\n    'ᶃ': 'g',\r\n    'ǥ': 'g',\r\n    'ḫ': 'h',\r\n    'ȟ': 'h',\r\n    'ḩ': 'h',\r\n    'ĥ': 'h',\r\n    'ⱨ': 'h',\r\n    'ḧ': 'h',\r\n    'ḣ': 'h',\r\n    'ḥ': 'h',\r\n    'ɦ': 'h',\r\n    'ẖ': 'h',\r\n    'ħ': 'h',\r\n    'ƕ': 'hv',\r\n    'í': 'i',\r\n    'ĭ': 'i',\r\n    'ǐ': 'i',\r\n    'î': 'i',\r\n    'ï': 'i',\r\n    'ḯ': 'i',\r\n    'ị': 'i',\r\n    'ȉ': 'i',\r\n    'ì': 'i',\r\n    'ỉ': 'i',\r\n    'ȋ': 'i',\r\n    'ī': 'i',\r\n    'į': 'i',\r\n    'ᶖ': 'i',\r\n    'ɨ': 'i',\r\n    'ĩ': 'i',\r\n    'ḭ': 'i',\r\n    'ꝺ': 'd',\r\n    'ꝼ': 'f',\r\n    'ᵹ': 'g',\r\n    'ꞃ': 'r',\r\n    'ꞅ': 's',\r\n    'ꞇ': 't',\r\n    'ꝭ': 'is',\r\n    'ǰ': 'j',\r\n    'ĵ': 'j',\r\n    'ʝ': 'j',\r\n    'ɉ': 'j',\r\n    'ḱ': 'k',\r\n    'ǩ': 'k',\r\n    'ķ': 'k',\r\n    'ⱪ': 'k',\r\n    'ꝃ': 'k',\r\n    'ḳ': 'k',\r\n    'ƙ': 'k',\r\n    'ḵ': 'k',\r\n    'ᶄ': 'k',\r\n    'ꝁ': 'k',\r\n    'ꝅ': 'k',\r\n    'ĺ': 'l',\r\n    'ƚ': 'l',\r\n    'ɬ': 'l',\r\n    'ľ': 'l',\r\n    'ļ': 'l',\r\n    'ḽ': 'l',\r\n    'ȴ': 'l',\r\n    'ḷ': 'l',\r\n    'ḹ': 'l',\r\n    'ⱡ': 'l',\r\n    'ꝉ': 'l',\r\n    'ḻ': 'l',\r\n    'ŀ': 'l',\r\n    'ɫ': 'l',\r\n    'ᶅ': 'l',\r\n    'ɭ': 'l',\r\n    'ł': 'l',\r\n    'ǉ': 'lj',\r\n    'ſ': 's',\r\n    'ẜ': 's',\r\n    'ẛ': 's',\r\n    'ẝ': 's',\r\n    'ḿ': 'm',\r\n    'ṁ': 'm',\r\n    'ṃ': 'm',\r\n    'ɱ': 'm',\r\n    'ᵯ': 'm',\r\n    'ᶆ': 'm',\r\n    'ń': 'n',\r\n    'ň': 'n',\r\n    'ņ': 'n',\r\n    'ṋ': 'n',\r\n    'ȵ': 'n',\r\n    'ṅ': 'n',\r\n    'ṇ': 'n',\r\n    'ǹ': 'n',\r\n    'ɲ': 'n',\r\n    'ṉ': 'n',\r\n    'ƞ': 'n',\r\n    'ᵰ': 'n',\r\n    'ᶇ': 'n',\r\n    'ɳ': 'n',\r\n    'ñ': 'n',\r\n    'ǌ': 'nj',\r\n    'ó': 'o',\r\n    'ŏ': 'o',\r\n    'ǒ': 'o',\r\n    'ô': 'o',\r\n    'ố': 'o',\r\n    'ộ': 'o',\r\n    'ồ': 'o',\r\n    'ổ': 'o',\r\n    'ỗ': 'o',\r\n    'ö': 'o',\r\n    'ȫ': 'o',\r\n    'ȯ': 'o',\r\n    'ȱ': 'o',\r\n    'ọ': 'o',\r\n    'ő': 'o',\r\n    'ȍ': 'o',\r\n    'ò': 'o',\r\n    'ỏ': 'o',\r\n    'ơ': 'o',\r\n    'ớ': 'o',\r\n    'ợ': 'o',\r\n    'ờ': 'o',\r\n    'ở': 'o',\r\n    'ỡ': 'o',\r\n    'ȏ': 'o',\r\n    'ꝋ': 'o',\r\n    'ꝍ': 'o',\r\n    'ⱺ': 'o',\r\n    'ō': 'o',\r\n    'ṓ': 'o',\r\n    'ṑ': 'o',\r\n    'ǫ': 'o',\r\n    'ǭ': 'o',\r\n    'ø': 'o',\r\n    'ǿ': 'o',\r\n    'õ': 'o',\r\n    'ṍ': 'o',\r\n    'ṏ': 'o',\r\n    'ȭ': 'o',\r\n    'ƣ': 'oi',\r\n    'ꝏ': 'oo',\r\n    'ɛ': 'e',\r\n    'ᶓ': 'e',\r\n    'ɔ': 'o',\r\n    'ᶗ': 'o',\r\n    'ȣ': 'ou',\r\n    'ṕ': 'p',\r\n    'ṗ': 'p',\r\n    'ꝓ': 'p',\r\n    'ƥ': 'p',\r\n    'ᵱ': 'p',\r\n    'ᶈ': 'p',\r\n    'ꝕ': 'p',\r\n    'ᵽ': 'p',\r\n    'ꝑ': 'p',\r\n    'ꝙ': 'q',\r\n    'ʠ': 'q',\r\n    'ɋ': 'q',\r\n    'ꝗ': 'q',\r\n    'ŕ': 'r',\r\n    'ř': 'r',\r\n    'ŗ': 'r',\r\n    'ṙ': 'r',\r\n    'ṛ': 'r',\r\n    'ṝ': 'r',\r\n    'ȑ': 'r',\r\n    'ɾ': 'r',\r\n    'ᵳ': 'r',\r\n    'ȓ': 'r',\r\n    'ṟ': 'r',\r\n    'ɼ': 'r',\r\n    'ᵲ': 'r',\r\n    'ᶉ': 'r',\r\n    'ɍ': 'r',\r\n    'ɽ': 'r',\r\n    'ↄ': 'c',\r\n    'ꜿ': 'c',\r\n    'ɘ': 'e',\r\n    'ɿ': 'r',\r\n    'ś': 's',\r\n    'ṥ': 's',\r\n    'š': 's',\r\n    'ṧ': 's',\r\n    'ş': 's',\r\n    'ŝ': 's',\r\n    'ș': 's',\r\n    'ṡ': 's',\r\n    'ṣ': 's',\r\n    'ṩ': 's',\r\n    'ʂ': 's',\r\n    'ᵴ': 's',\r\n    'ᶊ': 's',\r\n    'ȿ': 's',\r\n    'ɡ': 'g',\r\n    'ᴑ': 'o',\r\n    'ᴓ': 'o',\r\n    'ᴝ': 'u',\r\n    'ť': 't',\r\n    'ţ': 't',\r\n    'ṱ': 't',\r\n    'ț': 't',\r\n    'ȶ': 't',\r\n    'ẗ': 't',\r\n    'ⱦ': 't',\r\n    'ṫ': 't',\r\n    'ṭ': 't',\r\n    'ƭ': 't',\r\n    'ṯ': 't',\r\n    'ᵵ': 't',\r\n    'ƫ': 't',\r\n    'ʈ': 't',\r\n    'ŧ': 't',\r\n    'ᵺ': 'th',\r\n    'ɐ': 'a',\r\n    'ᴂ': 'ae',\r\n    'ǝ': 'e',\r\n    'ᵷ': 'g',\r\n    'ɥ': 'h',\r\n    'ʮ': 'h',\r\n    'ʯ': 'h',\r\n    'ᴉ': 'i',\r\n    'ʞ': 'k',\r\n    'ꞁ': 'l',\r\n    'ɯ': 'm',\r\n    'ɰ': 'm',\r\n    'ᴔ': 'oe',\r\n    'ɹ': 'r',\r\n    'ɻ': 'r',\r\n    'ɺ': 'r',\r\n    'ⱹ': 'r',\r\n    'ʇ': 't',\r\n    'ʌ': 'v',\r\n    'ʍ': 'w',\r\n    'ʎ': 'y',\r\n    'ꜩ': 'tz',\r\n    'ú': 'u',\r\n    'ŭ': 'u',\r\n    'ǔ': 'u',\r\n    'û': 'u',\r\n    'ṷ': 'u',\r\n    'ü': 'u',\r\n    'ǘ': 'u',\r\n    'ǚ': 'u',\r\n    'ǜ': 'u',\r\n    'ǖ': 'u',\r\n    'ṳ': 'u',\r\n    'ụ': 'u',\r\n    'ű': 'u',\r\n    'ȕ': 'u',\r\n    'ù': 'u',\r\n    'ủ': 'u',\r\n    'ư': 'u',\r\n    'ứ': 'u',\r\n    'ự': 'u',\r\n    'ừ': 'u',\r\n    'ử': 'u',\r\n    'ữ': 'u',\r\n    'ȗ': 'u',\r\n    'ū': 'u',\r\n    'ṻ': 'u',\r\n    'ų': 'u',\r\n    'ᶙ': 'u',\r\n    'ů': 'u',\r\n    'ũ': 'u',\r\n    'ṹ': 'u',\r\n    'ṵ': 'u',\r\n    'ᵫ': 'ue',\r\n    'ꝸ': 'um',\r\n    'ⱴ': 'v',\r\n    'ꝟ': 'v',\r\n    'ṿ': 'v',\r\n    'ʋ': 'v',\r\n    'ᶌ': 'v',\r\n    'ⱱ': 'v',\r\n    'ṽ': 'v',\r\n    'ꝡ': 'vy',\r\n    'ẃ': 'w',\r\n    'ŵ': 'w',\r\n    'ẅ': 'w',\r\n    'ẇ': 'w',\r\n    'ẉ': 'w',\r\n    'ẁ': 'w',\r\n    'ⱳ': 'w',\r\n    'ẘ': 'w',\r\n    'ẍ': 'x',\r\n    'ẋ': 'x',\r\n    'ᶍ': 'x',\r\n    'ý': 'y',\r\n    'ŷ': 'y',\r\n    'ÿ': 'y',\r\n    'ẏ': 'y',\r\n    'ỵ': 'y',\r\n    'ỳ': 'y',\r\n    'ƴ': 'y',\r\n    'ỷ': 'y',\r\n    'ỿ': 'y',\r\n    'ȳ': 'y',\r\n    'ẙ': 'y',\r\n    'ɏ': 'y',\r\n    'ỹ': 'y',\r\n    'ź': 'z',\r\n    'ž': 'z',\r\n    'ẑ': 'z',\r\n    'ʑ': 'z',\r\n    'ⱬ': 'z',\r\n    'ż': 'z',\r\n    'ẓ': 'z',\r\n    'ȥ': 'z',\r\n    'ẕ': 'z',\r\n    'ᵶ': 'z',\r\n    'ᶎ': 'z',\r\n    'ʐ': 'z',\r\n    'ƶ': 'z',\r\n    'ɀ': 'z',\r\n    'ﬀ': 'ff',\r\n    'ﬃ': 'ffi',\r\n    'ﬄ': 'ffl',\r\n    'ﬁ': 'fi',\r\n    'ﬂ': 'fl',\r\n    'ĳ': 'ij',\r\n    'œ': 'oe',\r\n    'ﬆ': 'st',\r\n    'ₐ': 'a',\r\n    'ₑ': 'e',\r\n    'ᵢ': 'i',\r\n    'ⱼ': 'j',\r\n    'ₒ': 'o',\r\n    'ᵣ': 'r',\r\n    'ᵤ': 'u',\r\n    'ᵥ': 'v',\r\n    'ₓ': 'x'\r\n};\r\n","import { TypeaheadDirective } from './typeahead.directive';\r\n\r\nexport class TypeaheadOptions {\r\n  placement: string;\r\n  animation: boolean;\r\n  typeaheadRef: TypeaheadDirective;\r\n\r\n  constructor(options: TypeaheadOptions) {\r\n    Object.assign(this, options);\r\n  }\r\n}\r\n","export class TypeaheadMatch {\r\n  readonly value: string;\r\n  readonly item: any;\r\n  protected header: boolean;\r\n\r\n  constructor(item: any, value: string = item, header = false) {\r\n    this.item = item;\r\n    this.value = value;\r\n    this.header = header;\r\n  }\r\n\r\n  isHeader(): boolean {\r\n    return this.header;\r\n  }\r\n\r\n  toString(): string {\r\n    return this.value;\r\n  }\r\n}\r\n","import { latinMap } from './latin-map';\r\n\r\nexport function latinize(str: string): string {\r\n  if (!str) {\r\n    return '';\r\n  }\r\n\r\n  return str.replace(/[^A-Za-z0-9\\[\\] ]/g, function (a: string): string {\r\n    return latinMap[a] || a;\r\n  });\r\n}\r\n\r\nexport function escapeRegexp(queryToEscape: string): string {\r\n  // Regex: capture the whole query string and replace it with the string\r\n  // that will be used to match the results, for example if the capture is\r\n  // 'a' the result will be \\a\r\n  return queryToEscape.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\r\n}\r\n\r\n/* tslint:disable */\r\nexport function tokenize(str: string,\r\n                         wordRegexDelimiters = ' ',\r\n                         phraseRegexDelimiters = ''): Array<string> {\r\n  /* tslint:enable */\r\n  const regexStr = `(?:[${phraseRegexDelimiters}])([^${phraseRegexDelimiters}]+)` +\r\n    `(?:[${phraseRegexDelimiters}])|([^${wordRegexDelimiters}]+)`;\r\n  const preTokenized: string[] = str.split(new RegExp(regexStr, 'g'));\r\n  const result: string[] = [];\r\n  const preTokenizedLength: number = preTokenized.length;\r\n  let token: string;\r\n  const replacePhraseDelimiters = new RegExp(`[${phraseRegexDelimiters}]+`, 'g');\r\n\r\n  for (let i = 0; i < preTokenizedLength; i += 1) {\r\n    token = preTokenized[i];\r\n    if (token && token.length && token !== wordRegexDelimiters) {\r\n      result.push(token.replace(replacePhraseDelimiters, ''));\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function getValueFromObject(object: any, option: string): string {\r\n  if (!option || typeof object !== 'object') {\r\n    return object.toString();\r\n  }\r\n\r\n  if (option.endsWith('()')) {\r\n    const functionName = option.slice(0, option.length - 2);\r\n\r\n    return object[functionName]().toString();\r\n  }\r\n\r\n  const properties: string = option\r\n    .replace(/\\[(\\w+)\\]/g, '.$1')\r\n    .replace(/^\\./, '');\r\n  const propertiesArray: string[] = properties.split('.');\r\n\r\n  for (const property of propertiesArray) {\r\n    if (property in object) {\r\n      // tslint:disable-next-line\r\n      object = object[property];\r\n    }\r\n  }\r\n  if (!object) {return ''; }\r\n\r\n  return object.toString();\r\n}\r\n","/*tslint:disable:no-invalid-this */\r\nexport function OnChange(defaultValue?: any): any {\r\n  const sufix = 'Change';\r\n\r\n  return function OnChangeHandler(target: any, propertyKey: string): void {\r\n    const _key = ` __${propertyKey}Value`;\r\n    Object.defineProperty(target, propertyKey, {\r\n      get(): any {\r\n        return this[_key];\r\n      },\r\n      set(value: any): void {\r\n        const prevValue = this[_key];\r\n        this[_key] = value;\r\n        if (prevValue !== value && this[propertyKey + sufix]) {\r\n          this[propertyKey + sufix].emit(value);\r\n        }\r\n      }\r\n    });\r\n  };\r\n}\r\n/* tslint:enable */\r\n","export class LinkedList<T> {\r\n  length = 0;\r\n  protected head: any;\r\n  protected tail: any;\r\n  protected current: any;\r\n  protected asArray: T[] = [];\r\n\r\n  get(position: number): T {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      return void 0;\r\n    }\r\n\r\n    let current = this.head;\r\n\r\n    for (let index = 0; index < position; index++) {\r\n      current = current.next;\r\n    }\r\n\r\n    return current.value;\r\n  }\r\n\r\n  add(value: T, position: number = this.length): void {\r\n    if (position < 0 || position > this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    const node = {\r\n      value: value as any,\r\n      next: undefined as any,\r\n      previous: undefined as any\r\n    };\r\n\r\n    if (this.length === 0) {\r\n      this.head = node;\r\n      this.tail = node;\r\n      this.current = node;\r\n    } else {\r\n      if (position === 0) {\r\n        // first node\r\n        node.next = this.head;\r\n        this.head.previous = node;\r\n        this.head = node;\r\n      } else if (position === this.length) {\r\n        // last node\r\n        this.tail.next = node;\r\n        node.previous = this.tail;\r\n        this.tail = node;\r\n      } else {\r\n        // node in middle\r\n        const currentPreviousNode = this.getNode(position - 1);\r\n        const currentNextNode = currentPreviousNode.next;\r\n\r\n        currentPreviousNode.next = node;\r\n        currentNextNode.previous = node;\r\n\r\n        node.previous = currentPreviousNode;\r\n        node.next = currentNextNode;\r\n      }\r\n    }\r\n    this.length++;\r\n    this.createInternalArrayRepresentation();\r\n  }\r\n\r\n  remove(position = 0): void {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    if (position === 0) {\r\n      // first node\r\n      this.head = this.head.next;\r\n\r\n      if (this.head) {\r\n        // there is no second node\r\n        this.head.previous = undefined;\r\n      } else {\r\n        // there is no second node\r\n        this.tail = undefined;\r\n      }\r\n    } else if (position === this.length - 1) {\r\n      // last node\r\n      this.tail = this.tail.previous;\r\n      this.tail.next = undefined;\r\n    } else {\r\n      // middle node\r\n      const removedNode = this.getNode(position);\r\n      removedNode.next.previous = removedNode.previous;\r\n      removedNode.previous.next = removedNode.next;\r\n    }\r\n\r\n    this.length--;\r\n    this.createInternalArrayRepresentation();\r\n  }\r\n\r\n  set(position: number, value: T): void {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    const node = this.getNode(position);\r\n    node.value = value;\r\n    this.createInternalArrayRepresentation();\r\n  }\r\n\r\n  toArray(): T[] {\r\n    return this.asArray;\r\n  }\r\n\r\n  findAll(fn: any): any[] {\r\n    let current = this.head;\r\n    const result: any[] = [];\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (fn(current.value, index)) {\r\n        result.push({index, value: current.value});\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  // Array methods overriding start\r\n  push(...args: T[]): number {\r\n    args.forEach((arg: any) => {\r\n      this.add(arg);\r\n    });\r\n\r\n    return this.length;\r\n  }\r\n\r\n  pop(): T {\r\n    if (this.length === 0) {\r\n      return undefined;\r\n    }\r\n    const last = this.tail;\r\n    this.remove(this.length - 1);\r\n\r\n    return last.value;\r\n  }\r\n\r\n  unshift(...args: T[]): number {\r\n    args.reverse();\r\n    args.forEach((arg: any) => {\r\n      this.add(arg, 0);\r\n    });\r\n\r\n    return this.length;\r\n  }\r\n\r\n  shift(): T {\r\n    if (this.length === 0) {\r\n      return undefined;\r\n    }\r\n    const lastItem = this.head.value;\r\n    this.remove();\r\n\r\n    return lastItem;\r\n  }\r\n\r\n  forEach(fn: any): void {\r\n    let current = this.head;\r\n    for (let index = 0; index < this.length; index++) {\r\n      fn(current.value, index);\r\n      current = current.next;\r\n    }\r\n  }\r\n\r\n  indexOf(value: T): number {\r\n    let current = this.head;\r\n    let position = 0;\r\n\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (current.value === value) {\r\n        position = index;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return position;\r\n  }\r\n\r\n  some(fn: any): boolean {\r\n    let current = this.head;\r\n    let result = false;\r\n    while (current && !result) {\r\n      if (fn(current.value)) {\r\n        result = true;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  every(fn: any): boolean {\r\n    let current = this.head;\r\n    let result = true;\r\n    while (current && result) {\r\n      if (!fn(current.value)) {\r\n        result = false;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  toString(): string {\r\n    return '[Linked List]';\r\n  }\r\n\r\n  find(fn: any): T {\r\n    let current = this.head;\r\n    let result: T;\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (fn(current.value, index)) {\r\n        result = current.value;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  findIndex(fn: any): number {\r\n    let current = this.head;\r\n    let result: number;\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (fn(current.value, index)) {\r\n        result = index;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  protected getNode(position: number): any {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    let current = this.head;\r\n\r\n    for (let index = 0; index < position; index++) {\r\n      current = current.next;\r\n    }\r\n\r\n    return current;\r\n  }\r\n\r\n  protected createInternalArrayRepresentation(): void {\r\n    const outArray: any[] = [];\r\n    let current = this.head;\r\n\r\n    while (current) {\r\n      outArray.push(current.value);\r\n      current = current.next;\r\n    }\r\n    this.asArray = outArray;\r\n  }\r\n\r\n  // Array methods overriding END\r\n}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  QueryList,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewChildren,\r\n  Renderer2\r\n} from '@angular/core';\r\n\r\nimport { isBs3, Utils } from '../utils';\r\nimport { latinize } from './typeahead-utils';\r\nimport { TypeaheadMatch } from './typeahead-match.class';\r\nimport { TypeaheadDirective } from './typeahead.directive';\r\n\r\n@Component({\r\n  selector: 'typeahead-container',\r\n  // tslint:disable-next-line\r\n  template: \"<!-- inject options list template --> <ng-template [ngTemplateOutlet]=\\\"optionsListTemplate || (isBs4 ? bs4Template : bs3Template)\\\" [ngTemplateOutletContext]=\\\"{matches:matches, itemTemplate:itemTemplate, query:query}\\\"></ng-template> <!-- default options item template --> <ng-template #bsItemTemplate let-match=\\\"match\\\" let-query=\\\"query\\\"><span [innerHtml]=\\\"highlight(match, query)\\\"></span> </ng-template> <!-- Bootstrap 3 options list template --> <ng-template #bs3Template> <ul class=\\\"dropdown-menu\\\" #ulElement [style.overflow-y]=\\\"needScrollbar ? 'scroll': 'auto'\\\" [style.height]=\\\"needScrollbar ? guiHeight: 'auto'\\\"> <ng-template ngFor let-match let-i=\\\"index\\\" [ngForOf]=\\\"matches\\\"> <li #liElements *ngIf=\\\"match.isHeader()\\\" class=\\\"dropdown-header\\\">{{ match }}</li> <li #liElements *ngIf=\\\"!match.isHeader()\\\" [class.active]=\\\"isActive(match)\\\" (mouseenter)=\\\"selectActive(match)\\\"> <a href=\\\"#\\\" (click)=\\\"selectMatch(match, $event)\\\" tabindex=\\\"-1\\\"> <ng-template [ngTemplateOutlet]=\\\"itemTemplate || bsItemTemplate\\\" [ngTemplateOutletContext]=\\\"{item:match.item, index:i, match:match, query:query}\\\"></ng-template> </a> </li> </ng-template> </ul> </ng-template> <!-- Bootstrap 4 options list template --> <ng-template #bs4Template> <ng-template ngFor let-match let-i=\\\"index\\\" [ngForOf]=\\\"matches\\\"> <h6 *ngIf=\\\"match.isHeader()\\\" class=\\\"dropdown-header\\\">{{ match }}</h6> <ng-template [ngIf]=\\\"!match.isHeader()\\\"> <button #liElements class=\\\"dropdown-item\\\" (click)=\\\"selectMatch(match, $event)\\\" (mouseenter)=\\\"selectActive(match)\\\" [class.active]=\\\"isActive(match)\\\"> <ng-template [ngTemplateOutlet]=\\\"itemTemplate || bsItemTemplate\\\" [ngTemplateOutletContext]=\\\"{item:match.item, index:i, match:match, query:query}\\\"></ng-template> </button> </ng-template> </ng-template> </ng-template> \",\r\n  host: {\r\n    class: 'dropdown open',\r\n    '[class.dropdown-menu]': 'isBs4',\r\n    '[style.overflow-y]' : `isBs4 && needScrollbar ? 'scroll': 'visible'`,\r\n    '[style.height]': `isBs4 && needScrollbar ? guiHeight: 'auto'`,\r\n    '[style.visibility]': `typeaheadScrollable ? 'hidden' : 'visible'`,\r\n    '[class.dropup]': 'dropup',\r\n    style: 'position: absolute;display: block;'\r\n  }\r\n})\r\nexport class TypeaheadContainerComponent {\r\n  parent: TypeaheadDirective;\r\n  query: any;\r\n  element: ElementRef;\r\n  isFocused = false;\r\n  top: string;\r\n  left: string;\r\n  display: string;\r\n  placement: string;\r\n  dropup: boolean;\r\n  guiHeight: string;\r\n  needScrollbar: boolean;\r\n\r\n  get isBs4(): boolean {\r\n    return !isBs3();\r\n  }\r\n\r\n  protected _active: TypeaheadMatch;\r\n  protected _matches: TypeaheadMatch[] = [];\r\n\r\n  @ViewChild('ulElement')\r\n  private ulElement: ElementRef;\r\n\r\n  @ViewChildren('liElements')\r\n  private liElements: QueryList<ElementRef>;\r\n\r\n  constructor(element: ElementRef, private renderer: Renderer2) {\r\n    this.element = element;\r\n  }\r\n\r\n  get active(): TypeaheadMatch {\r\n    return this._active;\r\n  }\r\n\r\n  get matches(): TypeaheadMatch[] {\r\n    return this._matches;\r\n  }\r\n\r\n  set matches(value: TypeaheadMatch[]) {\r\n    this._matches = value;\r\n    this.needScrollbar = this.typeaheadScrollable && this.typeaheadOptionsInScrollableView < this.matches.length;\r\n    if (this.typeaheadScrollable) {\r\n      setTimeout(() => {\r\n        this.setScrollableMode();\r\n      });\r\n    }\r\n\r\n    if (this._matches.length > 0) {\r\n      this._active = this._matches[0];\r\n      if (this._active.isHeader()) {\r\n        this.nextActiveMatch();\r\n      }\r\n    }\r\n  }\r\n\r\n  get optionsListTemplate(): TemplateRef<any> {\r\n    return this.parent ? this.parent.optionsListTemplate : undefined;\r\n  }\r\n\r\n  get typeaheadScrollable(): boolean {\r\n    return this.parent ? this.parent.typeaheadScrollable : false;\r\n  }\r\n\r\n\r\n  get typeaheadOptionsInScrollableView(): number {\r\n    return this.parent ? this.parent.typeaheadOptionsInScrollableView : 5;\r\n  }\r\n\r\n  get itemTemplate(): TemplateRef<any> {\r\n    return this.parent ? this.parent.typeaheadItemTemplate : undefined;\r\n  }\r\n\r\n  selectActiveMatch(): void {\r\n    this.selectMatch(this._active);\r\n  }\r\n\r\n  prevActiveMatch(): void {\r\n    const index = this.matches.indexOf(this._active);\r\n    this._active = this.matches[\r\n      index - 1 < 0 ? this.matches.length - 1 : index - 1\r\n      ];\r\n    if (this._active.isHeader()) {\r\n      this.prevActiveMatch();\r\n    }\r\n    if (this.typeaheadScrollable) {\r\n      this.scrollPrevious(index);\r\n    }\r\n  }\r\n\r\n  nextActiveMatch(): void {\r\n    const index = this.matches.indexOf(this._active);\r\n    this._active = this.matches[\r\n      index + 1 > this.matches.length - 1 ? 0 : index + 1\r\n      ];\r\n    if (this._active.isHeader()) {\r\n      this.nextActiveMatch();\r\n    }\r\n    if (this.typeaheadScrollable) {\r\n      this.scrollNext(index);\r\n    }\r\n  }\r\n\r\n  selectActive(value: TypeaheadMatch): void {\r\n    this.isFocused = true;\r\n    this._active = value;\r\n  }\r\n\r\n  highlight(match: TypeaheadMatch, query: any): string {\r\n    let itemStr: string = match.value;\r\n    let itemStrHelper: string = (this.parent && this.parent.typeaheadLatinize\r\n      ? latinize(itemStr)\r\n      : itemStr).toLowerCase();\r\n    let startIdx: number;\r\n    let tokenLen: number;\r\n    // Replaces the capture string with the same string inside of a \"strong\" tag\r\n    if (typeof query === 'object') {\r\n      const queryLen: number = query.length;\r\n      for (let i = 0; i < queryLen; i += 1) {\r\n        // query[i] is already latinized and lower case\r\n        startIdx = itemStrHelper.indexOf(query[i]);\r\n        tokenLen = query[i].length;\r\n        if (startIdx >= 0 && tokenLen > 0) {\r\n          itemStr =\r\n            `${itemStr.substring(0, startIdx)}<strong>${itemStr.substring(startIdx, startIdx + tokenLen)}</strong>` +\r\n            `${itemStr.substring(startIdx + tokenLen)}`;\r\n          itemStrHelper =\r\n            `${itemStrHelper.substring(0, startIdx)}        ${' '.repeat(tokenLen)}         ` +\r\n            `${itemStrHelper.substring(startIdx + tokenLen)}`;\r\n        }\r\n      }\r\n    } else if (query) {\r\n      // query is already latinized and lower case\r\n      startIdx = itemStrHelper.indexOf(query);\r\n      tokenLen = query.length;\r\n      if (startIdx >= 0 && tokenLen > 0) {\r\n        itemStr =\r\n          `${itemStr.substring(0, startIdx)}<strong>${itemStr.substring(startIdx, startIdx + tokenLen)}</strong>` +\r\n          `${itemStr.substring(startIdx + tokenLen)}`;\r\n      }\r\n    }\r\n\r\n    return itemStr;\r\n  }\r\n\r\n  @HostListener('mouseleave')\r\n  @HostListener('blur')\r\n  focusLost(): void {\r\n    this.isFocused = false;\r\n  }\r\n\r\n  isActive(value: TypeaheadMatch): boolean {\r\n    return this._active === value;\r\n  }\r\n\r\n  selectMatch(value: TypeaheadMatch, e: Event = void 0): boolean {\r\n    if (e) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }\r\n    this.parent.changeModel(value);\r\n    setTimeout(() => this.parent.typeaheadOnSelect.emit(value), 0);\r\n\r\n    return false;\r\n  }\r\n\r\n  setScrollableMode(): void {\r\n    if (!this.ulElement) {\r\n      this.ulElement = this.element;\r\n    }\r\n    if (this.liElements.first) {\r\n      const ulStyles = Utils.getStyles(this.ulElement.nativeElement);\r\n      const liStyles = Utils.getStyles(this.liElements.first.nativeElement);\r\n      const ulPaddingBottom = parseFloat((ulStyles['padding-bottom'] ? ulStyles['padding-bottom'] : '').replace('px', ''));\r\n      const ulPaddingTop = parseFloat((ulStyles['padding-top'] ? ulStyles['padding-top'] : '0').replace('px', ''));\r\n      const optionHeight = parseFloat((liStyles['height'] ? liStyles['height'] : '0').replace('px', ''));\r\n      const height = this.typeaheadOptionsInScrollableView * optionHeight;\r\n      this.guiHeight = `${height + ulPaddingTop + ulPaddingBottom}px`;\r\n    }\r\n    this.renderer.setStyle(this.element.nativeElement, 'visibility', 'visible');\r\n  }\r\n\r\n  scrollPrevious(index: number): void {\r\n    if (index === 0) {\r\n      this.scrollToBottom();\r\n\r\n      return;\r\n    }\r\n    if (this.liElements) {\r\n      const liElement = this.liElements.toArray()[index - 1];\r\n      if (liElement && !this.isScrolledIntoView(liElement.nativeElement)) {\r\n        this.ulElement.nativeElement.scrollTop = liElement.nativeElement.offsetTop;\r\n      }\r\n    }\r\n  }\r\n\r\n  scrollNext(index: number): void {\r\n    if (index + 1 > this.matches.length - 1) {\r\n      this.scrollToTop();\r\n\r\n      return;\r\n    }\r\n    if (this.liElements) {\r\n      const liElement = this.liElements.toArray()[index + 1];\r\n      if (liElement && !this.isScrolledIntoView(liElement.nativeElement)) {\r\n        this.ulElement.nativeElement.scrollTop =\r\n          liElement.nativeElement.offsetTop -\r\n          this.ulElement.nativeElement.offsetHeight +\r\n          liElement.nativeElement.offsetHeight;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  private isScrolledIntoView = function (elem: HTMLElement) {\r\n    const containerViewTop = this.ulElement.nativeElement.scrollTop;\r\n    const containerViewBottom = containerViewTop + this.ulElement.nativeElement.offsetHeight;\r\n    const elemTop = elem.offsetTop;\r\n    const elemBottom = elemTop + elem.offsetHeight;\r\n\r\n    return ((elemBottom <= containerViewBottom) && (elemTop >= containerViewTop));\r\n  };\r\n\r\n  private scrollToBottom(): void {\r\n    this.ulElement.nativeElement.scrollTop = this.ulElement.nativeElement.scrollHeight;\r\n  }\r\n\r\n  private scrollToTop(): void {\r\n    this.ulElement.nativeElement.scrollTop = 0;\r\n  }\r\n}\r\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\n//# sourceMappingURL=isPromise.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = /*@__PURE__*/ getSymbolIterator();\n/**\n * @deprecated use {@link iterator} instead\n */\nexport var $$iterator = iterator;\n//# sourceMappingURL=iterator.js.map\n","/**\n * Subscribes to an ArrayLike with a subscriber\n * @param array The array or array-like to subscribe to\n */\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function (array) {\n    return function (subscriber) {\n        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        if (!subscriber.closed) {\n            subscriber.complete();\n        }\n    };\n};\n//# sourceMappingURL=subscribeToArray.js.map\n","/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\nimport { hostReportError } from './hostReportError';\nexport var subscribeToPromise = function (promise) {\n    return function (subscriber) {\n        promise.then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, hostReportError);\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToPromise.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function (iterable) {\n    return function (subscriber) {\n        var iterator = iterable[Symbol_iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                subscriber.complete();\n                break;\n            }\n            subscriber.next(item.value);\n            if (subscriber.closed) {\n                break;\n            }\n        } while (true);\n        // Finalize the iterator if it happens to be a Generator\n        if (typeof iterator.return === 'function') {\n            subscriber.add(function () {\n                if (iterator.return) {\n                    iterator.return();\n                }\n            });\n        }\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToIterable.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\n/**\n * Subscribes to an object that implements Symbol.observable with the given\n * Subscriber.\n * @param obj An object that implements Symbol.observable\n */\nexport var subscribeToObservable = function (obj) {\n    return function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (typeof obs.subscribe !== 'function') {\n            // Should be caught by observable subscribe function error handling.\n            throw new TypeError('Provided object does not correctly implement Symbol.observable');\n        }\n        else {\n            return obs.subscribe(subscriber);\n        }\n    };\n};\n//# sourceMappingURL=subscribeToObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function (result) {\n    if (result instanceof Observable) {\n        return function (subscriber) {\n            if (result._isScalar) {\n                subscriber.next(result.value);\n                subscriber.complete();\n                return undefined;\n            }\n            else {\n                return result.subscribe(subscriber);\n            }\n        };\n    }\n    else if (isArrayLike(result)) {\n        return subscribeToArray(result);\n    }\n    else if (isPromise(result)) {\n        return subscribeToPromise(result);\n    }\n    else if (result && typeof result[Symbol_iterator] === 'function') {\n        return subscribeToIterable(result);\n    }\n    else if (result && typeof result[Symbol_observable] === 'function') {\n        return subscribeToObservable(result);\n    }\n    else {\n        var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map\n","/** PURE_IMPORTS_START _Observable,_util_isPromise,_util_isArrayLike,_util_isInteropObservable,_util_isIterable,_fromArray,_fromPromise,_fromIterable,_fromObservable,_util_subscribeTo PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isIterable } from '../util/isIterable';\nimport { fromArray } from './fromArray';\nimport { fromPromise } from './fromPromise';\nimport { fromIterable } from './fromIterable';\nimport { fromObservable } from './fromObservable';\nimport { subscribeTo } from '../util/subscribeTo';\nexport function from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable) {\n            return input;\n        }\n        return new Observable(subscribeTo(input));\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromObservable(input, scheduler);\n        }\n        else if (isPromise(input)) {\n            return fromPromise(input, scheduler);\n        }\n        else if (isArrayLike(input)) {\n            return fromArray(input, scheduler);\n        }\n        else if (isIterable(input) || typeof input === 'string') {\n            return fromIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n//# sourceMappingURL=from.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\n/** Identifies an input as being Observable (but not necessary an Rx Observable) */\nexport function isInteropObservable(input) {\n    return input && typeof input[Symbol_observable] === 'function';\n}\n//# sourceMappingURL=isInteropObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable,_util_subscribeToObservable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { subscribeToObservable } from '../util/subscribeToObservable';\nexport function fromObservable(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToObservable(input));\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var sub = new Subscription();\n            sub.add(scheduler.schedule(function () {\n                var observable = input[Symbol_observable]();\n                sub.add(observable.subscribe({\n                    next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                    error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                    complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n                }));\n            }));\n            return sub;\n        });\n    }\n}\n//# sourceMappingURL=fromObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_util_subscribeToPromise PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { subscribeToPromise } from '../util/subscribeToPromise';\nexport function fromPromise(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToPromise(input));\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var sub = new Subscription();\n            sub.add(scheduler.schedule(function () {\n                return input.then(function (value) {\n                    sub.add(scheduler.schedule(function () {\n                        subscriber.next(value);\n                        sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                    }));\n                }, function (err) {\n                    sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n                });\n            }));\n            return sub;\n        });\n    }\n}\n//# sourceMappingURL=fromPromise.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_util_subscribeToArray PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { subscribeToArray } from '../util/subscribeToArray';\nexport function fromArray(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToArray(input));\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var sub = new Subscription();\n            var i = 0;\n            sub.add(scheduler.schedule(function () {\n                if (i === input.length) {\n                    subscriber.complete();\n                    return;\n                }\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    sub.add(this.schedule());\n                }\n            }));\n            return sub;\n        });\n    }\n}\n//# sourceMappingURL=fromArray.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\n/** Identifies an input as being an Iterable */\nexport function isIterable(input) {\n    return input && typeof input[Symbol_iterator] === 'function';\n}\n//# sourceMappingURL=isIterable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator,_util_subscribeToIterable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { subscribeToIterable } from '../util/subscribeToIterable';\nexport function fromIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    if (!scheduler) {\n        return new Observable(subscribeToIterable(input));\n    }\n    else {\n        return new Observable(function (subscriber) {\n            var sub = new Subscription();\n            var iterator;\n            sub.add(function () {\n                // Finalize generators\n                if (iterator && typeof iterator.return === 'function') {\n                    iterator.return();\n                }\n            });\n            sub.add(scheduler.schedule(function () {\n                iterator = input[Symbol_iterator]();\n                sub.add(scheduler.schedule(function () {\n                    if (subscriber.closed) {\n                        return;\n                    }\n                    var value;\n                    var done;\n                    try {\n                        var result = iterator.next();\n                        value = result.value;\n                        done = result.done;\n                    }\n                    catch (err) {\n                        subscriber.error(err);\n                        return;\n                    }\n                    if (done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(value);\n                        this.schedule();\n                    }\n                }));\n            }));\n            return sub;\n        });\n    }\n}\n//# sourceMappingURL=fromIterable.js.map\n","/* tslint:disable:max-file-line-count */\r\nimport {\r\n  ChangeDetectorRef,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\n\r\nimport { from, Observable, Subscription } from 'rxjs';\r\nimport { ComponentLoader, ComponentLoaderFactory } from '../component-loader/index';\r\nimport { TypeaheadContainerComponent } from './typeahead-container.component';\r\nimport { TypeaheadMatch } from './typeahead-match.class';\r\nimport { getValueFromObject, latinize, tokenize } from './typeahead-utils';\r\nimport { debounceTime, filter, mergeMap, switchMap, toArray } from 'rxjs/operators';\r\n\r\n@Directive({selector: '[typeahead]', exportAs: 'bs-typeahead'})\r\nexport class TypeaheadDirective implements OnInit, OnDestroy {\r\n  /** options source, can be Array of strings, objects or\r\n   * an Observable for external matching process\r\n   */\r\n  @Input() typeahead: any;\r\n  /** minimal no of characters that needs to be entered before\r\n   * typeahead kicks-in. When set to 0, typeahead shows on focus with full\r\n   * list of options (limited as normal by typeaheadOptionsLimit)\r\n   */\r\n  @Input() typeaheadMinLength: number = void 0;\r\n  /** minimal wait time after last character typed before typeahead kicks-in */\r\n  @Input() typeaheadWaitMs: number;\r\n  /** maximum length of options items list */\r\n  @Input() typeaheadOptionsLimit: number;\r\n  /** when options source is an array of objects, the name of field\r\n   * that contains the options value, we use array item as option in case\r\n   * of this field is missing. Supports nested properties and methods.\r\n   */\r\n  @Input() typeaheadOptionField: string;\r\n  /** when options source is an array of objects, the name of field that\r\n   * contains the group value, matches are grouped by this field when set.\r\n   */\r\n  @Input() typeaheadGroupField: string;\r\n  /** should be used only in case of typeahead attribute is array.\r\n   * If true - loading of options will be async, otherwise - sync.\r\n   * true make sense if options array is large.\r\n   */\r\n  @Input() typeaheadAsync: boolean = void 0;\r\n  /** match latin symbols.\r\n   * If true the word súper would match super and vice versa.\r\n   */\r\n  @Input() typeaheadLatinize = true;\r\n  /** Can be use to search words by inserting a single white space between each characters\r\n   *  for example 'C a l i f o r n i a' will match 'California'.\r\n   */\r\n  @Input() typeaheadSingleWords = true;\r\n  /** should be used only in case typeaheadSingleWords attribute is true.\r\n   * Sets the word delimiter to break words. Defaults to space.\r\n   */\r\n  @Input() typeaheadWordDelimiters = ' ';\r\n  /** should be used only in case typeaheadSingleWords attribute is true.\r\n   * Sets the word delimiter to match exact phrase.\r\n   * Defaults to simple and double quotes.\r\n   */\r\n  @Input() typeaheadPhraseDelimiters = '\\'\"';\r\n  /** used to specify a custom item template.\r\n   * Template variables exposed are called item and index;\r\n   */\r\n  @Input() typeaheadItemTemplate: TemplateRef<any>;\r\n  /** used to specify a custom options list template.\r\n   * Template variables: matches, itemTemplate, query\r\n   */\r\n  @Input() optionsListTemplate: TemplateRef<any>;\r\n  /** specifies if typeahead is scrollable  */\r\n  @Input() typeaheadScrollable = false;\r\n  /** specifies number of options to show in scroll view  */\r\n  @Input() typeaheadOptionsInScrollableView = 5;\r\n  /** fired when 'busy' state of this component was changed,\r\n   * fired on async mode only, returns boolean\r\n   */\r\n  @Output() typeaheadLoading = new EventEmitter<boolean>();\r\n  /** fired on every key event and returns true\r\n   * in case of matches are not detected\r\n   */\r\n  @Output() typeaheadNoResults = new EventEmitter<boolean>();\r\n  /** fired when option was selected, return object with data of this option */\r\n  @Output() typeaheadOnSelect = new EventEmitter<TypeaheadMatch>();\r\n  /** fired when blur event occurres. returns the active item */\r\n  @Output() typeaheadOnBlur = new EventEmitter<any>();\r\n\r\n  /**\r\n   * A selector specifying the element the typeahead should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  @Input() container: string;\r\n\r\n  /** This attribute indicates that the dropdown should be opened upwards */\r\n  @Input() dropup = false;\r\n\r\n  // not yet implemented\r\n  /** if false restrict model values to the ones selected from the popup only will be provided */\r\n  // @Input() protected typeaheadEditable:boolean;\r\n  /** if false the first match automatically will not be focused as you type */\r\n  // @Input() protected typeaheadFocusFirst:boolean;\r\n  /** format the ng-model result after selection */\r\n  // @Input() protected typeaheadInputFormatter:any;\r\n  /** if true automatically select an item when there is one option that exactly matches the user input */\r\n  // @Input() protected typeaheadSelectOnExact:boolean;\r\n  /**  if true select the currently highlighted match on blur */\r\n  // @Input() protected typeaheadSelectOnBlur:boolean;\r\n  /**  if false don't focus the input element the typeahead directive is associated with on selection */\r\n    // @Input() protected typeaheadFocusOnSelect:boolean;\r\n\r\n  _container: TypeaheadContainerComponent;\r\n  isTypeaheadOptionsListActive = false;\r\n\r\n  protected keyUpEventEmitter: EventEmitter<any> = new EventEmitter();\r\n  protected _matches: TypeaheadMatch[];\r\n  protected placement = 'bottom-left';\r\n  // protected popup:ComponentRef<TypeaheadContainerComponent>;\r\n\r\n  private _typeahead: ComponentLoader<TypeaheadContainerComponent>;\r\n  private _subscriptions: Subscription[] = [];\r\n  private _outsideClickListener: Function;\r\n\r\n  constructor(private ngControl: NgControl,\r\n              private element: ElementRef,\r\n              viewContainerRef: ViewContainerRef,\r\n              private renderer: Renderer2,\r\n              cis: ComponentLoaderFactory,\r\n              private changeDetection: ChangeDetectorRef) {\r\n    this._typeahead = cis.createLoader<TypeaheadContainerComponent>(\r\n      element,\r\n      viewContainerRef,\r\n      renderer\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.typeaheadOptionsLimit = this.typeaheadOptionsLimit || 20;\r\n    this.typeaheadMinLength =\r\n      this.typeaheadMinLength === void 0 ? 1 : this.typeaheadMinLength;\r\n    this.typeaheadWaitMs = this.typeaheadWaitMs || 0;\r\n\r\n    // async should be false in case of array\r\n    if (\r\n      this.typeaheadAsync === undefined &&\r\n      !(this.typeahead instanceof Observable)\r\n    ) {\r\n      this.typeaheadAsync = false;\r\n    }\r\n\r\n    if (this.typeahead instanceof Observable) {\r\n      this.typeaheadAsync = true;\r\n    }\r\n\r\n    if (this.typeaheadAsync) {\r\n      this.asyncActions();\r\n    } else {\r\n      this.syncActions();\r\n    }\r\n  }\r\n\r\n  @HostListener('input', ['$event'])\r\n  onInput(e: any): void {\r\n    // For `<input>`s, use the `value` property. For others that don't have a\r\n    // `value` (such as `<span contenteditable=\"true\">`), use either\r\n    // `textContent` or `innerText` (depending on which one is supported, i.e.\r\n    // Firefox or IE).\r\n    const value =\r\n      e.target.value !== undefined\r\n        ? e.target.value\r\n        : e.target.textContent !== undefined\r\n        ? e.target.textContent\r\n        : e.target.innerText;\r\n    if (value != null && value.trim().length >= this.typeaheadMinLength) {\r\n      this.typeaheadLoading.emit(true);\r\n      this.keyUpEventEmitter.emit(e.target.value);\r\n    } else {\r\n      this.typeaheadLoading.emit(false);\r\n      this.typeaheadNoResults.emit(false);\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  @HostListener('keyup', ['$event'])\r\n  onChange(e: any): void {\r\n    if (this._container) {\r\n      // esc\r\n      if (e.keyCode === 27) {\r\n        this.hide();\r\n\r\n        return;\r\n      }\r\n\r\n      // up\r\n      if (e.keyCode === 38) {\r\n        this._container.prevActiveMatch();\r\n\r\n        return;\r\n      }\r\n\r\n      // down\r\n      if (e.keyCode === 40) {\r\n        this._container.nextActiveMatch();\r\n\r\n        return;\r\n      }\r\n\r\n      // enter, tab\r\n      if (e.keyCode === 13) {\r\n        this._container.selectActiveMatch();\r\n\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  @HostListener('click')\r\n  @HostListener('focus')\r\n  onFocus(): void {\r\n    if (this.typeaheadMinLength === 0) {\r\n      this.typeaheadLoading.emit(true);\r\n      this.keyUpEventEmitter.emit(this.element.nativeElement.value || '');\r\n    }\r\n  }\r\n\r\n  @HostListener('blur')\r\n  onBlur(): void {\r\n    if (this._container && !this._container.isFocused) {\r\n      this.typeaheadOnBlur.emit(this._container.active);\r\n    }\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  onKeydown(e: any): void {\r\n    // no container - no problems\r\n    if (!this._container) {\r\n      return;\r\n    }\r\n\r\n    // if an item is visible - prevent form submission\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n\r\n      return;\r\n    }\r\n\r\n    // if an item is visible - don't change focus\r\n    if (e.keyCode === 9) {\r\n      e.preventDefault();\r\n      this._container.selectActiveMatch();\r\n\r\n      return;\r\n    }\r\n  }\r\n\r\n  changeModel(match: TypeaheadMatch): void {\r\n    const valueStr: string = match.value;\r\n    this.ngControl.viewToModelUpdate(valueStr);\r\n    (this.ngControl.control).setValue(valueStr);\r\n    this.changeDetection.markForCheck();\r\n    this.hide();\r\n  }\r\n\r\n  get matches(): any[] {\r\n    return this._matches;\r\n  }\r\n\r\n  show(): void {\r\n    this._typeahead\r\n      .attach(TypeaheadContainerComponent)\r\n      // todo: add append to body, after updating positioning service\r\n      .to(this.container)\r\n      .position({attachment: `${this.dropup ? 'top' : 'bottom'} left`})\r\n      .show({\r\n        typeaheadRef: this,\r\n        placement: this.placement,\r\n        animation: false,\r\n        dropup: this.dropup\r\n      });\r\n\r\n    this._outsideClickListener = this.renderer.listen('document', 'click', (e: MouseEvent) => {\r\n      if (this.typeaheadMinLength === 0 && this.element.nativeElement.contains(e.target)) {\r\n        return;\r\n      }\r\n      this.onOutsideClick();\r\n    });\r\n\r\n    this._container = this._typeahead.instance;\r\n    this._container.parent = this;\r\n    // This improves the speed as it won't have to be done for each list item\r\n    const normalizedQuery = (this.typeaheadLatinize\r\n      ? latinize(this.ngControl.control.value)\r\n      : this.ngControl.control.value)\r\n      .toString()\r\n      .toLowerCase();\r\n    this._container.query = this.typeaheadSingleWords\r\n      ? tokenize(\r\n        normalizedQuery,\r\n        this.typeaheadWordDelimiters,\r\n        this.typeaheadPhraseDelimiters\r\n      )\r\n      : normalizedQuery;\r\n    this._container.matches = this._matches;\r\n    this.element.nativeElement.focus();\r\n  }\r\n\r\n  hide(): void {\r\n    if (this._typeahead.isShown) {\r\n      this._typeahead.hide();\r\n      this._outsideClickListener();\r\n      this._container = null;\r\n    }\r\n  }\r\n\r\n  onOutsideClick(): void {\r\n    if (this._container && !this._container.isFocused) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): any {\r\n    // clean up subscriptions\r\n    for (const sub of this._subscriptions) {\r\n      sub.unsubscribe();\r\n    }\r\n    this._typeahead.dispose();\r\n  }\r\n\r\n  protected asyncActions(): void {\r\n    this._subscriptions.push(\r\n      this.keyUpEventEmitter\r\n        .pipe(\r\n          debounceTime(this.typeaheadWaitMs),\r\n          switchMap(() => this.typeahead)\r\n        )\r\n        .subscribe((matches: any[]) => {\r\n          this.finalizeAsyncCall(matches);\r\n        })\r\n    );\r\n  }\r\n\r\n  protected syncActions(): void {\r\n    this._subscriptions.push(\r\n      this.keyUpEventEmitter\r\n        .pipe(\r\n          debounceTime(this.typeaheadWaitMs),\r\n          mergeMap((value: string) => {\r\n            const normalizedQuery = this.normalizeQuery(value);\r\n\r\n            return from(this.typeahead)\r\n              .pipe(\r\n                filter((option: any) => {\r\n                  return (\r\n                    option &&\r\n                    this.testMatch(this.normalizeOption(option), normalizedQuery)\r\n                  );\r\n                }),\r\n                toArray()\r\n              );\r\n          })\r\n        )\r\n        .subscribe((matches: any[]) => {\r\n          this.finalizeAsyncCall(matches);\r\n        })\r\n    );\r\n  }\r\n\r\n  protected normalizeOption(option: any): any {\r\n    const optionValue: string = getValueFromObject(\r\n      option,\r\n      this.typeaheadOptionField\r\n    );\r\n    const normalizedOption = this.typeaheadLatinize\r\n      ? latinize(optionValue)\r\n      : optionValue;\r\n\r\n    return normalizedOption.toLowerCase();\r\n  }\r\n\r\n  protected normalizeQuery(value: string): any {\r\n    // If singleWords, break model here to not be doing extra work on each\r\n    // iteration\r\n    let normalizedQuery: any = (this.typeaheadLatinize\r\n      ? latinize(value)\r\n      : value)\r\n      .toString()\r\n      .toLowerCase();\r\n    normalizedQuery = this.typeaheadSingleWords\r\n      ? tokenize(\r\n        normalizedQuery,\r\n        this.typeaheadWordDelimiters,\r\n        this.typeaheadPhraseDelimiters\r\n      )\r\n      : normalizedQuery;\r\n\r\n    return normalizedQuery;\r\n  }\r\n\r\n  protected testMatch(match: string, test: any): boolean {\r\n    let spaceLength: number;\r\n\r\n    if (typeof test === 'object') {\r\n      spaceLength = test.length;\r\n      for (let i = 0; i < spaceLength; i += 1) {\r\n        if (test[i].length > 0 && match.indexOf(test[i]) < 0) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    return match.indexOf(test) >= 0;\r\n  }\r\n\r\n  protected finalizeAsyncCall(matches: any[]): void {\r\n    this.prepareMatches(matches);\r\n\r\n    this.typeaheadLoading.emit(false);\r\n    this.typeaheadNoResults.emit(!this.hasMatches());\r\n\r\n    if (!this.hasMatches()) {\r\n      this.hide();\r\n\r\n      return;\r\n    }\r\n\r\n    if (this._container) {\r\n      // This improves the speed as it won't have to be done for each list item\r\n      const normalizedQuery = (this.typeaheadLatinize\r\n        ? latinize(this.ngControl.control.value)\r\n        : this.ngControl.control.value)\r\n        .toString()\r\n        .toLowerCase();\r\n      this._container.query = this.typeaheadSingleWords\r\n        ? tokenize(\r\n          normalizedQuery,\r\n          this.typeaheadWordDelimiters,\r\n          this.typeaheadPhraseDelimiters\r\n        )\r\n        : normalizedQuery;\r\n      this._container.matches = this._matches;\r\n    } else {\r\n      this.show();\r\n    }\r\n  }\r\n\r\n  protected prepareMatches(options: any[]): void {\r\n    const limited: any[] = options.slice(0, this.typeaheadOptionsLimit);\r\n\r\n    if (this.typeaheadGroupField) {\r\n      let matches: TypeaheadMatch[] = [];\r\n\r\n      // extract all group names\r\n      const groups = limited\r\n        .map((option: any) =>\r\n          getValueFromObject(option, this.typeaheadGroupField)\r\n        )\r\n        .filter((v: string, i: number, a: any[]) => a.indexOf(v) === i);\r\n\r\n      groups.forEach((group: string) => {\r\n        // add group header to array of matches\r\n        matches.push(new TypeaheadMatch(group, group, true));\r\n\r\n        // add each item of group to array of matches\r\n        matches = matches.concat(\r\n          limited\r\n            .filter(\r\n              (option: any) =>\r\n                getValueFromObject(option, this.typeaheadGroupField) === group\r\n            )\r\n            .map(\r\n              (option: any) =>\r\n                new TypeaheadMatch(\r\n                  option,\r\n                  getValueFromObject(option, this.typeaheadOptionField)\r\n                )\r\n            )\r\n        );\r\n      });\r\n\r\n      this._matches = matches;\r\n    } else {\r\n      this._matches = limited.map(\r\n        (option: any) =>\r\n          new TypeaheadMatch(\r\n            option,\r\n            getValueFromObject(option, this.typeaheadOptionField)\r\n          )\r\n      );\r\n    }\r\n  }\r\n\r\n  protected hasMatches(): boolean {\r\n    return this._matches.length > 0;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { TypeaheadContainerComponent } from './typeahead-container.component';\r\nimport { TypeaheadDirective } from './typeahead.directive';\r\nimport { ComponentLoaderFactory } from '../component-loader/index';\r\nimport { PositioningService } from '../positioning/index';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [TypeaheadContainerComponent, TypeaheadDirective],\r\n  exports: [TypeaheadContainerComponent, TypeaheadDirective],\r\n  entryComponents: [TypeaheadContainerComponent]\r\n})\r\nexport class TypeaheadModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: TypeaheadModule,\r\n      providers: [ComponentLoaderFactory, PositioningService]\r\n    };\r\n  }\r\n}\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n\r\n//! moment.js locale configuration\r\n//! locale : Arabic [ar]\r\n//! author : Abdel Said: https://github.com/abdelsaid\r\n//! author : Ahmed Elkhatib\r\n//! author : forabi https://github.com/forabi\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\nconst symbolMap: {[key: string]: string} = {\r\n  1: '١',\r\n  2: '٢',\r\n  3: '٣',\r\n  4: '٤',\r\n  5: '٥',\r\n  6: '٦',\r\n  7: '٧',\r\n  8: '٨',\r\n  9: '٩',\r\n  0: '٠'\r\n};\r\nconst numberMap: {[key: string]: string} = {\r\n  '١': '1',\r\n  '٢': '2',\r\n  '٣': '3',\r\n  '٤': '4',\r\n  '٥': '5',\r\n  '٦': '6',\r\n  '٧': '7',\r\n  '٨': '8',\r\n  '٩': '9',\r\n  '٠': '0'\r\n};\r\nconst pluralForm = function (num: number): number {\r\n  return num === 0 ? 0 : num === 1 ? 1 : num === 2 ? 2 : num % 100 >= 3 && num % 100 <= 10 ? 3 : num % 100 >= 11 ? 4 : 5;\r\n};\r\nconst plurals: {[key: string]: [string, string, [string, string], string, string, string]} = {\r\n  s: ['أقل من ثانية', 'ثانية واحدة', ['ثانيتان', 'ثانيتين'], '%d ثوان', '%d ثانية', '%d ثانية'],\r\n  m: ['أقل من دقيقة', 'دقيقة واحدة', ['دقيقتان', 'دقيقتين'], '%d دقائق', '%d دقيقة', '%d دقيقة'],\r\n  h: ['أقل من ساعة', 'ساعة واحدة', ['ساعتان', 'ساعتين'], '%d ساعات', '%d ساعة', '%d ساعة'],\r\n  d: ['أقل من يوم', 'يوم واحد', ['يومان', 'يومين'], '%d أيام', '%d يومًا', '%d يوم'],\r\n  M: ['أقل من شهر', 'شهر واحد', ['شهران', 'شهرين'], '%d أشهر', '%d شهرا', '%d شهر'],\r\n  y: ['أقل من عام', 'عام واحد', ['عامان', 'عامين'], '%d أعوام', '%d عامًا', '%d عام']\r\n};\r\nconst pluralize = function (u: string) {\r\n  return function (num: number, withoutSuffix: boolean): string {\r\n    const f = pluralForm(num);\r\n    let str = plurals[u][pluralForm(num)];\r\n    if (f === 2) {\r\n      str = str[withoutSuffix ? 0 : 1];\r\n    }\r\n\r\n    return (str as string).replace(/%d/i, num.toString());\r\n  };\r\n};\r\nconst months: string[] = [\r\n  'يناير',\r\n  'فبراير',\r\n  'مارس',\r\n  'أبريل',\r\n  'مايو',\r\n  'يونيو',\r\n  'يوليو',\r\n  'أغسطس',\r\n  'سبتمبر',\r\n  'أكتوبر',\r\n  'نوفمبر',\r\n  'ديسمبر'\r\n];\r\n\r\nexport const arLocale: LocaleData = {\r\n  abbr: 'ar',\r\n  months,\r\n  monthsShort: months,\r\n  weekdays: 'الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت'.split('_'),\r\n  weekdaysShort: 'أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت'.split('_'),\r\n  weekdaysMin: 'ح_ن_ث_ر_خ_ج_س'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'D/\\u200FM/\\u200FYYYY',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY HH:mm',\r\n    LLLL: 'dddd D MMMM YYYY HH:mm'\r\n  },\r\n  meridiemParse: /ص|م/,\r\n  isPM(input) {\r\n    return 'م' === input;\r\n  },\r\n  meridiem(hour, minute, isLower) {\r\n    if (hour < 12) {\r\n      return 'ص';\r\n    } else {\r\n      return 'م';\r\n    }\r\n  },\r\n  calendar: {\r\n    sameDay: '[اليوم عند الساعة] LT',\r\n    nextDay: '[غدًا عند الساعة] LT',\r\n    nextWeek: 'dddd [عند الساعة] LT',\r\n    lastDay: '[أمس عند الساعة] LT',\r\n    lastWeek: 'dddd [عند الساعة] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'بعد %s',\r\n    past: 'منذ %s',\r\n    s: pluralize('s'),\r\n    ss: pluralize('s'),\r\n    m: pluralize('m'),\r\n    mm: pluralize('m'),\r\n    h: pluralize('h'),\r\n    hh: pluralize('h'),\r\n    d: pluralize('d'),\r\n    dd: pluralize('d'),\r\n    M: pluralize('M'),\r\n    MM: pluralize('M'),\r\n    y: pluralize('y'),\r\n    yy: pluralize('y')\r\n  },\r\n  preparse(str: string): string {\r\n    return str.replace(/[١٢٣٤٥٦٧٨٩٠]/g, function (match) {\r\n      return numberMap[match];\r\n    }).replace(/،/g, ',');\r\n  },\r\n  postformat(str: string) {\r\n    return str.replace(/\\d/g, function (match) {\r\n      return symbolMap[match];\r\n    }).replace(/,/g, '،');\r\n  },\r\n  week: {\r\n    dow: 6, // Saturday is the first day of the week.\r\n    doy: 12  // The week that contains Jan 1st is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getDayOfWeek } from '../units/day-of-week';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Czech [cs]\r\n//! author : petrbela : https://github.com/petrbela\r\n\r\nconst months: string[] = 'leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec'.split('_');\r\nconst monthsShort: string[] = 'led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro'.split('_');\r\n\r\nfunction plural(num: number): boolean {\r\n  return (num > 1) && (num < 5) && (~~(num / 10) !== 1);\r\n}\r\n\r\nfunction translate(num: number, withoutSuffix: boolean, key: string, isFuture: boolean): string {\r\n  const result = num + ' ';\r\n\r\n  switch (key) {\r\n    case 's':  // a few seconds / in a few seconds / a few seconds ago\r\n      return (withoutSuffix || isFuture) ? 'pár sekund' : 'pár sekundami';\r\n    case 'ss': // 9 seconds / in 9 seconds / 9 seconds ago\r\n      if (withoutSuffix || isFuture) {\r\n        return result + (plural(num) ? 'sekundy' : 'sekund');\r\n      } else {\r\n        return result + 'sekundami';\r\n      }\r\n    // break;\r\n    case 'm':  // a minute / in a minute / a minute ago\r\n      return withoutSuffix ? 'minuta' : (isFuture ? 'minutu' : 'minutou');\r\n    case 'mm': // 9 minutes / in 9 minutes / 9 minutes ago\r\n      if (withoutSuffix || isFuture) {\r\n        return result + (plural(num) ? 'minuty' : 'minut');\r\n      } else {\r\n        return result + 'minutami';\r\n      }\r\n    // break;\r\n    case 'h':  // an hour / in an hour / an hour ago\r\n      return withoutSuffix ? 'hodina' : (isFuture ? 'hodinu' : 'hodinou');\r\n    case 'hh': // 9 hours / in 9 hours / 9 hours ago\r\n      if (withoutSuffix || isFuture) {\r\n        return result + (plural(num) ? 'hodiny' : 'hodin');\r\n      } else {\r\n        return result + 'hodinami';\r\n      }\r\n    // break;\r\n    case 'd':  // a day / in a day / a day ago\r\n      return (withoutSuffix || isFuture) ? 'den' : 'dnem';\r\n    case 'dd': // 9 days / in 9 days / 9 days ago\r\n      if (withoutSuffix || isFuture) {\r\n        return result + (plural(num) ? 'dny' : 'dní');\r\n      } else {\r\n        return result + 'dny';\r\n      }\r\n    // break;\r\n    case 'M':  // a month / in a month / a month ago\r\n      return (withoutSuffix || isFuture) ? 'měsíc' : 'měsícem';\r\n    case 'MM': // 9 months / in 9 months / 9 months ago\r\n      if (withoutSuffix || isFuture) {\r\n        return result + (plural(num) ? 'měsíce' : 'měsíců');\r\n      } else {\r\n        return result + 'měsíci';\r\n      }\r\n    // break;\r\n    case 'y':  // a year / in a year / a year ago\r\n      return (withoutSuffix || isFuture) ? 'rok' : 'rokem';\r\n    case 'yy': // 9 years / in 9 years / 9 years ago\r\n      if (withoutSuffix || isFuture) {\r\n        return result + (plural(num) ? 'roky' : 'let');\r\n      } else {\r\n        return result + 'lety';\r\n      }\r\n    // break;\r\n  }\r\n}\r\n\r\nexport const csLocale: LocaleData = {\r\n  abbr: 'cs',\r\n  months,\r\n  monthsShort,\r\n  monthsParse: (function (months, monthsShort) {\r\n    let i, _monthsParse = [];\r\n    for (i = 0; i < 12; i++) {\r\n      // use custom parser to solve problem with July (červenec)\r\n      _monthsParse[i] = new RegExp('^' + months[i] + '$|^' + monthsShort[i] + '$', 'i');\r\n    }\r\n    return _monthsParse;\r\n  }(months, monthsShort)),\r\n  shortMonthsParse: (function (monthsShort) {\r\n    let i, _shortMonthsParse = [];\r\n    for (i = 0; i < 12; i++) {\r\n      _shortMonthsParse[i] = new RegExp('^' + monthsShort[i] + '$', 'i');\r\n    }\r\n    return _shortMonthsParse;\r\n  }(monthsShort)),\r\n  longMonthsParse: (function (months) {\r\n    let i, _longMonthsParse = [];\r\n    for (i = 0; i < 12; i++) {\r\n      _longMonthsParse[i] = new RegExp('^' + months[i] + '$', 'i');\r\n    }\r\n    return _longMonthsParse;\r\n  }(months)),\r\n  weekdays: 'neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota'.split('_'),\r\n  weekdaysShort: 'ne_po_út_st_čt_pá_so'.split('_'),\r\n  weekdaysMin: 'ne_po_út_st_čt_pá_so'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'H:mm',\r\n    LTS: 'H:mm:ss',\r\n    L: 'DD.MM.YYYY',\r\n    LL: 'D. MMMM YYYY',\r\n    LLL: 'D. MMMM YYYY H:mm',\r\n    LLLL: 'dddd D. MMMM YYYY H:mm',\r\n    l: 'D. M. YYYY'\r\n  },\r\n  calendar: {\r\n    sameDay: '[dnes v] LT',\r\n    nextDay: '[zítra v] LT',\r\n    nextWeek(date: Date): string {\r\n      switch (getDayOfWeek(date)) {\r\n        case 0:\r\n          return '[v neděli v] LT';\r\n        case 1:\r\n        case 2:\r\n          return '[v] dddd [v] LT';\r\n        case 3:\r\n          return '[ve středu v] LT';\r\n        case 4:\r\n          return '[ve čtvrtek v] LT';\r\n        case 5:\r\n          return '[v pátek v] LT';\r\n        case 6:\r\n          return '[v sobotu v] LT';\r\n      }\r\n    },\r\n    lastDay: '[včera v] LT',\r\n    lastWeek(date: Date): string {\r\n      switch (getDayOfWeek(date)) {\r\n        case 0:\r\n          return '[minulou neděli v] LT';\r\n        case 1:\r\n        case 2:\r\n          return '[minulé] dddd [v] LT';\r\n        case 3:\r\n          return '[minulou středu v] LT';\r\n        case 4:\r\n        case 5:\r\n          return '[minulý] dddd [v] LT';\r\n        case 6:\r\n          return '[minulou sobotu v] LT';\r\n      }\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'za %s',\r\n    past: 'před %s',\r\n    s: translate,\r\n    ss: translate,\r\n    m: translate,\r\n    mm: translate,\r\n    h: translate,\r\n    hh: translate,\r\n    d: translate,\r\n    dd: translate,\r\n    M: translate,\r\n    MM: translate,\r\n    y: translate,\r\n    yy: translate\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}\\./,\r\n  ordinal: '%d.',\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n\r\n","// tslint:disable:comment-format\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Danish (Denmark) [da]\r\n//! author : Per Hansen : https://github.com/perhp\r\n\r\nexport const daLocale: LocaleData = {\r\n  abbr: 'da',\r\n  months : 'Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December'.split('_'),\r\n  monthsShort : 'Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec'.split('_'),\r\n  weekdays : 'Søndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_Lørdag'.split('_'),\r\n  weekdaysShort : 'Søn_Man_Tir_Ons_Tor_Fre_Lør'.split('_'),\r\n  weekdaysMin : 'Sø_Ma_Ti_On_To_Fr_Lø'.split('_'),\r\n  longDateFormat : {\r\n      LT : 'HH:mm',\r\n      LTS : 'HH:mm:ss',\r\n      L : 'DD/MM/YYYY',\r\n      LL : 'D. MMMM YYYY',\r\n      LLL : 'D. MMMM YYYY HH:mm',\r\n      LLLL : 'dddd [d.] D. MMMM YYYY [kl.] HH:mm'\r\n  },\r\n  calendar : {\r\n      sameDay : '[i dag kl.] LT',\r\n      nextDay : '[i morgen kl.] LT',\r\n      nextWeek : 'på dddd [kl.] LT',\r\n      lastDay : '[i går kl.] LT',\r\n      lastWeek : '[i] dddd[s kl.] LT',\r\n      sameElse : 'L'\r\n  },\r\n  relativeTime : {\r\n      future : 'om %s',\r\n      past : '%s siden',\r\n      s : 'få sekunder',\r\n      m : 'et minut',\r\n      mm : '%d minutter',\r\n      h : 'en time',\r\n      hh : '%d timer',\r\n      d : 'en dag',\r\n      dd : '%d dage',\r\n      M : 'en måned',\r\n      MM : '%d måneder',\r\n      y : 'et år',\r\n      yy : '%d år'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}\\./,\r\n  ordinal : '%d.',\r\n  week : {\r\n      dow : 1, // Monday is the first day of the week.\r\n      doy : 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n// tslint:disable:object-literal-key-quotes\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : German [de]\r\n//! author : lluchs : https://github.com/lluchs\r\n//! author: Menelion Elensúle: https://github.com/Oire\r\n//! author : Mikolaj Dadela : https://github.com/mik01aj\r\n\r\nfunction processRelativeTime(num: number, withoutSuffix: boolean, key: string, isFuture: boolean): string {\r\n  const format: { [key: string]: [string, string] } = {\r\n    'm': ['eine Minute', 'einer Minute'],\r\n    'h': ['eine Stunde', 'einer Stunde'],\r\n    'd': ['ein Tag', 'einem Tag'],\r\n    'dd': [num + ' Tage', num + ' Tagen'],\r\n    'M': ['ein Monat', 'einem Monat'],\r\n    'MM': [num + ' Monate', num + ' Monaten'],\r\n    'y': ['ein Jahr', 'einem Jahr'],\r\n    'yy': [num + ' Jahre', num + ' Jahren']\r\n  };\r\n  return withoutSuffix ? format[key][0] : format[key][1];\r\n}\r\n\r\nexport const deLocale: LocaleData = {\r\n  abbr: 'de',\r\n  months: 'Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),\r\n  monthsShort: 'Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.'.split('_'),\r\n  monthsParseExact: true,\r\n  weekdays: 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),\r\n  weekdaysShort: 'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),\r\n  weekdaysMin: 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'DD.MM.YYYY',\r\n    LL: 'D. MMMM YYYY',\r\n    LLL: 'D. MMMM YYYY HH:mm',\r\n    LLLL: 'dddd, D. MMMM YYYY HH:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[heute um] LT [Uhr]',\r\n    sameElse: 'L',\r\n    nextDay: '[morgen um] LT [Uhr]',\r\n    nextWeek: 'dddd [um] LT [Uhr]',\r\n    lastDay: '[gestern um] LT [Uhr]',\r\n    lastWeek: '[letzten] dddd [um] LT [Uhr]'\r\n  },\r\n  relativeTime: {\r\n    future: 'in %s',\r\n    past: 'vor %s',\r\n    s: 'ein paar Sekunden',\r\n    ss: '%d Sekunden',\r\n    m: processRelativeTime,\r\n    mm: '%d Minuten',\r\n    h: processRelativeTime,\r\n    hh: '%d Stunden',\r\n    d: processRelativeTime,\r\n    dd: processRelativeTime,\r\n    M: processRelativeTime,\r\n    MM: processRelativeTime,\r\n    y: processRelativeTime,\r\n    yy: processRelativeTime\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}\\./,\r\n  ordinal: '%d.',\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : English (United Kingdom) [en-gb]\r\n//! author : Chris Gedrim : https://github.com/chrisgedrim\r\n\r\nexport const enGbLocale: LocaleData = {\r\n  abbr: 'en-gb',\r\n  months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\r\n  monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\r\n  weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\r\n  weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\r\n  weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\r\n  longDateFormat : {\r\n    LT : 'HH:mm',\r\n    LTS : 'HH:mm:ss',\r\n    L : 'DD/MM/YYYY',\r\n    LL : 'D MMMM YYYY',\r\n    LLL : 'D MMMM YYYY HH:mm',\r\n    LLLL : 'dddd, D MMMM YYYY HH:mm'\r\n  },\r\n  calendar : {\r\n    sameDay : '[Today at] LT',\r\n    nextDay : '[Tomorrow at] LT',\r\n    nextWeek : 'dddd [at] LT',\r\n    lastDay : '[Yesterday at] LT',\r\n    lastWeek : '[Last] dddd [at] LT',\r\n    sameElse : 'L'\r\n  },\r\n  relativeTime : {\r\n    future : 'in %s',\r\n    past : '%s ago',\r\n    s : 'a few seconds',\r\n    ss : '%d seconds',\r\n    m : 'a minute',\r\n    mm : '%d minutes',\r\n    h : 'an hour',\r\n    hh : '%d hours',\r\n    d : 'a day',\r\n    dd : '%d days',\r\n    M : 'a month',\r\n    MM : '%d months',\r\n    y : 'a year',\r\n    yy : '%d years'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}(st|nd|rd|th)/,\r\n  ordinal(_num: number): string {\r\n    const num = Number(_num);\r\n    const b = num % 10,\r\n      output = (~~(num % 100 / 10) === 1) ? 'th' :\r\n        (b === 1) ? 'st' :\r\n          (b === 2) ? 'nd' :\r\n            (b === 3) ? 'rd' : 'th';\r\n    return num + output;\r\n  },\r\n  week : {\r\n    dow : 1, // Monday is the first day of the week.\r\n    doy : 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getHours, getMonth } from '../utils/date-getters';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Spanish [es]\r\n//! author : Julio Napurí : https://github.com/julionc\r\n\r\nlet monthsShortDot = 'ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_'),\r\n  monthsShort = 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');\r\n\r\nlet monthsParse = [/^ene/i, /^feb/i, /^mar/i, /^abr/i, /^may/i, /^jun/i, /^jul/i, /^ago/i, /^sep/i, /^oct/i, /^nov/i, /^dic/i];\r\nlet monthsRegex = /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\\.?|feb\\.?|mar\\.?|abr\\.?|may\\.?|jun\\.?|jul\\.?|ago\\.?|sep\\.?|oct\\.?|nov\\.?|dic\\.?)/i;\r\n\r\nexport const esLocale: LocaleData = {\r\n  abbr: 'es',\r\n  months: 'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),\r\n  monthsShort(date: Date, format: string, isUTC?: boolean): string | string[] {\r\n    if (!date) {\r\n      return monthsShortDot;\r\n    }\r\n\r\n    if (/-MMM-/.test(format)) {\r\n      return monthsShort[getMonth(date, isUTC)];\r\n    }\r\n\r\n    return monthsShortDot[getMonth(date, isUTC)];\r\n  },\r\n  monthsRegex,\r\n  monthsShortRegex: monthsRegex,\r\n  monthsStrictRegex: /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,\r\n  monthsShortStrictRegex: /^(ene\\.?|feb\\.?|mar\\.?|abr\\.?|may\\.?|jun\\.?|jul\\.?|ago\\.?|sep\\.?|oct\\.?|nov\\.?|dic\\.?)/i,\r\n  monthsParse,\r\n  longMonthsParse: monthsParse,\r\n  shortMonthsParse: monthsParse,\r\n  weekdays: 'domingo_lunes_martes_miércoles_jueves_viernes_sábado'.split('_'),\r\n  weekdaysShort: 'dom._lun._mar._mié._jue._vie._sáb.'.split('_'),\r\n  weekdaysMin: 'do_lu_ma_mi_ju_vi_sá'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'H:mm',\r\n    LTS: 'H:mm:ss',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D [de] MMMM [de] YYYY',\r\n    LLL: 'D [de] MMMM [de] YYYY H:mm',\r\n    LLLL: 'dddd, D [de] MMMM [de] YYYY H:mm'\r\n  },\r\n  calendar: {\r\n    sameDay(date: Date) {\r\n      return '[hoy a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    nextDay(date: Date) {\r\n      return '[mañana a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    nextWeek(date: Date) {\r\n      return 'dddd [a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    lastDay(date: Date) {\r\n      return '[ayer a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    lastWeek(date: Date) {\r\n      return '[el] dddd [pasado a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'en %s',\r\n    past: 'hace %s',\r\n    s: 'unos segundos',\r\n    ss: '%d segundos',\r\n    m: 'un minuto',\r\n    mm: '%d minutos',\r\n    h: 'una hora',\r\n    hh: '%d horas',\r\n    d: 'un día',\r\n    dd: '%d días',\r\n    M: 'un mes',\r\n    MM: '%d meses',\r\n    y: 'un año',\r\n    yy: '%d años'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}º/,\r\n  ordinal: '%dº',\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getHours, getMonth } from '../utils/date-getters';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Spanish (Dominican Republic) [es-do]\r\n\r\nlet monthsShortDot = 'ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_'),\r\n  monthsShort = 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');\r\n\r\nlet monthsParse = [/^ene/i, /^feb/i, /^mar/i, /^abr/i, /^may/i, /^jun/i, /^jul/i, /^ago/i, /^sep/i, /^oct/i, /^nov/i, /^dic/i];\r\nlet monthsRegex = /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\\.?|feb\\.?|mar\\.?|abr\\.?|may\\.?|jun\\.?|jul\\.?|ago\\.?|sep\\.?|oct\\.?|nov\\.?|dic\\.?)/i;\r\n\r\nexport const esDoLocale: LocaleData = {\r\n  abbr: 'es-do',\r\n  months: 'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),\r\n  monthsShort(date: Date, format: string, isUTC?: boolean): string | string[] {\r\n    if (!date) {\r\n      return monthsShortDot;\r\n    } else if (/-MMM-/.test(format)) {\r\n      return monthsShort[getMonth(date, isUTC)];\r\n    } else {\r\n      return monthsShortDot[getMonth(date, isUTC)];\r\n    }\r\n  },\r\n  monthsRegex,\r\n  monthsShortRegex: monthsRegex,\r\n  monthsStrictRegex: /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,\r\n  monthsShortStrictRegex: /^(ene\\.?|feb\\.?|mar\\.?|abr\\.?|may\\.?|jun\\.?|jul\\.?|ago\\.?|sep\\.?|oct\\.?|nov\\.?|dic\\.?)/i,\r\n  monthsParse,\r\n  longMonthsParse: monthsParse,\r\n  shortMonthsParse: monthsParse,\r\n  weekdays: 'domingo_lunes_martes_miércoles_jueves_viernes_sábado'.split('_'),\r\n  weekdaysShort: 'dom._lun._mar._mié._jue._vie._sáb.'.split('_'),\r\n  weekdaysMin: 'do_lu_ma_mi_ju_vi_sá'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'h:mm A',\r\n    LTS: 'h:mm:ss A',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D [de] MMMM [de] YYYY',\r\n    LLL: 'D [de] MMMM [de] YYYY h:mm A',\r\n    LLLL: 'dddd, D [de] MMMM [de] YYYY h:mm A'\r\n  },\r\n  calendar: {\r\n    sameDay(date: Date): string {\r\n      return '[hoy a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    nextDay(date: Date): string {\r\n      return '[mañana a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    nextWeek(date: Date): string {\r\n      return 'dddd [a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    lastDay(date: Date): string {\r\n      return '[ayer a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    lastWeek(date: Date): string {\r\n      return '[el] dddd [pasado a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'en %s',\r\n    past: 'hace %s',\r\n    s: 'unos segundos',\r\n    ss: '%d segundos',\r\n    m: 'un minuto',\r\n    mm: '%d minutos',\r\n    h: 'una hora',\r\n    hh: '%d horas',\r\n    d: 'un día',\r\n    dd: '%d días',\r\n    M: 'un mes',\r\n    MM: '%d meses',\r\n    y: 'un año',\r\n    yy: '%d años'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}º/,\r\n  ordinal: '%dº',\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getHours, getMonth } from '../utils/date-getters';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Spanish (United States) [es-us]\r\n//! author : bustta : https://github.com/bustta\r\n\r\nlet monthsShortDot = 'ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_');\r\nlet monthsShort = 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');\r\n\r\nexport const esUsLocale: LocaleData = {\r\n  abbr: 'es-us',\r\n  months: 'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),\r\n  monthsShort(date: Date, format: string, isUTC?: boolean): string | string[] {\r\n    if (!date) {\r\n      return monthsShortDot;\r\n    } else if (/-MMM-/.test(format)) {\r\n      return monthsShort[getMonth(date, isUTC)];\r\n    } else {\r\n      return monthsShortDot[getMonth(date, isUTC)];\r\n    }\r\n  },\r\n  monthsParseExact: true,\r\n  weekdays: 'domingo_lunes_martes_miércoles_jueves_viernes_sábado'.split('_'),\r\n  weekdaysShort: 'dom._lun._mar._mié._jue._vie._sáb.'.split('_'),\r\n  weekdaysMin: 'do_lu_ma_mi_ju_vi_sá'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'h:mm A',\r\n    LTS: 'h:mm:ss A',\r\n    L: 'MM/DD/YYYY',\r\n    LL: 'MMMM [de] D [de] YYYY',\r\n    LLL: 'MMMM [de] D [de] YYYY h:mm A',\r\n    LLLL: 'dddd, MMMM [de] D [de] YYYY h:mm A'\r\n  },\r\n  calendar: {\r\n    sameDay(date: Date): string {\r\n      return '[hoy a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    nextDay(date: Date): string {\r\n      return '[mañana a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    nextWeek(date: Date): string {\r\n      return 'dddd [a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    lastDay(date: Date): string {\r\n      return '[ayer a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    lastWeek(date: Date): string {\r\n      return '[el] dddd [pasado a la' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'en %s',\r\n    past: 'hace %s',\r\n    s: 'unos segundos',\r\n    ss: '%d segundos',\r\n    m: 'un minuto',\r\n    mm: '%d minutos',\r\n    h: 'una hora',\r\n    hh: '%d horas',\r\n    d: 'un día',\r\n    dd: '%d días',\r\n    M: 'un mes',\r\n    MM: '%d meses',\r\n    y: 'un año',\r\n    yy: '%d años'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}º/,\r\n  ordinal: '%dº',\r\n  week: {\r\n    dow: 0, // Sunday is the first day of the week.\r\n    doy: 6  // The week that contains Jan 1st is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n// https://github.com/moment/moment/blob/develop/locale/fi.js\r\n\r\nvar numbersPast = 'nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän'.split(' '),\r\n  numbersFuture = [\r\n    'nolla', 'yhden', 'kahden', 'kolmen', 'neljän', 'viiden', 'kuuden',\r\n    numbersPast[7], numbersPast[8], numbersPast[9]\r\n  ];\r\n\r\nfunction translate(num: number, withoutSuffix: boolean, key: string, isFuture: boolean): string {\r\n  var result = '';\r\n  switch (key) {\r\n    case 's':\r\n      return isFuture ? 'muutaman sekunnin' : 'muutama sekunti';\r\n    case 'ss':\r\n      return isFuture ? 'sekunnin' : 'sekuntia';\r\n    case 'm':\r\n      return isFuture ? 'minuutin' : 'minuutti';\r\n    case 'mm':\r\n      result = isFuture ? 'minuutin' : 'minuuttia';\r\n      break;\r\n    case 'h':\r\n      return isFuture ? 'tunnin' : 'tunti';\r\n    case 'hh':\r\n      result = isFuture ? 'tunnin' : 'tuntia';\r\n      break;\r\n    case 'd':\r\n      return isFuture ? 'päivän' : 'päivä';\r\n    case 'dd':\r\n      result = isFuture ? 'päivän' : 'päivää';\r\n      break;\r\n    case 'M':\r\n      return isFuture ? 'kuukauden' : 'kuukausi';\r\n    case 'MM':\r\n      result = isFuture ? 'kuukauden' : 'kuukautta';\r\n      break;\r\n    case 'y':\r\n      return isFuture ? 'vuoden' : 'vuosi';\r\n    case 'yy':\r\n      result = isFuture ? 'vuoden' : 'vuotta';\r\n      break;\r\n  }\r\n  result = verbalNumber(num, isFuture) + ' ' + result;\r\n  return result;\r\n}\r\n\r\nfunction verbalNumber(num: number, isFuture: boolean) {\r\n  return num < 10 ? (isFuture ? numbersFuture[num] : numbersPast[num]) : num;\r\n}\r\n\r\nexport const fiLocale: LocaleData = {\r\n  abbr: 'fi',\r\n  months: 'tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu'.split('_'),\r\n  monthsShort: 'tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu'.split('_'),\r\n  weekdays: 'sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai'.split('_'),\r\n  weekdaysShort: 'su_ma_ti_ke_to_pe_la'.split('_'),\r\n  weekdaysMin: 'su_ma_ti_ke_to_pe_la'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'HH.mm',\r\n    LTS: 'HH.mm.ss',\r\n    L: 'DD.MM.YYYY',\r\n    LL: 'Do MMMM[ta] YYYY',\r\n    LLL: 'Do MMMM[ta] YYYY, [klo] HH.mm',\r\n    LLLL: 'dddd, Do MMMM[ta] YYYY, [klo] HH.mm',\r\n    l: 'D.M.YYYY',\r\n    ll: 'Do MMM YYYY',\r\n    lll: 'Do MMM YYYY, [klo] HH.mm',\r\n    llll: 'ddd, Do MMM YYYY, [klo] HH.mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[tänään] [klo] LT',\r\n    nextDay: '[huomenna] [klo] LT',\r\n    nextWeek: 'dddd [klo] LT',\r\n    lastDay: '[eilen] [klo] LT',\r\n    lastWeek: '[viime] dddd[na] [klo] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: '%s päästä',\r\n    past: '%s sitten',\r\n    s: translate,\r\n    ss: translate,\r\n    m: translate,\r\n    mm: translate,\r\n    h: translate,\r\n    hh: translate,\r\n    d: translate,\r\n    dd: translate,\r\n    M: translate,\r\n    MM: translate,\r\n    y: translate,\r\n    yy: translate\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}\\./,\r\n  ordinal: '%d.',\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : French [fr]\r\n//! author : John Fischer : https://github.com/jfroffice\r\n\r\nexport const frLocale: LocaleData = {\r\n  abbr: 'fr',\r\n  months: 'janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre'.split('_'),\r\n  monthsShort: 'janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.'.split('_'),\r\n  monthsParseExact: true,\r\n  weekdays: 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),\r\n  weekdaysShort: 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),\r\n  weekdaysMin: 'di_lu_ma_me_je_ve_sa'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY HH:mm',\r\n    LLLL: 'dddd D MMMM YYYY HH:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[Aujourd’hui à] LT',\r\n    nextDay: '[Demain à] LT',\r\n    nextWeek: 'dddd [à] LT',\r\n    lastDay: '[Hier à] LT',\r\n    lastWeek: 'dddd [dernier à] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'dans %s',\r\n    past: 'il y a %s',\r\n    s: 'quelques secondes',\r\n    ss: '%d secondes',\r\n    m: 'une minute',\r\n    mm: '%d minutes',\r\n    h: 'une heure',\r\n    hh: '%d heures',\r\n    d: 'un jour',\r\n    dd: '%d jours',\r\n    M: 'un mois',\r\n    MM: '%d mois',\r\n    y: 'un an',\r\n    yy: '%d ans'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}(er|)/,\r\n  ordinal(_num: number, period: string): string {\r\n    const num = Number(_num);\r\n    switch (period) {\r\n      // TODO: Return 'e' when day of month > 1. Move this case inside\r\n      // block for masculine words below.\r\n      // See https://github.com/moment/moment/issues/3375\r\n      case 'D':\r\n        return num + (num === 1 ? 'er' : '');\r\n\r\n      // Words with masculine grammatical gender: mois, trimestre, jour\r\n      default:\r\n      case 'M':\r\n      case 'Q':\r\n      case 'DDD':\r\n      case 'd':\r\n        return num + (num === 1 ? 'er' : 'e');\r\n\r\n      // Words with feminine grammatical gender: semaine\r\n      case 'w':\r\n      case 'W':\r\n        return num + (num === 1 ? 're' : 'e');\r\n    }\r\n  },\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n// tslint:disable:no-parameter-reassignment prefer-switch\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Hindi [hi]\r\n//! author : Mayank Singhal : https://github.com/mayanksinghal\r\n\r\nlet symbolMap: {[key: string]: string} = {\r\n    1: '१',\r\n    2: '२',\r\n    3: '३',\r\n    4: '४',\r\n    5: '५',\r\n    6: '६',\r\n    7: '७',\r\n    8: '८',\r\n    9: '९',\r\n    0: '०'\r\n  },\r\n  numberMap: {[key: string]: string} = {\r\n    '१': '1',\r\n    '२': '2',\r\n    '३': '3',\r\n    '४': '4',\r\n    '५': '5',\r\n    '६': '6',\r\n    '७': '7',\r\n    '८': '8',\r\n    '९': '9',\r\n    '०': '0'\r\n  };\r\n\r\nexport const hiLocale: LocaleData = {\r\n  abbr: 'hi',\r\n  months: 'जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर'.split('_'),\r\n  monthsShort: 'जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.'.split('_'),\r\n  monthsParseExact: true,\r\n  weekdays: 'रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार'.split('_'),\r\n  weekdaysShort: 'रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि'.split('_'),\r\n  weekdaysMin: 'र_सो_मं_बु_गु_शु_श'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'A h:mm बजे',\r\n    LTS: 'A h:mm:ss बजे',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY, A h:mm बजे',\r\n    LLLL: 'dddd, D MMMM YYYY, A h:mm बजे'\r\n  },\r\n  calendar: {\r\n    sameDay: '[आज] LT',\r\n    nextDay: '[कल] LT',\r\n    nextWeek: 'dddd, LT',\r\n    lastDay: '[कल] LT',\r\n    lastWeek: '[पिछले] dddd, LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: '%s में',\r\n    past: '%s पहले',\r\n    s: 'कुछ ही क्षण',\r\n    ss: '%d सेकंड',\r\n    m: 'एक मिनट',\r\n    mm: '%d मिनट',\r\n    h: 'एक घंटा',\r\n    hh: '%d घंटे',\r\n    d: 'एक दिन',\r\n    dd: '%d दिन',\r\n    M: 'एक महीने',\r\n    MM: '%d महीने',\r\n    y: 'एक वर्ष',\r\n    yy: '%d वर्ष'\r\n  },\r\n  preparse(str: string): string {\r\n    return str.replace(/[१२३४५६७८९०]/g, function (match) {\r\n      return numberMap[match];\r\n    });\r\n  },\r\n  postformat(str: string): string {\r\n    return str.replace(/\\d/g, function (match) {\r\n      return symbolMap[match];\r\n    });\r\n  },\r\n  // Hindi notation for meridiems are quite fuzzy in practice. While there exists\r\n  // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.\r\n  meridiemParse: /रात|सुबह|दोपहर|शाम/,\r\n  meridiemHour(hour, meridiem) {\r\n    if (hour === 12) {\r\n      hour = 0;\r\n    }\r\n    if (meridiem === 'रात') {\r\n      return hour < 4 ? hour : hour + 12;\r\n    } else if (meridiem === 'सुबह') {\r\n      return hour;\r\n    } else if (meridiem === 'दोपहर') {\r\n      return hour >= 10 ? hour : hour + 12;\r\n    } else if (meridiem === 'शाम') {\r\n      return hour + 12;\r\n    }\r\n  },\r\n  meridiem(hour, minute, isLower) {\r\n    if (hour < 4) {\r\n      return 'रात';\r\n    } else if (hour < 10) {\r\n      return 'सुबह';\r\n    } else if (hour < 17) {\r\n      return 'दोपहर';\r\n    } else if (hour < 20) {\r\n      return 'शाम';\r\n    } else {\r\n      return 'रात';\r\n    }\r\n  },\r\n  week: {\r\n    dow: 0, // Sunday is the first day of the week.\r\n    doy: 6  // The week that contains Jan 1st is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getDayOfWeek } from '../units/day-of-week';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Hungarian [hu]\r\n//! author : Adam Brunner : https://github.com/adambrunner\r\n\r\nlet weekEndings = 'vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton'.split(' ');\r\nfunction translate(num: number, withoutSuffix: boolean, key: string, isFuture: boolean): string {\r\n  switch (key) {\r\n    case 's':\r\n      return (isFuture || withoutSuffix) ? 'néhány másodperc' : 'néhány másodperce';\r\n    case 'ss':\r\n      return num + ((isFuture || withoutSuffix) ? ' másodperc' : ' másodperce');\r\n    case 'm':\r\n      return 'egy' + (isFuture || withoutSuffix ? ' perc' : ' perce');\r\n    case 'mm':\r\n      return num + (isFuture || withoutSuffix ? ' perc' : ' perce');\r\n    case 'h':\r\n      return 'egy' + (isFuture || withoutSuffix ? ' óra' : ' órája');\r\n    case 'hh':\r\n      return num + (isFuture || withoutSuffix ? ' óra' : ' órája');\r\n    case 'd':\r\n      return 'egy' + (isFuture || withoutSuffix ? ' nap' : ' napja');\r\n    case 'dd':\r\n      return num + (isFuture || withoutSuffix ? ' nap' : ' napja');\r\n    case 'M':\r\n      return 'egy' + (isFuture || withoutSuffix ? ' hónap' : ' hónapja');\r\n    case 'MM':\r\n      return num + (isFuture || withoutSuffix ? ' hónap' : ' hónapja');\r\n    case 'y':\r\n      return 'egy' + (isFuture || withoutSuffix ? ' év' : ' éve');\r\n    case 'yy':\r\n      return num + (isFuture || withoutSuffix ? ' év' : ' éve');\r\n  }\r\n  return '';\r\n}\r\nfunction week(date: Date, isFuture: boolean) {\r\n  return (isFuture ? '' : '[múlt] ') + '[' + weekEndings[getDayOfWeek(date)] + '] LT[-kor]';\r\n}\r\n\r\nexport const huLocale: LocaleData = {\r\n  abbr: 'hu',\r\n  months : 'január_február_március_április_május_június_július_augusztus_szeptember_október_november_december'.split('_'),\r\n  monthsShort : 'jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec'.split('_'),\r\n  weekdays : 'vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat'.split('_'),\r\n  weekdaysShort : 'vas_hét_kedd_sze_csüt_pén_szo'.split('_'),\r\n  weekdaysMin : 'v_h_k_sze_cs_p_szo'.split('_'),\r\n  longDateFormat : {\r\n    LT : 'H:mm',\r\n    LTS : 'H:mm:ss',\r\n    L : 'YYYY.MM.DD.',\r\n    LL : 'YYYY. MMMM D.',\r\n    LLL : 'YYYY. MMMM D. H:mm',\r\n    LLLL : 'YYYY. MMMM D., dddd H:mm'\r\n  },\r\n  meridiemParse: /de|du/i,\r\n  isPM (input) {\r\n    return input.charAt(1).toLowerCase() === 'u';\r\n  },\r\n  meridiem (hours, minutes, isLower) {\r\n    if (hours < 12) {\r\n      return isLower === true ? 'de' : 'DE';\r\n    } else {\r\n      return isLower === true ? 'du' : 'DU';\r\n    }\r\n  },\r\n  calendar : {\r\n    sameDay : '[ma] LT[-kor]',\r\n    nextDay : '[holnap] LT[-kor]',\r\n    nextWeek (date: Date) {\r\n      return week(date, true);\r\n    },\r\n    lastDay : '[tegnap] LT[-kor]',\r\n    lastWeek (date: Date) {\r\n      return week(date, false);\r\n    },\r\n    sameElse : 'L'\r\n  },\r\n  relativeTime : {\r\n    future : '%s múlva',\r\n    past : '%s',\r\n    s : translate,\r\n    ss : translate,\r\n    m : translate,\r\n    mm : translate,\r\n    h : translate,\r\n    hh : translate,\r\n    d : translate,\r\n    dd : translate,\r\n    M : translate,\r\n    MM : translate,\r\n    y : translate,\r\n    yy : translate\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}\\./,\r\n  ordinal : '%d.',\r\n  week : {\r\n    dow : 1, // Monday is the first day of the week.\r\n    doy : 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n// tslint:disable:no-parameter-reassignment prefer-switch\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Indonesia [id]\r\n//! author : Romy Kusuma : https://github.com/rkusuma\r\n//! reference: https://github.com/moment/moment/blob/develop/locale/id.js\r\n\r\nexport const idLocale: LocaleData = {\r\n  abbr: 'id',\r\n  months : 'Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember'.split('_'),\r\n  monthsShort : 'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des'.split('_'),\r\n  weekdays : 'Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu'.split('_'),\r\n  weekdaysShort : 'Min_Sen_Sel_Rab_Kam_Jum_Sab'.split('_'),\r\n  weekdaysMin : 'Mg_Sn_Sl_Rb_Km_Jm_Sb'.split('_'),\r\n  longDateFormat : {\r\n    LT : 'HH.mm',\r\n    LTS : 'HH.mm.ss',\r\n    L : 'DD/MM/YYYY',\r\n    LL : 'D MMMM YYYY',\r\n    LLL : 'D MMMM YYYY [pukul] HH.mm',\r\n    LLLL : 'dddd, D MMMM YYYY [pukul] HH.mm'\r\n  },\r\n  meridiemParse: /pagi|siang|sore|malam/,\r\n  meridiemHour(hour, meridiem) {\r\n    if (hour === 12) {\r\n      hour = 0;\r\n    }\r\n    if (meridiem === 'pagi') {\r\n      return hour;\r\n    } else if (meridiem === 'siang') {\r\n      return hour >= 11 ? hour : hour + 12;\r\n    } else if (meridiem === 'sore' || meridiem === 'malam') {\r\n      return hour + 12;\r\n    }\r\n  },\r\n  meridiem(hours, minutes, isLower) {\r\n    if (hours < 11) {\r\n      return 'pagi';\r\n    } else if (hours < 15) {\r\n      return 'siang';\r\n    } else if (hours < 19) {\r\n      return 'sore';\r\n    } else {\r\n      return 'malam';\r\n    }\r\n  },\r\n  calendar : {\r\n    sameDay : '[Hari ini pukul] LT',\r\n    nextDay : '[Besok pukul] LT',\r\n    nextWeek : 'dddd [pukul] LT',\r\n    lastDay : '[Kemarin pukul] LT',\r\n    lastWeek : 'dddd [lalu pukul] LT',\r\n    sameElse : 'L'\r\n  },\r\n  relativeTime : {\r\n    future : 'dalam %s',\r\n    past : '%s yang lalu',\r\n    s : 'beberapa detik',\r\n    ss : '%d detik',\r\n    m : 'semenit',\r\n    mm : '%d menit',\r\n    h : 'sejam',\r\n    hh : '%d jam',\r\n    d : 'sehari',\r\n    dd : '%d hari',\r\n    M : 'sebulan',\r\n    MM : '%d bulan',\r\n    y : 'setahun',\r\n    yy : '%d tahun'\r\n  },\r\n  week : {\r\n    dow : 1, // Monday is the first day of the week.\r\n    doy : 7  // The week that contains Jan 1st is the first week of the year.\r\n  }\r\n};\r\n\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getDayOfWeek } from '../units/day-of-week';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Italian [it]\r\n//! author : Lorenzo : https://github.com/aliem\r\n//! author: Mattia Larentis: https://github.com/nostalgiaz\r\n\r\nexport const itLocale: LocaleData = {\r\n  abbr: 'it',\r\n  months: 'gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre'.split('_'),\r\n  monthsShort: 'gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic'.split('_'),\r\n  weekdays: 'domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato'.split('_'),\r\n  weekdaysShort: 'dom_lun_mar_mer_gio_ven_sab'.split('_'),\r\n  weekdaysMin: 'do_lu_ma_me_gi_ve_sa'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY HH:mm',\r\n    LLLL: 'dddd D MMMM YYYY HH:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[Oggi alle] LT',\r\n    nextDay: '[Domani alle] LT',\r\n    nextWeek: 'dddd [alle] LT',\r\n    lastDay: '[Ieri alle] LT',\r\n    lastWeek(date: Date) {\r\n      switch (getDayOfWeek(date)) {\r\n        case 0:\r\n          return '[la scorsa] dddd [alle] LT';\r\n        default:\r\n          return '[lo scorso] dddd [alle] LT';\r\n      }\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future(num: number): string {\r\n      return ((/^[0-9].+$/).test(num.toString(10)) ? 'tra' : 'in') + ' ' + num;\r\n    },\r\n    past: '%s fa',\r\n    s: 'alcuni secondi',\r\n    ss: '%d secondi',\r\n    m: 'un minuto',\r\n    mm: '%d minuti',\r\n    h: 'un\\'ora',\r\n    hh: '%d ore',\r\n    d: 'un giorno',\r\n    dd: '%d giorni',\r\n    M: 'un mese',\r\n    MM: '%d mesi',\r\n    y: 'un anno',\r\n    yy: '%d anni'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}º/,\r\n  ordinal: '%dº',\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Japanese [ja]\r\n//! author : LI Long : https://github.com/baryon\r\n\r\nexport const jaLocale: LocaleData =  {\r\n  abbr: 'ja',\r\n  months : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\r\n  monthsShort : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\r\n  weekdays : '日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日'.split('_'),\r\n  weekdaysShort : '日_月_火_水_木_金_土'.split('_'),\r\n  weekdaysMin : '日_月_火_水_木_金_土'.split('_'),\r\n  longDateFormat : {\r\n    LT : 'HH:mm',\r\n    LTS : 'HH:mm:ss',\r\n    L : 'YYYY/MM/DD',\r\n    LL : 'YYYY年M月D日',\r\n    LLL : 'YYYY年M月D日 HH:mm',\r\n    LLLL : 'YYYY年M月D日 HH:mm dddd',\r\n    l : 'YYYY/MM/DD',\r\n    ll : 'YYYY年M月D日',\r\n    lll : 'YYYY年M月D日 HH:mm',\r\n    llll : 'YYYY年M月D日 HH:mm dddd'\r\n  },\r\n  meridiemParse: /午前|午後/i,\r\n  isPM (input) {\r\n    return input === '午後';\r\n  },\r\n  meridiem (hour, minute, isLower) {\r\n    if (hour < 12) {\r\n      return '午前';\r\n    } else {\r\n      return '午後';\r\n    }\r\n  },\r\n  calendar : {\r\n    sameDay : '[今日] LT',\r\n    nextDay : '[明日] LT',\r\n    nextWeek : '[来週]dddd LT',\r\n    lastDay : '[昨日] LT',\r\n    lastWeek : '[前週]dddd LT',\r\n    sameElse : 'L'\r\n  },\r\n  dayOfMonthOrdinalParse : /\\d{1,2}日/,\r\n  ordinal (num: number, period: string): string {\r\n    switch (period) {\r\n      case 'd':\r\n      case 'D':\r\n      case 'DDD':\r\n        return num + '日';\r\n      default:\r\n        return num.toString(10);\r\n    }\r\n  },\r\n  relativeTime : {\r\n    future : '%s後',\r\n    past : '%s前',\r\n    s : '数秒',\r\n    ss : '%d秒',\r\n    m : '1分',\r\n    mm : '%d分',\r\n    h : '1時間',\r\n    hh : '%d時間',\r\n    d : '1日',\r\n    dd : '%d日',\r\n    M : '1ヶ月',\r\n    MM : '%dヶ月',\r\n    y : '1年',\r\n    yy : '%d年'\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n// tslint:disable:object-literal-shorthand\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Korean [ko]\r\n//! author : Kyungwook, Park : https://github.com/kyungw00k\r\n//! author : Jeeeyul Lee <jeeeyul@gmail.com>\r\n\r\nexport const koLocale: LocaleData = {\r\n  abbr: 'ko',\r\n  months : '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split('_'),\r\n  monthsShort : '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split('_'),\r\n  weekdays : '일요일_월요일_화요일_수요일_목요일_금요일_토요일'.split('_'),\r\n  weekdaysShort : '일_월_화_수_목_금_토'.split('_'),\r\n  weekdaysMin : '일_월_화_수_목_금_토'.split('_'),\r\n  longDateFormat : {\r\n    LT : 'A h:mm',\r\n    LTS : 'A h:mm:ss',\r\n    L : 'YYYY.MM.DD',\r\n    LL : 'YYYY년 MMMM D일',\r\n    LLL : 'YYYY년 MMMM D일 A h:mm',\r\n    LLLL : 'YYYY년 MMMM D일 dddd A h:mm',\r\n    l : 'YYYY.MM.DD',\r\n    ll : 'YYYY년 MMMM D일',\r\n    lll : 'YYYY년 MMMM D일 A h:mm',\r\n    llll : 'YYYY년 MMMM D일 dddd A h:mm'\r\n  },\r\n  calendar : {\r\n    sameDay : '오늘 LT',\r\n    nextDay : '내일 LT',\r\n    nextWeek : 'dddd LT',\r\n    lastDay : '어제 LT',\r\n    lastWeek : '지난주 dddd LT',\r\n    sameElse : 'L'\r\n  },\r\n  relativeTime : {\r\n    future : '%s 후',\r\n    past : '%s 전',\r\n    s : '몇 초',\r\n    ss : '%d초',\r\n    m : '1분',\r\n    mm : '%d분',\r\n    h : '한 시간',\r\n    hh : '%d시간',\r\n    d : '하루',\r\n    dd : '%d일',\r\n    M : '한 달',\r\n    MM : '%d달',\r\n    y : '일 년',\r\n    yy : '%d년'\r\n  },\r\n  dayOfMonthOrdinalParse : /\\d{1,2}(일|월|주)/,\r\n  ordinal : function (num: number, period: string): string {\r\n    switch (period) {\r\n      case 'd':\r\n      case 'D':\r\n      case 'DDD':\r\n        return num + '일';\r\n      case 'M':\r\n        return num + '월';\r\n      case 'w':\r\n      case 'W':\r\n        return num + '주';\r\n      default:\r\n        return num.toString(10);\r\n    }\r\n  },\r\n  meridiemParse : /오전|오후/,\r\n  isPM : function (token) {\r\n    return token === '오후';\r\n  },\r\n  meridiem : function (hour, minute, isUpper) {\r\n    return hour < 12 ? '오전' : '오후';\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n// tslint:disable:object-literal-shorthand\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Mongolian [mn]\r\n//! author : Javkhlantugs Nyamdorj : https://github.com/javkhaanj7\r\n\r\nfunction translate(num: number, withoutSuffix: boolean, key: string, isFuture: boolean) {\r\n  switch (key) {\r\n    case 's':\r\n      return withoutSuffix ? 'хэдхэн секунд' : 'хэдхэн секундын';\r\n    case 'ss':\r\n      return num + (withoutSuffix ? ' секунд' : ' секундын');\r\n    case 'm':\r\n    case 'mm':\r\n      return num + (withoutSuffix ? ' минут' : ' минутын');\r\n    case 'h':\r\n    case 'hh':\r\n      return num + (withoutSuffix ? ' цаг' : ' цагийн');\r\n    case 'd':\r\n    case 'dd':\r\n      return num + (withoutSuffix ? ' өдөр' : ' өдрийн');\r\n    case 'M':\r\n    case 'MM':\r\n      return num + (withoutSuffix ? ' сар' : ' сарын');\r\n    case 'y':\r\n    case 'yy':\r\n      return num + (withoutSuffix ? ' жил' : ' жилийн');\r\n    default:\r\n      return num.toString(10);\r\n  }\r\n}\r\n\r\nexport const mnLocale: LocaleData = {\r\n  abbr: 'mn',\r\n  months: 'Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар'.split('_'),\r\n  monthsShort: '1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар'.split('_'),\r\n  monthsParseExact: true,\r\n  weekdays: 'Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба'.split('_'),\r\n  weekdaysShort: 'Ням_Дав_Мяг_Лха_Пүр_Баа_Бям'.split('_'),\r\n  weekdaysMin: 'Ня_Да_Мя_Лх_Пү_Ба_Бя'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'YYYY-MM-DD',\r\n    LL: 'YYYY оны MMMMын D',\r\n    LLL: 'YYYY оны MMMMын D HH:mm',\r\n    LLLL: 'dddd, YYYY оны MMMMын D HH:mm'\r\n  },\r\n  meridiemParse: /ҮӨ|ҮХ/i,\r\n  isPM: function (input) {\r\n    return input === 'ҮХ';\r\n  },\r\n  meridiem: function (hour, minute, isLower) {\r\n    if (hour < 12) {\r\n      return 'ҮӨ';\r\n    } else {\r\n      return 'ҮХ';\r\n    }\r\n  },\r\n  calendar: {\r\n    sameDay: '[Өнөөдөр] LT',\r\n    nextDay: '[Маргааш] LT',\r\n    nextWeek: '[Ирэх] dddd LT',\r\n    lastDay: '[Өчигдөр] LT',\r\n    lastWeek: '[Өнгөрсөн] dddd LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: '%s дараа',\r\n    past: '%s өмнө',\r\n    s: translate,\r\n    ss: translate,\r\n    m: translate,\r\n    mm: translate,\r\n    h: translate,\r\n    hh: translate,\r\n    d: translate,\r\n    dd: translate,\r\n    M: translate,\r\n    MM: translate,\r\n    y: translate,\r\n    yy: translate\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2} өдөр/,\r\n  ordinal: function (num: number, period: string): string {\r\n    switch (period) {\r\n      case 'd':\r\n      case 'D':\r\n      case 'DDD':\r\n        return num + ' өдөр';\r\n      default:\r\n        return num.toString(10);\r\n    }\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getMonth } from '../utils/date-getters';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Dutch [nl]\r\n//! author : Joris Röling : https://github.com/jorisroling\r\n//! author : Jacob Middag : https://github.com/middagj\r\n\r\nlet monthsShortWithDots = 'jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.'.split('_'),\r\n  monthsShortWithoutDots = 'jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec'.split('_');\r\n\r\nlet monthsParse = [/^jan/i, /^feb/i, /^maart|mrt.?$/i, /^apr/i, /^mei$/i, /^jun[i.]?$/i, /^jul[i.]?$/i, /^aug/i, /^sep/i, /^okt/i, /^nov/i, /^dec/i];\r\nlet monthsRegex = /^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\\.?|feb\\.?|mrt\\.?|apr\\.?|ju[nl]\\.?|aug\\.?|sep\\.?|okt\\.?|nov\\.?|dec\\.?)/i;\r\n\r\nexport const nlLocale: LocaleData = {\r\n  abbr: 'nl',\r\n  months : 'januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december'.split('_'),\r\n  monthsShort (date: Date, format: string, isUTC?: boolean): string | string[] {\r\n    if (!date) {\r\n      return monthsShortWithDots;\r\n    } else if (/-MMM-/.test(format)) {\r\n      return monthsShortWithoutDots[getMonth(date, isUTC)];\r\n    } else {\r\n      return monthsShortWithDots[getMonth(date, isUTC)];\r\n    }\r\n  },\r\n\r\n  monthsRegex,\r\n  monthsShortRegex: monthsRegex,\r\n  monthsStrictRegex: /^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,\r\n  monthsShortStrictRegex: /^(jan\\.?|feb\\.?|mrt\\.?|apr\\.?|mei|ju[nl]\\.?|aug\\.?|sep\\.?|okt\\.?|nov\\.?|dec\\.?)/i,\r\n\r\n  monthsParse,\r\n  longMonthsParse : monthsParse,\r\n  shortMonthsParse : monthsParse,\r\n\r\n  weekdays : 'zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag'.split('_'),\r\n  weekdaysShort : 'zo._ma._di._wo._do._vr._za.'.split('_'),\r\n  weekdaysMin : 'zo_ma_di_wo_do_vr_za'.split('_'),\r\n  weekdaysParseExact : true,\r\n  longDateFormat : {\r\n    LT : 'HH:mm',\r\n    LTS : 'HH:mm:ss',\r\n    L : 'DD-MM-YYYY',\r\n    LL : 'D MMMM YYYY',\r\n    LLL : 'D MMMM YYYY HH:mm',\r\n    LLLL : 'dddd D MMMM YYYY HH:mm'\r\n  },\r\n  calendar : {\r\n    sameDay: '[vandaag om] LT',\r\n    nextDay: '[morgen om] LT',\r\n    nextWeek: 'dddd [om] LT',\r\n    lastDay: '[gisteren om] LT',\r\n    lastWeek: '[afgelopen] dddd [om] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime : {\r\n    future : 'over %s',\r\n    past : '%s geleden',\r\n    s : 'een paar seconden',\r\n    ss : '%d seconden',\r\n    m : 'één minuut',\r\n    mm : '%d minuten',\r\n    h : 'één uur',\r\n    hh : '%d uur',\r\n    d : 'één dag',\r\n    dd : '%d dagen',\r\n    M : 'één maand',\r\n    MM : '%d maanden',\r\n    y : 'één jaar',\r\n    yy : '%d jaar'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}(ste|de)/,\r\n  ordinal (_num: number): string {\r\n    const num = Number(_num);\r\n    return num + ((num === 1 || num === 8 || num >= 20) ? 'ste' : 'de');\r\n  },\r\n  week : {\r\n    dow : 1, // Monday is the first day of the week.\r\n    doy : 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getMonth } from '../utils/date-getters';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Dutch (Belgium) [nl-be]\r\n//! author : Joris Röling : https://github.com/jorisroling\r\n//! author : Jacob Middag : https://github.com/middagj\r\n\r\nlet monthsShortWithDots = 'jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.'.split('_');\r\nlet monthsShortWithoutDots = 'jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec'.split('_');\r\n\r\nlet monthsParse = [/^jan/i, /^feb/i, /^maart|mrt.?$/i, /^apr/i, /^mei$/i, /^jun[i.]?$/i, /^jul[i.]?$/i, /^aug/i, /^sep/i, /^okt/i, /^nov/i, /^dec/i];\r\nlet monthsRegex = /^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\\.?|feb\\.?|mrt\\.?|apr\\.?|ju[nl]\\.?|aug\\.?|sep\\.?|okt\\.?|nov\\.?|dec\\.?)/i;\r\n\r\nexport const nlBeLocale: LocaleData = {\r\n  abbr: 'nl-be',\r\n  months: 'januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december'.split('_'),\r\n  monthsShort(date: Date, format: string, isUTC?: boolean): string | string[] {\r\n    if (!date) {\r\n      return monthsShortWithDots;\r\n    } else if (/-MMM-/.test(format)) {\r\n      return monthsShortWithoutDots[getMonth(date, isUTC)];\r\n    } else {\r\n      return monthsShortWithDots[getMonth(date, isUTC)];\r\n    }\r\n  },\r\n\r\n  monthsRegex,\r\n  monthsShortRegex: monthsRegex,\r\n  monthsStrictRegex: /^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,\r\n  monthsShortStrictRegex: /^(jan\\.?|feb\\.?|mrt\\.?|apr\\.?|mei|ju[nl]\\.?|aug\\.?|sep\\.?|okt\\.?|nov\\.?|dec\\.?)/i,\r\n\r\n  monthsParse,\r\n  longMonthsParse: monthsParse,\r\n  shortMonthsParse: monthsParse,\r\n\r\n  weekdays: 'zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag'.split('_'),\r\n  weekdaysShort: 'zo._ma._di._wo._do._vr._za.'.split('_'),\r\n  weekdaysMin: 'zo_ma_di_wo_do_vr_za'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY HH:mm',\r\n    LLLL: 'dddd D MMMM YYYY HH:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[vandaag om] LT',\r\n    nextDay: '[morgen om] LT',\r\n    nextWeek: 'dddd [om] LT',\r\n    lastDay: '[gisteren om] LT',\r\n    lastWeek: '[afgelopen] dddd [om] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'over %s',\r\n    past: '%s geleden',\r\n    s: 'een paar seconden',\r\n    ss: '%d seconden',\r\n    m: 'één minuut',\r\n    mm: '%d minuten',\r\n    h: 'één uur',\r\n    hh: '%d uur',\r\n    d: 'één dag',\r\n    dd: '%d dagen',\r\n    M: 'één maand',\r\n    MM: '%d maanden',\r\n    y: 'één jaar',\r\n    yy: '%d jaar'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}(ste|de)/,\r\n  ordinal(_num: number): string {\r\n    const num = Number(_num);\r\n    return num + ((num === 1 || num === 8 || num >= 20) ? 'ste' : 'de');\r\n  },\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getMonth } from '../utils/date-getters';\r\nimport { getDayOfWeek } from '../units/day-of-week';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Polish [pl]\r\n//! author : Rafal Hirsz : https://github.com/evoL\r\n\r\nlet monthsNominative = 'styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień'.split('_');\r\nlet monthsSubjective = 'stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia'.split('_');\r\n\r\nfunction plural(num: number): boolean {\r\n  return (num % 10 < 5) && (num % 10 > 1) && ((~~(num / 10) % 10) !== 1);\r\n}\r\n\r\nfunction translate(num: number, withoutSuffix: boolean, key: string): string {\r\n  let result = num + ' ';\r\n  switch (key) {\r\n    case 'ss':\r\n      return result + (plural(num) ? 'sekundy' : 'sekund');\r\n    case 'm':\r\n      return withoutSuffix ? 'minuta' : 'minutę';\r\n    case 'mm':\r\n      return result + (plural(num) ? 'minuty' : 'minut');\r\n    case 'h':\r\n      return withoutSuffix ? 'godzina' : 'godzinę';\r\n    case 'hh':\r\n      return result + (plural(num) ? 'godziny' : 'godzin');\r\n    case 'MM':\r\n      return result + (plural(num) ? 'miesiące' : 'miesięcy');\r\n    case 'yy':\r\n      return result + (plural(num) ? 'lata' : 'lat');\r\n  }\r\n}\r\n\r\nexport const plLocale: LocaleData = {\r\n  abbr: 'pl',\r\n  months(date: Date, format: string, isUTC?: boolean): string | string[] {\r\n    if (!date) {\r\n      return monthsNominative;\r\n    } else if (format === '') {\r\n      // Hack: if format empty we know this is used to generate\r\n      // RegExp by moment. Give then back both valid forms of months\r\n      // in RegExp ready format.\r\n      return '(' + monthsSubjective[getMonth(date, isUTC)] + '|' + monthsNominative[getMonth(date, isUTC)] + ')';\r\n    } else if (/D MMMM/.test(format)) {\r\n      return monthsSubjective[getMonth(date, isUTC)];\r\n    } else {\r\n      return monthsNominative[getMonth(date, isUTC)];\r\n    }\r\n  },\r\n  monthsShort: 'sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru'.split('_'),\r\n  weekdays: 'niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota'.split('_'),\r\n  weekdaysShort: 'ndz_pon_wt_śr_czw_pt_sob'.split('_'),\r\n  weekdaysMin: 'Nd_Pn_Wt_Śr_Cz_Pt_So'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'DD.MM.YYYY',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY HH:mm',\r\n    LLLL: 'dddd, D MMMM YYYY HH:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[Dziś o] LT',\r\n    nextDay: '[Jutro o] LT',\r\n    nextWeek(date: Date): string {\r\n      switch (getDayOfWeek(date)) {\r\n        case 0:\r\n          return '[W niedzielę o] LT';\r\n\r\n        case 2:\r\n          return '[We wtorek o] LT';\r\n\r\n        case 3:\r\n          return '[W środę o] LT';\r\n\r\n        case 6:\r\n          return '[W sobotę o] LT';\r\n\r\n        default:\r\n          return '[W] dddd [o] LT';\r\n      }\r\n    },\r\n    lastDay: '[Wczoraj o] LT',\r\n    lastWeek(date: Date): string {\r\n      switch (getDayOfWeek(date)) {\r\n        case 0:\r\n          return '[W zeszłą niedzielę o] LT';\r\n        case 3:\r\n          return '[W zeszłą środę o] LT';\r\n        case 6:\r\n          return '[W zeszłą sobotę o] LT';\r\n        default:\r\n          return '[W zeszły] dddd [o] LT';\r\n      }\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'za %s',\r\n    past: '%s temu',\r\n    s: 'kilka sekund',\r\n    ss: translate,\r\n    m: translate,\r\n    mm: translate,\r\n    h: translate,\r\n    hh: translate,\r\n    d: '1 dzień',\r\n    dd: '%d dni',\r\n    M: 'miesiąc',\r\n    MM: translate,\r\n    y: 'rok',\r\n    yy: translate\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}\\./,\r\n  ordinal: '%d.',\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getDayOfWeek } from '../units/day-of-week';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Portuguese (Brazil) [pt-br]\r\n//! author : Caio Ribeiro Pereira : https://github.com/caio-ribeiro-pereira\r\n\r\nexport const ptBrLocale: LocaleData = {\r\n  abbr: 'pt-br',\r\n  months: 'janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro'.split('_'),\r\n  monthsShort: 'jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez'.split('_'),\r\n  weekdays: 'Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado'.split('_'),\r\n  weekdaysShort: 'Dom_Seg_Ter_Qua_Qui_Sex_Sáb'.split('_'),\r\n  weekdaysMin: 'Do_2ª_3ª_4ª_5ª_6ª_Sá'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D [de] MMMM [de] YYYY',\r\n    LLL: 'D [de] MMMM [de] YYYY [às] HH:mm',\r\n    LLLL: 'dddd, D [de] MMMM [de] YYYY [às] HH:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[Hoje às] LT',\r\n    nextDay: '[Amanhã às] LT',\r\n    nextWeek: 'dddd [às] LT',\r\n    lastDay: '[Ontem às] LT',\r\n    lastWeek(date: Date) {\r\n      return (getDayOfWeek(date) === 0 || getDayOfWeek(date) === 6) ?\r\n        '[Último] dddd [às] LT' : // Saturday + Sunday\r\n        '[Última] dddd [às] LT'; // Monday - Friday\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'em %s',\r\n    past: '%s atrás',\r\n    s: 'poucos segundos',\r\n    ss: '%d segundos',\r\n    m: 'um minuto',\r\n    mm: '%d minutos',\r\n    h: 'uma hora',\r\n    hh: '%d horas',\r\n    d: 'um dia',\r\n    dd: '%d dias',\r\n    M: 'um mês',\r\n    MM: '%d meses',\r\n    y: 'um ano',\r\n    yy: '%d anos'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}º/,\r\n  ordinal: '%dº'\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Swedish [sv]\r\n//! author : Jens Alm : https://github.com/ulmus\r\n\r\nexport const svLocale: LocaleData = {\r\n  abbr: 'sv',\r\n  months: 'januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december'.split('_'),\r\n  monthsShort: 'jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec'.split('_'),\r\n  weekdays: 'söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag'.split('_'),\r\n  weekdaysShort: 'sön_mån_tis_ons_tor_fre_lör'.split('_'),\r\n  weekdaysMin: 'sö_må_ti_on_to_fr_lö'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'YYYY-MM-DD',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY [kl.] HH:mm',\r\n    LLLL: 'dddd D MMMM YYYY [kl.] HH:mm',\r\n    lll: 'D MMM YYYY HH:mm',\r\n    llll: 'ddd D MMM YYYY HH:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[Idag] LT',\r\n    nextDay: '[Imorgon] LT',\r\n    lastDay: '[Igår] LT',\r\n    nextWeek: '[På] dddd LT',\r\n    lastWeek: '[I] dddd[s] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'om %s',\r\n    past: 'för %s sedan',\r\n    s: 'några sekunder',\r\n    ss: '%d sekunder',\r\n    m: 'en minut',\r\n    mm: '%d minuter',\r\n    h: 'en timme',\r\n    hh: '%d timmar',\r\n    d: 'en dag',\r\n    dd: '%d dagar',\r\n    M: 'en månad',\r\n    MM: '%d månader',\r\n    y: 'ett år',\r\n    yy: '%d år'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}(e|a)/,\r\n  ordinal(_num: number): string {\r\n    const num = Number(_num);\r\n    let b = num % 10,\r\n      output = (~~(num % 100 / 10) === 1) ? 'e' :\r\n        (b === 1) ? 'a' :\r\n          (b === 2) ? 'a' :\r\n            (b === 3) ? 'e' : 'e';\r\n    return num + output;\r\n  },\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getWeek } from '../units/week';\r\nimport { getDayOfWeek } from '../units/day-of-week';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Russian [ru]\r\n//! author : Viktorminator : https://github.com/Viktorminator\r\n//! Author : Menelion Elensúle : https://github.com/Oire\r\n//! author : Коренберг Марк : https://github.com/socketpair\r\n\r\nfunction plural(word: string, num: number): string {\r\n  let forms = word.split('_');\r\n  return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]);\r\n}\r\n\r\nfunction relativeTimeWithPlural(num: number, withoutSuffix: boolean, key: string): string {\r\n  let format: {[key: string]: string} = {\r\n    ss: withoutSuffix ? 'секунда_секунды_секунд' : 'секунду_секунды_секунд',\r\n    mm: withoutSuffix ? 'минута_минуты_минут' : 'минуту_минуты_минут',\r\n    hh: 'час_часа_часов',\r\n    dd: 'день_дня_дней',\r\n    MM: 'месяц_месяца_месяцев',\r\n    yy: 'год_года_лет'\r\n  };\r\n  if (key === 'm') {\r\n    return withoutSuffix ? 'минута' : 'минуту';\r\n  }\r\n  return num + ' ' + plural(format[key], +num);\r\n}\r\n\r\nlet monthsParse = [/^янв/i, /^фев/i, /^мар/i, /^апр/i, /^ма[йя]/i, /^июн/i, /^июл/i, /^авг/i, /^сен/i, /^окт/i, /^ноя/i, /^дек/i];\r\n\r\n// http://new.gramota.ru/spravka/rules/139-prop : § 103\r\n// Сокращения месяцев: http://new.gramota.ru/spravka/buro/search-answer?s=242637\r\n// CLDR data:          http://www.unicode.org/cldr/charts/28/summary/ru.html#1753\r\nexport const ruLocale: LocaleData = {\r\n  abbr: 'ru',\r\n  months: {\r\n    format: 'января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря'.split('_'),\r\n    standalone: 'январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь'.split('_')\r\n  },\r\n  monthsShort: {\r\n    // по CLDR именно \"июл.\" и \"июн.\", но какой смысл менять букву на точку ?\r\n    format: 'янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.'.split('_'),\r\n    standalone: 'янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.'.split('_')\r\n  },\r\n  weekdays: {\r\n    standalone: 'воскресенье_понедельник_вторник_среда_четверг_пятница_суббота'.split('_'),\r\n    format: 'воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу'.split('_'),\r\n    isFormat: /\\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\\] ?dddd/\r\n  },\r\n  weekdaysShort: 'вс_пн_вт_ср_чт_пт_сб'.split('_'),\r\n  weekdaysMin: 'вс_пн_вт_ср_чт_пт_сб'.split('_'),\r\n  monthsParse,\r\n  longMonthsParse: monthsParse,\r\n  shortMonthsParse: monthsParse,\r\n\r\n  // полные названия с падежами, по три буквы, для некоторых, по 4 буквы, сокращения с точкой и без точки\r\n  monthsRegex: /^(январ[ья]|янв\\.?|феврал[ья]|февр?\\.?|марта?|мар\\.?|апрел[ья]|апр\\.?|ма[йя]|июн[ья]|июн\\.?|июл[ья]|июл\\.?|августа?|авг\\.?|сентябр[ья]|сент?\\.?|октябр[ья]|окт\\.?|ноябр[ья]|нояб?\\.?|декабр[ья]|дек\\.?)/i,\r\n\r\n  // копия предыдущего\r\n  monthsShortRegex: /^(январ[ья]|янв\\.?|феврал[ья]|февр?\\.?|марта?|мар\\.?|апрел[ья]|апр\\.?|ма[йя]|июн[ья]|июн\\.?|июл[ья]|июл\\.?|августа?|авг\\.?|сентябр[ья]|сент?\\.?|октябр[ья]|окт\\.?|ноябр[ья]|нояб?\\.?|декабр[ья]|дек\\.?)/i,\r\n\r\n  // полные названия с падежами\r\n  monthsStrictRegex: /^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,\r\n\r\n  // Выражение, которое соотвествует только сокращённым формам\r\n  monthsShortStrictRegex: /^(янв\\.|февр?\\.|мар[т.]|апр\\.|ма[яй]|июн[ья.]|июл[ья.]|авг\\.|сент?\\.|окт\\.|нояб?\\.|дек\\.)/i,\r\n  longDateFormat: {\r\n    LT: 'H:mm',\r\n    LTS: 'H:mm:ss',\r\n    L: 'DD.MM.YYYY',\r\n    LL: 'D MMMM YYYY г.',\r\n    LLL: 'D MMMM YYYY г., H:mm',\r\n    LLLL: 'dddd, D MMMM YYYY г., H:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[Сегодня в] LT',\r\n    nextDay: '[Завтра в] LT',\r\n    lastDay: '[Вчера в] LT',\r\n    nextWeek(date: Date, now: Date) {\r\n      if (getWeek(now) !== getWeek(date)) {\r\n        switch (getDayOfWeek(date)) {\r\n          case 0:\r\n            return '[В следующее] dddd [в] LT';\r\n          case 1:\r\n          case 2:\r\n          case 4:\r\n            return '[В следующий] dddd [в] LT';\r\n          case 3:\r\n          case 5:\r\n          case 6:\r\n            return '[В следующую] dddd [в] LT';\r\n        }\r\n      } else {\r\n        if (getDayOfWeek(date) === 2) {\r\n          return '[Во] dddd [в] LT';\r\n        } else {\r\n          return '[В] dddd [в] LT';\r\n        }\r\n      }\r\n    },\r\n    lastWeek(date: Date, now: Date) {\r\n      if (getWeek(now) !== getWeek(date)) {\r\n        switch (getDayOfWeek(date)) {\r\n          case 0:\r\n            return '[В прошлое] dddd [в] LT';\r\n          case 1:\r\n          case 2:\r\n          case 4:\r\n            return '[В прошлый] dddd [в] LT';\r\n          case 3:\r\n          case 5:\r\n          case 6:\r\n            return '[В прошлую] dddd [в] LT';\r\n        }\r\n      } else {\r\n        if (getDayOfWeek(date) === 2) {\r\n          return '[Во] dddd [в] LT';\r\n        } else {\r\n          return '[В] dddd [в] LT';\r\n        }\r\n      }\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'через %s',\r\n    past: '%s назад',\r\n    s: 'несколько секунд',\r\n    ss: relativeTimeWithPlural,\r\n    m: relativeTimeWithPlural,\r\n    mm: relativeTimeWithPlural,\r\n    h: 'час',\r\n    hh: relativeTimeWithPlural,\r\n    d: 'день',\r\n    dd: relativeTimeWithPlural,\r\n    M: 'месяц',\r\n    MM: relativeTimeWithPlural,\r\n    y: 'год',\r\n    yy: relativeTimeWithPlural\r\n  },\r\n  meridiemParse: /ночи|утра|дня|вечера/i,\r\n  isPM(input) {\r\n    return /^(дня|вечера)$/.test(input);\r\n  },\r\n  meridiem(hour, minute, isLower) {\r\n    if (hour < 4) {\r\n      return 'ночи';\r\n    } else if (hour < 12) {\r\n      return 'утра';\r\n    } else if (hour < 17) {\r\n      return 'дня';\r\n    } else {\r\n      return 'вечера';\r\n    }\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}-(й|го|я)/,\r\n  ordinal(_num: number, period: string): string {\r\n    const num = Number(_num);\r\n    switch (period) {\r\n      case 'M':\r\n      case 'd':\r\n      case 'DDD':\r\n        return num + '-й';\r\n      case 'D':\r\n        return num + '-го';\r\n      case 'w':\r\n      case 'W':\r\n        return num + '-я';\r\n      default:\r\n        return num.toString(10);\r\n    }\r\n  },\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n// ! moment.js locale configuration\r\n// ! locale : Romanian [ro]\r\n//! author : Vlad Gurdiga : https://github.com/gurdiga\r\n//! author : Valentin Agachi : https://github.com/avaly\r\n// ! author : Earle white: https://github.com/5earle\r\n\r\nfunction relativeTimeWithPlural(num: number, withoutSuffix: boolean, key: string): string {\r\n  let format: {[key:string]: string} = {\r\n    ss: 'secunde',\r\n    mm: 'minute',\r\n    hh: 'ore',\r\n    dd: 'zile',\r\n    MM: 'luni',\r\n    yy: 'ani'\r\n  };\r\n\r\n  let separator = ' ';\r\n  if (num % 100 >= 20 || (num >= 100 && num % 100 === 0)) {\r\n    separator = ' de ';\r\n  }\r\n  return num + separator + format[key];\r\n}\r\n\r\n\r\nexport const roLocale: LocaleData = {\r\n  abbr: 'ro',\r\n  months: 'ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie'.split('_'),\r\n  monthsShort: 'ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.'.split('_'),\r\n  monthsParseExact: true,\r\n  weekdays: 'duminică_luni_marți_miercuri_joi_vineri_sâmbătă'.split('_'),\r\n  weekdaysShort: 'Dum_Lun_Mar_Mie_Joi_Vin_Sâm'.split('_'),\r\n  weekdaysMin: 'Du_Lu_Ma_Mi_Jo_Vi_Sâ'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'H:mm',\r\n    LTS: 'H:mm:ss',\r\n    L: 'DD.MM.YYYY',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY H:mm',\r\n    LLLL: 'dddd, D MMMM YYYY H:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[azi la] LT',\r\n    nextDay: '[mâine la] LT',\r\n    nextWeek: 'dddd [la] LT',\r\n    lastDay: '[ieri la] LT',\r\n    lastWeek: '[fosta] dddd [la] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'peste %s',\r\n    past: '%s în urmă',\r\n    s: 'câteva secunde',\r\n    ss: relativeTimeWithPlural,\r\n    m: 'un minut',\r\n    mm: relativeTimeWithPlural,\r\n    h: 'o oră',\r\n    hh: relativeTimeWithPlural,\r\n    d: 'o zi',\r\n    dd: relativeTimeWithPlural,\r\n    M: 'o lună',\r\n    MM: relativeTimeWithPlural,\r\n    y: 'un an',\r\n    yy: relativeTimeWithPlural\r\n  },\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 7  // The week that contains Jan 1st is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n// tslint:disable:no-parameter-reassignment prefer-switch\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Chinese (China) [zh-cn]\r\n//! author : suupic : https://github.com/suupic\r\n//! author : Zeno Zeng : https://github.com/zenozeng\r\n\r\nexport const zhCnLocale: LocaleData = {\r\n  abbr: 'zh-cn',\r\n  months: '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),\r\n  monthsShort: '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\r\n  weekdays: '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),\r\n  weekdaysShort: '周日_周一_周二_周三_周四_周五_周六'.split('_'),\r\n  weekdaysMin: '日_一_二_三_四_五_六'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'YYYY/MM/DD',\r\n    LL: 'YYYY年M月D日',\r\n    LLL: 'YYYY年M月D日Ah点mm分',\r\n    LLLL: 'YYYY年M月D日ddddAh点mm分',\r\n    l: 'YYYY/M/D',\r\n    ll: 'YYYY年M月D日',\r\n    lll: 'YYYY年M月D日 HH:mm',\r\n    llll: 'YYYY年M月D日dddd HH:mm'\r\n  },\r\n  meridiemParse: /凌晨|早上|上午|中午|下午|晚上/,\r\n  meridiemHour(hour, meridiem) {\r\n    if (hour === 12) {\r\n      hour = 0;\r\n    }\r\n    if (meridiem === '凌晨' || meridiem === '早上' ||\r\n      meridiem === '上午') {\r\n      return hour;\r\n    } else if (meridiem === '下午' || meridiem === '晚上') {\r\n      return hour + 12;\r\n    } else {\r\n      // '中午'\r\n      return hour >= 11 ? hour : hour + 12;\r\n    }\r\n  },\r\n  meridiem(hour, minute, isLower) {\r\n    let hm = hour * 100 + minute;\r\n    if (hm < 600) {\r\n      return '凌晨';\r\n    } else if (hm < 900) {\r\n      return '早上';\r\n    } else if (hm < 1130) {\r\n      return '上午';\r\n    } else if (hm < 1230) {\r\n      return '中午';\r\n    } else if (hm < 1800) {\r\n      return '下午';\r\n    } else {\r\n      return '晚上';\r\n    }\r\n  },\r\n  calendar: {\r\n    sameDay: '[今天]LT',\r\n    nextDay: '[明天]LT',\r\n    nextWeek: '[下]ddddLT',\r\n    lastDay: '[昨天]LT',\r\n    lastWeek: '[上]ddddLT',\r\n    sameElse: 'L'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}(日|月|周)/,\r\n  ordinal(_num: number, period) {\r\n    const num = Number(_num);\r\n    switch (period) {\r\n      case 'd':\r\n      case 'D':\r\n      case 'DDD':\r\n        return num + '日';\r\n      case 'M':\r\n        return num + '月';\r\n      case 'w':\r\n      case 'W':\r\n        return num + '周';\r\n      default:\r\n        return num.toString();\r\n    }\r\n  },\r\n  relativeTime: {\r\n    future: '%s内',\r\n    past: '%s前',\r\n    s: '几秒',\r\n    ss: '%d 秒',\r\n    m: '1 分钟',\r\n    mm: '%d 分钟',\r\n    h: '1 小时',\r\n    hh: '%d 小时',\r\n    d: '1 天',\r\n    dd: '%d 天',\r\n    M: '1 个月',\r\n    MM: '%d 个月',\r\n    y: '1 年',\r\n    yy: '%d 年'\r\n  },\r\n  week: {\r\n    // GB/T 7408-1994《数据元和交换格式·信息交换·日期和时间表示法》与ISO 8601:1988等效\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Turkish [tr]\r\n//! authors : Erhan Gundogan : https://github.com/erhangundogan,\r\n//!           Burak Yiğit Kaya: https://github.com/BYK\r\n\r\nlet suffixes: { [key: string]: string } = {\r\n  1: '\\'inci',\r\n  5: '\\'inci',\r\n  8: '\\'inci',\r\n  70: '\\'inci',\r\n  80: '\\'inci',\r\n  2: '\\'nci',\r\n  7: '\\'nci',\r\n  20: '\\'nci',\r\n  50: '\\'nci',\r\n  3: '\\'üncü',\r\n  4: '\\'üncü',\r\n  100: '\\'üncü',\r\n  6: '\\'ncı',\r\n  9: '\\'uncu',\r\n  10: '\\'uncu',\r\n  30: '\\'uncu',\r\n  60: '\\'ıncı',\r\n  90: '\\'ıncı'\r\n};\r\n\r\nexport const trLocale: LocaleData = {\r\n  abbr: 'tr',\r\n  months: 'Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık'.split('_'),\r\n  monthsShort: 'Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara'.split('_'),\r\n  weekdays: 'Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi'.split('_'),\r\n  weekdaysShort: 'Paz_Pts_Sal_Çar_Per_Cum_Cts'.split('_'),\r\n  weekdaysMin: 'Pz_Pt_Sa_Ça_Pe_Cu_Ct'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'DD.MM.YYYY',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY HH:mm',\r\n    LLLL: 'dddd, D MMMM YYYY HH:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[bugün saat] LT',\r\n    nextDay: '[yarın saat] LT',\r\n    nextWeek: '[gelecek] dddd [saat] LT',\r\n    lastDay: '[dün] LT',\r\n    lastWeek: '[geçen] dddd [saat] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: '%s sonra',\r\n    past: '%s önce',\r\n    s: 'birkaç saniye',\r\n    ss: '%d saniye',\r\n    m: 'bir dakika',\r\n    mm: '%d dakika',\r\n    h: 'bir saat',\r\n    hh: '%d saat',\r\n    d: 'bir gün',\r\n    dd: '%d gün',\r\n    M: 'bir ay',\r\n    MM: '%d ay',\r\n    y: 'bir yıl',\r\n    yy: '%d yıl'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,\r\n  ordinal(_num: number): string {\r\n    const num = Number(_num);\r\n    if (num === 0) {  // special case for zero\r\n      return num + '\\'ıncı';\r\n    }\r\n    let a = num % 10,\r\n      b = num % 100 - a,\r\n      c = num >= 100 ? 100 : null;\r\n    return num + (suffixes[a] || suffixes[b] || suffixes[c]);\r\n  },\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 7  // The week that contains Jan 1st is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Hebrew [he]\r\n//! author : Tomer Cohen : https://github.com/tomer\r\n//! author : Moshe Simantov : https://github.com/DevelopmentIL\r\n//! author : Tal Ater : https://github.com/TalAter\r\n\r\nexport const heLocale: LocaleData = {\r\n  abbr: 'he',\r\n  months: 'ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר'.split('_'),\r\n  monthsShort: 'ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳'.split('_'),\r\n  weekdays: 'ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת'.split('_'),\r\n  weekdaysShort: 'א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳'.split('_'),\r\n  weekdaysMin: 'א_ב_ג_ד_ה_ו_ש'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'HH:mm',\r\n    LTS: 'HH:mm:ss',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D [ב]MMMM YYYY',\r\n    LLL: 'D [ב]MMMM YYYY HH:mm',\r\n    LLLL: 'dddd, D [ב]MMMM YYYY HH:mm',\r\n    l: 'D/M/YYYY',\r\n    ll: 'D MMM YYYY',\r\n    lll: 'D MMM YYYY HH:mm',\r\n    llll: 'ddd, D MMM YYYY HH:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[היום ב־]LT',\r\n    nextDay: '[מחר ב־]LT',\r\n    nextWeek: 'dddd [בשעה] LT',\r\n    lastDay: '[אתמול ב־]LT',\r\n    lastWeek: '[ביום] dddd [האחרון בשעה] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'בעוד %s',\r\n    past: 'לפני %s',\r\n    s: 'מספר שניות',\r\n    ss: '%d שניות',\r\n    m: 'דקה',\r\n    mm: '%d דקות',\r\n    h: 'שעה',\r\n    hh(num: number): string {\r\n      if (num === 2) {\r\n        return 'שעתיים';\r\n      }\r\n      return num + ' שעות';\r\n    },\r\n    d: 'יום',\r\n    dd(num: number): string {\r\n      if (num === 2) {\r\n        return 'יומיים';\r\n      }\r\n      return num + ' ימים';\r\n    },\r\n    M: 'חודש',\r\n    MM(num: number): string {\r\n      if (num === 2) {\r\n        return 'חודשיים';\r\n      }\r\n      return num + ' חודשים';\r\n    },\r\n    y: 'שנה',\r\n    yy(num: number): string {\r\n      if (num === 2) {\r\n        return 'שנתיים';\r\n      } else if (num % 10 === 0 && num !== 10) {\r\n        return num + ' שנה';\r\n      }\r\n      return num + ' שנים';\r\n    }\r\n  },\r\n  meridiemParse: /אחה\"צ|לפנה\"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,\r\n  isPM(input) {\r\n    return /^(אחה\"צ|אחרי הצהריים|בערב)$/.test(input);\r\n  },\r\n  meridiem(hour, minute, isLower) {\r\n    if (hour < 5) {\r\n      return 'לפנות בוקר';\r\n    } else if (hour < 10) {\r\n      return 'בבוקר';\r\n    } else if (hour < 12) {\r\n      return isLower ? 'לפנה\"צ' : 'לפני הצהריים';\r\n    } else if (hour < 18) {\r\n      return isLower ? 'אחה\"צ' : 'אחרי הצהריים';\r\n    } else {\r\n      return 'בערב';\r\n    }\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\n// moment.js locale configuration\r\n// locale : Thai [th]\r\n// author : Watcharapol Sanitwong : https://github.com/tumit\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\n\r\nexport const thLocale: LocaleData = {\r\n  abbr: 'th',\r\n  months: 'มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม'.split('_'),\r\n  monthsShort: 'ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.'.split('_'),\r\n  monthsParseExact: true,\r\n  weekdays: 'อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์'.split('_'),\r\n  weekdaysShort: 'อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์'.split('_'), // yes, three characters difference\r\n  weekdaysMin: 'อา._จ._อ._พ._พฤ._ศ._ส.'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'H:mm',\r\n    LTS: 'H:mm:ss',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D MMMM YYYY',\r\n    LLL: 'D MMMM YYYY เวลา H:mm',\r\n    LLLL: 'วันddddที่ D MMMM YYYY เวลา H:mm'\r\n  },\r\n  meridiemParse: /ก่อนเที่ยง|หลังเที่ยง/,\r\n  isPM(input) {\r\n    return input === 'หลังเที่ยง';\r\n  },\r\n  meridiem(hour, minute, isLower) {\r\n    if (hour < 12) {\r\n      return 'ก่อนเที่ยง';\r\n    } else {\r\n      return 'หลังเที่ยง';\r\n    }\r\n  },\r\n  calendar: {\r\n    sameDay: '[วันนี้ เวลา] LT',\r\n    nextDay: '[พรุ่งนี้ เวลา] LT',\r\n    nextWeek: 'dddd[หน้า เวลา] LT',\r\n    lastDay: '[เมื่อวานนี้ เวลา] LT',\r\n    lastWeek: '[วัน]dddd[ที่แล้ว เวลา] LT',\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'อีก %s',\r\n    past: '%sที่แล้ว',\r\n    s: 'ไม่กี่วินาที',\r\n    ss: '%d วินาที',\r\n    m: '1 นาที',\r\n    mm: '%d นาที',\r\n    h: '1 ชั่วโมง',\r\n    hh: '%d ชั่วโมง',\r\n    d: '1 วัน',\r\n    dd: '%d วัน',\r\n    M: '1 เดือน',\r\n    MM: '%d เดือน',\r\n    y: '1 ปี',\r\n    yy: '%d ปี'\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n// tslint:disable:object-literal-key-quotes\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getDayOfWeek } from '../units/day-of-week';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Slovenian [sl]\r\n//! author : mihan : https://github.com/mihan\r\n\r\nfunction processRelativeTime(number: number, withoutSuffix: boolean, key: string, isFuture: boolean): string {\r\n  var result = number + ' ';\r\n  switch (key) {\r\n    case 's':\r\n      return withoutSuffix || isFuture ? 'nekaj sekund' : 'nekaj sekundami';\r\n    case 'ss':\r\n      if (number === 1) {\r\n        result += withoutSuffix ? 'sekundo' : 'sekundi';\r\n      } else if (number === 2) {\r\n        result += withoutSuffix || isFuture ? 'sekundi' : 'sekundah';\r\n      } else if (number < 5) {\r\n        result += withoutSuffix || isFuture ? 'sekunde' : 'sekundah';\r\n      } else {\r\n        result += withoutSuffix || isFuture ? 'sekund' : 'sekund';\r\n      }\r\n      return result;\r\n    case 'm':\r\n      return withoutSuffix ? 'ena minuta' : 'eno minuto';\r\n    case 'mm':\r\n      if (number === 1) {\r\n        result += withoutSuffix ? 'minuta' : 'minuto';\r\n      } else if (number === 2) {\r\n        result += withoutSuffix || isFuture ? 'minuti' : 'minutama';\r\n      } else if (number < 5) {\r\n        result += withoutSuffix || isFuture ? 'minute' : 'minutami';\r\n      } else {\r\n        result += withoutSuffix || isFuture ? 'minut' : 'minutami';\r\n      }\r\n      return result;\r\n    case 'h':\r\n      return withoutSuffix ? 'ena ura' : 'eno uro';\r\n    case 'hh':\r\n      if (number === 1) {\r\n        result += withoutSuffix ? 'ura' : 'uro';\r\n      } else if (number === 2) {\r\n        result += withoutSuffix || isFuture ? 'uri' : 'urama';\r\n      } else if (number < 5) {\r\n        result += withoutSuffix || isFuture ? 'ure' : 'urami';\r\n      } else {\r\n        result += withoutSuffix || isFuture ? 'ur' : 'urami';\r\n      }\r\n      return result;\r\n    case 'd':\r\n      return withoutSuffix || isFuture ? 'en dan' : 'enim dnem';\r\n    case 'dd':\r\n      if (number === 1) {\r\n        result += withoutSuffix || isFuture ? 'dan' : 'dnem';\r\n      } else if (number === 2) {\r\n        result += withoutSuffix || isFuture ? 'dni' : 'dnevoma';\r\n      } else {\r\n        result += withoutSuffix || isFuture ? 'dni' : 'dnevi';\r\n      }\r\n      return result;\r\n    case 'M':\r\n      return withoutSuffix || isFuture ? 'en mesec' : 'enim mesecem';\r\n    case 'MM':\r\n      if (number === 1) {\r\n        result += withoutSuffix || isFuture ? 'mesec' : 'mesecem';\r\n      } else if (number === 2) {\r\n        result += withoutSuffix || isFuture ? 'meseca' : 'mesecema';\r\n      } else if (number < 5) {\r\n        result += withoutSuffix || isFuture ? 'mesece' : 'meseci';\r\n      } else {\r\n        result += withoutSuffix || isFuture ? 'mesecev' : 'meseci';\r\n      }\r\n      return result;\r\n    case 'y':\r\n      return withoutSuffix || isFuture ? 'eno leto' : 'enim letom';\r\n    case 'yy':\r\n      if (number === 1) {\r\n        result += withoutSuffix || isFuture ? 'leto' : 'letom';\r\n      } else if (number === 2) {\r\n        result += withoutSuffix || isFuture ? 'leti' : 'letoma';\r\n      } else if (number < 5) {\r\n        result += withoutSuffix || isFuture ? 'leta' : 'leti';\r\n      } else {\r\n        result += withoutSuffix || isFuture ? 'let' : 'leti';\r\n      }\r\n      return result;\r\n  }\r\n}\r\n\r\nexport const slLocale: LocaleData = {\r\n  abbr: 'sl',\r\n  months: 'januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december'.split('_'),\r\n  monthsShort: 'jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.'.split('_'),\r\n  monthsParseExact: true,\r\n  weekdays: 'nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota'.split('_'),\r\n  weekdaysShort: 'ned._pon._tor._sre._čet._pet._sob.'.split('_'),\r\n  weekdaysMin: 'ne_po_to_sr_če_pe_so'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'H:mm',\r\n    LTS: 'H:mm:ss',\r\n    L: 'DD.MM.YYYY',\r\n    LL: 'D. MMMM YYYY',\r\n    LLL: 'D. MMMM YYYY H:mm',\r\n    LLLL: 'dddd, D. MMMM YYYY H:mm'\r\n  },\r\n  calendar: {\r\n    sameDay: '[danes ob] LT',\r\n    nextDay: '[jutri ob] LT',\r\n\r\n    nextWeek(date: Date) {\r\n      switch (getDayOfWeek(date)) {\r\n        case 0:\r\n          return '[v] [nedeljo] [ob] LT';\r\n        case 3:\r\n          return '[v] [sredo] [ob] LT';\r\n        case 6:\r\n          return '[v] [soboto] [ob] LT';\r\n        case 1:\r\n        case 2:\r\n        case 4:\r\n        case 5:\r\n          return '[v] dddd [ob] LT';\r\n      }\r\n    },\r\n    lastDay: '[včeraj ob] LT',\r\n    lastWeek(date: Date) {\r\n      switch (getDayOfWeek(date)) {\r\n        case 0:\r\n          return '[prejšnjo] [nedeljo] [ob] LT';\r\n        case 3:\r\n          return '[prejšnjo] [sredo] [ob] LT';\r\n        case 6:\r\n          return '[prejšnjo] [soboto] [ob] LT';\r\n        case 1:\r\n        case 2:\r\n        case 4:\r\n        case 5:\r\n          return '[prejšnji] dddd [ob] LT';\r\n      }\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'čez %s',\r\n    past: 'pred %s',\r\n    s: processRelativeTime,\r\n    ss: processRelativeTime,\r\n    m: processRelativeTime,\r\n    mm: processRelativeTime,\r\n    h: processRelativeTime,\r\n    hh: processRelativeTime,\r\n    d: processRelativeTime,\r\n    dd: processRelativeTime,\r\n    M: processRelativeTime,\r\n    MM: processRelativeTime,\r\n    y: processRelativeTime,\r\n    yy: processRelativeTime\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}\\./,\r\n  ordinal: '%d.',\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 7  // The week that contains Jan 1st is the first week of the year.\r\n  }\r\n};\r\n","// tslint:disable:comment-format binary-expression-operand-order max-line-length\r\n// tslint:disable:no-bitwise prefer-template cyclomatic-complexity\r\n// tslint:disable:no-shadowed-variable switch-default prefer-const\r\n// tslint:disable:one-variable-per-declaration newline-before-return\r\n\r\nimport { LocaleData } from '../locale/locale.class';\r\nimport { getHours, getMonth } from '../utils/date-getters';\r\n\r\n//! moment.js locale configuration\r\n//! locale : Galician [gl]\r\n//! author : Darío Beiró : https://github.com/quinobravo\r\n\r\nlet monthsShortDot = 'xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.'.split('_'),\r\n  monthsShort = 'xan_feb_mar_abr_mai_xuñ_xul_ago_set_out_nov_dec'.split('_');\r\n\r\nlet monthsParse = [/^xan/i, /^feb/i, /^mar/i, /^abr/i, /^mai/i, /^xuñ/i, /^xul/i, /^ago/i, /^set/i, /^out/i, /^nov/i, /^dec/i];\r\nlet monthsRegex = /^(xaneiro|febreiro|marzo|abril|maio|xuño|xullo|agosto|setembro|outubro|novembro|decembro|xan\\.?|feb\\.?|mar\\.?|abr\\.?|mai\\.?|xuñ\\.?|xul\\.?|ago\\.?|set\\.?|out\\.?|nov\\.?|dec\\.?)/i;\r\n\r\nexport const glLocale: LocaleData = {\r\n  abbr: 'gl',\r\n  months: 'xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro'.split('_'),\r\n  monthsShort(date: Date, format: string, isUTC?: boolean): string | string[] {\r\n    if (!date) {\r\n      return monthsShortDot;\r\n    }\r\n\r\n    if (/-MMM-/.test(format)) {\r\n      return monthsShort[getMonth(date, isUTC)];\r\n    }\r\n\r\n    return monthsShortDot[getMonth(date, isUTC)];\r\n  },\r\n  monthsRegex,\r\n  monthsShortRegex: monthsRegex,\r\n  monthsStrictRegex: /^(xaneiro|febreiro|marzo|abril|maio|xuño|xullo|agosto|setembro|outubro|novembro|decembro)/i,\r\n  monthsShortStrictRegex: /^(xan\\.?|feb\\.?|mar\\.?|abr\\.?|mai\\.?|xuñ\\.?|xul\\.?|ago\\.?|set\\.?|out\\.?|nov\\.?|dec\\.?)/i,\r\n  monthsParse,\r\n  longMonthsParse: monthsParse,\r\n  shortMonthsParse: monthsParse,\r\n  weekdays: 'domingo_luns_martes_mércores_xoves_venres_sábado'.split('_'),\r\n  weekdaysShort: 'dom._lun._mar._mér._xov._ven._sáb.'.split('_'),\r\n  weekdaysMin: 'do_lu_ma_mé_xo_ve_sá'.split('_'),\r\n  weekdaysParseExact: true,\r\n  longDateFormat: {\r\n    LT: 'H:mm',\r\n    LTS: 'H:mm:ss',\r\n    L: 'DD/MM/YYYY',\r\n    LL: 'D [de] MMMM [de] YYYY',\r\n    LLL: 'D [de] MMMM [de] YYYY H:mm',\r\n    LLLL: 'dddd, D [de] MMMM [de] YYYY H:mm'\r\n  },\r\n  calendar: {\r\n    sameDay(date: Date) {\r\n      return '[hoxe á' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    nextDay(date: Date) {\r\n      return '[mañan á' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    nextWeek(date: Date) {\r\n      return 'dddd [á' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    lastDay(date: Date) {\r\n      return '[onte á' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    lastWeek(date: Date) {\r\n      return '[o] dddd [pasado á' + ((getHours(date) !== 1) ? 's' : '') + '] LT';\r\n    },\r\n    sameElse: 'L'\r\n  },\r\n  relativeTime: {\r\n    future: 'en %s',\r\n    past: 'fai %s',\r\n    s: 'uns segundos',\r\n    ss: '%d segundos',\r\n    m: 'un minuto',\r\n    mm: '%d minutos',\r\n    h: 'unha hora',\r\n    hh: '%d horas',\r\n    d: 'un día',\r\n    dd: '%d días',\r\n    M: 'un mes',\r\n    MM: '%d meses',\r\n    y: 'un ano',\r\n    yy: '%d anos'\r\n  },\r\n  dayOfMonthOrdinalParse: /\\d{1,2}º/,\r\n  ordinal: '%dº',\r\n  week: {\r\n    dow: 1, // Monday is the first day of the week.\r\n    doy: 4  // The week that contains Jan 4th is the first week of the year.\r\n  }\r\n};\r\n"],"sourceRoot":""}